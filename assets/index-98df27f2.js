function a9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function R2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ov={},l9={get exports(){return ov},set exports(t){ov=t}},D2={},b={},u9={get exports(){return b},set exports(t){b=t}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1=Symbol.for("react.element"),c9=Symbol.for("react.portal"),f9=Symbol.for("react.fragment"),d9=Symbol.for("react.strict_mode"),h9=Symbol.for("react.profiler"),p9=Symbol.for("react.provider"),m9=Symbol.for("react.context"),g9=Symbol.for("react.forward_ref"),v9=Symbol.for("react.suspense"),y9=Symbol.for("react.memo"),x9=Symbol.for("react.lazy"),d5=Symbol.iterator;function _9(t){return t===null||typeof t!="object"?null:(t=d5&&t[d5]||t["@@iterator"],typeof t=="function"?t:null)}var c8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f8=Object.assign,d8={};function Wm(t,e,n){this.props=t,this.context=e,this.refs=d8,this.updater=n||c8}Wm.prototype.isReactComponent={};Wm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h8(){}h8.prototype=Wm.prototype;function V4(t,e,n){this.props=t,this.context=e,this.refs=d8,this.updater=n||c8}var G4=V4.prototype=new h8;G4.constructor=V4;f8(G4,Wm.prototype);G4.isPureReactComponent=!0;var h5=Array.isArray,p8=Object.prototype.hasOwnProperty,W4={current:null},m8={key:!0,ref:!0,__self:!0,__source:!0};function g8(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)p8.call(e,r)&&!m8.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:t1,type:t,key:s,ref:o,props:i,_owner:W4.current}}function w9(t,e){return{$$typeof:t1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function j4(t){return typeof t=="object"&&t!==null&&t.$$typeof===t1}function E9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var p5=/\/+/g;function K3(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E9(""+t.key):e.toString(36)}function jx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case t1:case c9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+K3(o,0):r,h5(i)?(n="",t!=null&&(n=t.replace(p5,"$&/")+"/"),jx(i,e,n,"",function(u){return u})):i!=null&&(j4(i)&&(i=w9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(p5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",h5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+K3(s,a);o+=jx(s,e,n,l,i)}else if(l=_9(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+K3(s,a++),o+=jx(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hy(t,e,n){if(t==null)return t;var r=[],i=0;return jx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function S9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ls={current:null},Yx={transition:null},A9={ReactCurrentDispatcher:Ls,ReactCurrentBatchConfig:Yx,ReactCurrentOwner:W4};gn.Children={map:hy,forEach:function(t,e,n){hy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hy(t,function(){e++}),e},toArray:function(t){return hy(t,function(e){return e})||[]},only:function(t){if(!j4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gn.Component=Wm;gn.Fragment=f9;gn.Profiler=h9;gn.PureComponent=V4;gn.StrictMode=d9;gn.Suspense=v9;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A9;gn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=f8({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=W4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)p8.call(e,l)&&!m8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:t1,type:t.type,key:i,ref:s,props:r,_owner:o}};gn.createContext=function(t){return t={$$typeof:m9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:p9,_context:t},t.Consumer=t};gn.createElement=g8;gn.createFactory=function(t){var e=g8.bind(null,t);return e.type=t,e};gn.createRef=function(){return{current:null}};gn.forwardRef=function(t){return{$$typeof:g9,render:t}};gn.isValidElement=j4;gn.lazy=function(t){return{$$typeof:x9,_payload:{_status:-1,_result:t},_init:S9}};gn.memo=function(t,e){return{$$typeof:y9,type:t,compare:e===void 0?null:e}};gn.startTransition=function(t){var e=Yx.transition;Yx.transition={};try{t()}finally{Yx.transition=e}};gn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gn.useCallback=function(t,e){return Ls.current.useCallback(t,e)};gn.useContext=function(t){return Ls.current.useContext(t)};gn.useDebugValue=function(){};gn.useDeferredValue=function(t){return Ls.current.useDeferredValue(t)};gn.useEffect=function(t,e){return Ls.current.useEffect(t,e)};gn.useId=function(){return Ls.current.useId()};gn.useImperativeHandle=function(t,e,n){return Ls.current.useImperativeHandle(t,e,n)};gn.useInsertionEffect=function(t,e){return Ls.current.useInsertionEffect(t,e)};gn.useLayoutEffect=function(t,e){return Ls.current.useLayoutEffect(t,e)};gn.useMemo=function(t,e){return Ls.current.useMemo(t,e)};gn.useReducer=function(t,e,n){return Ls.current.useReducer(t,e,n)};gn.useRef=function(t){return Ls.current.useRef(t)};gn.useState=function(t){return Ls.current.useState(t)};gn.useSyncExternalStore=function(t,e,n){return Ls.current.useSyncExternalStore(t,e,n)};gn.useTransition=function(){return Ls.current.useTransition()};gn.version="18.2.0";(function(t){t.exports=gn})(u9);const ee=R2(b),w_=a9({__proto__:null,default:ee},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M9=b,b9=Symbol.for("react.element"),T9=Symbol.for("react.fragment"),C9=Object.prototype.hasOwnProperty,P9=M9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R9={key:!0,ref:!0,__self:!0,__source:!0};function v8(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)C9.call(e,r)&&!R9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:b9,type:t,key:s,ref:o,props:i,_owner:P9.current}}D2.Fragment=T9;D2.jsx=v8;D2.jsxs=v8;(function(t){t.exports=D2})(l9);const Xr=ov.Fragment,H=ov.jsx,Be=ov.jsxs;var lS={},E_={},D9={get exports(){return E_},set exports(t){E_=t}},Po={},uS={},I9={get exports(){return uS},set exports(t){uS=t}},y8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,te){var re=G.length;G.push(te);e:for(;0<re;){var V=re-1>>>1,J=G[V];if(0<i(J,te))G[V]=te,G[re]=J,re=V;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],re=G.pop();if(re!==te){G[0]=re;e:for(var V=0,J=G.length,he=J>>>1;V<he;){var we=2*(V+1)-1,be=G[we],pe=we+1,Ke=G[pe];if(0>i(be,re))pe<J&&0>i(Ke,be)?(G[V]=Ke,G[pe]=re,V=pe):(G[V]=be,G[we]=re,V=we);else if(pe<J&&0>i(Ke,re))G[V]=Ke,G[pe]=re,V=pe;else break e}}return te}function i(G,te){var re=G.sortIndex-te.sortIndex;return re!==0?re:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,g=3,v=!1,x=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=G)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function C(G){if(y=!1,M(G),!x)if(n(l)!==null)x=!0,se(R);else{var te=n(u);te!==null&&de(C,te.startTime-G)}}function R(G,te){x=!1,y&&(y=!1,E(P),P=-1),v=!0;var re=g;try{for(M(te),h=n(l);h!==null&&(!(h.expirationTime>te)||G&&!q());){var V=h.callback;if(typeof V=="function"){h.callback=null,g=h.priorityLevel;var J=V(h.expirationTime<=te);te=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),M(te)}else r(l);h=n(l)}if(h!==null)var he=!0;else{var we=n(u);we!==null&&de(C,we.startTime-te),he=!1}return he}finally{h=null,g=re,v=!1}}var O=!1,k=null,P=-1,z=5,B=-1;function q(){return!(t.unstable_now()-B<z)}function Q(){if(k!==null){var G=t.unstable_now();B=G;var te=!0;try{te=k(!0,G)}finally{te?W():(O=!1,k=null)}}else O=!1}var W;if(typeof w=="function")W=function(){w(Q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=Q,W=function(){ne.postMessage(null)}}else W=function(){_(Q,0)};function se(G){k=G,O||(O=!0,W())}function de(G,te){P=_(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,se(R))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var re=g;g=te;try{return G()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=g;g=G;try{return te()}finally{g=re}},t.unstable_scheduleCallback=function(G,te,re){var V=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,G={id:c++,callback:te,priorityLevel:G,startTime:re,expirationTime:J,sortIndex:-1},re>V?(G.sortIndex=re,e(u,G),n(l)===null&&G===n(u)&&(y?(E(P),P=-1):y=!0,de(C,re-V))):(G.sortIndex=J,e(l,G),x||v||(x=!0,se(R))),G},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(G){var te=g;return function(){var re=g;g=te;try{return G.apply(this,arguments)}finally{g=re}}}})(y8);(function(t){t.exports=y8})(I9);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x8=b,Mo=uS;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _8=new Set,av={};function hh(t,e){wm(t,e),wm(t+"Capture",e)}function wm(t,e){for(av[t]=e,t=0;t<e.length;t++)_8.add(e[t])}var wu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cS=Object.prototype.hasOwnProperty,O9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m5={},g5={};function L9(t){return cS.call(g5,t)?!0:cS.call(m5,t)?!1:O9.test(t)?g5[t]=!0:(m5[t]=!0,!1)}function k9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N9(t,e,n,r){if(e===null||typeof e>"u"||k9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ks(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ki[t]=new ks(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ki[e]=new ks(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ki[t]=new ks(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ki[t]=new ks(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ki[t]=new ks(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ki[t]=new ks(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ki[t]=new ks(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ki[t]=new ks(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ki[t]=new ks(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y4=/[\-:]([a-z])/g;function Q4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y4,Q4);Ki[e]=new ks(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y4,Q4);Ki[e]=new ks(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y4,Q4);Ki[e]=new ks(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ki[t]=new ks(t,1,!1,t.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new ks("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ki[t]=new ks(t,1,!1,t.toLowerCase(),null,!0,!0)});function X4(t,e,n,r){var i=Ki.hasOwnProperty(e)?Ki[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N9(e,n,i,r)&&(n=null),r||i===null?L9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ru=x8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,py=Symbol.for("react.element"),Qp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),K4=Symbol.for("react.strict_mode"),fS=Symbol.for("react.profiler"),w8=Symbol.for("react.provider"),E8=Symbol.for("react.context"),$4=Symbol.for("react.forward_ref"),dS=Symbol.for("react.suspense"),hS=Symbol.for("react.suspense_list"),Z4=Symbol.for("react.memo"),Ec=Symbol.for("react.lazy"),S8=Symbol.for("react.offscreen"),v5=Symbol.iterator;function jg(t){return t===null||typeof t!="object"?null:(t=v5&&t[v5]||t["@@iterator"],typeof t=="function"?t:null)}var Mr=Object.assign,$3;function P0(t){if($3===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$3=e&&e[1]||""}return`
`+$3+t}var Z3=!1;function J3(t,e){if(!t||Z3)return"";Z3=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Z3=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?P0(t):""}function z9(t){switch(t.tag){case 5:return P0(t.type);case 16:return P0("Lazy");case 13:return P0("Suspense");case 19:return P0("SuspenseList");case 0:case 2:case 15:return t=J3(t.type,!1),t;case 11:return t=J3(t.type.render,!1),t;case 1:return t=J3(t.type,!0),t;default:return""}}function pS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xp:return"Fragment";case Qp:return"Portal";case fS:return"Profiler";case K4:return"StrictMode";case dS:return"Suspense";case hS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E8:return(t.displayName||"Context")+".Consumer";case w8:return(t._context.displayName||"Context")+".Provider";case $4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z4:return e=t.displayName||null,e!==null?e:pS(t.type)||"Memo";case Ec:e=t._payload,t=t._init;try{return pS(t(e))}catch{}}return null}function B9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pS(e);case 8:return e===K4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F9(t){var e=A8(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function my(t){t._valueTracker||(t._valueTracker=F9(t))}function M8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A8(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function S_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mS(t,e){var n=e.checked;return Mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function y5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b8(t,e){e=e.checked,e!=null&&X4(t,"checked",e,!1)}function gS(t,e){b8(t,e);var n=Yc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vS(t,e.type,n):e.hasOwnProperty("defaultValue")&&vS(t,e.type,Yc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vS(t,e,n){(e!=="number"||S_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var R0=Array.isArray;function pm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return Mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(R0(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yc(n)}}function T8(t,e){var n=Yc(e.value),r=Yc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gy,P8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gy=gy||document.createElement("div"),gy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var B0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U9=["Webkit","ms","Moz","O"];Object.keys(B0).forEach(function(t){U9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),B0[e]=B0[t]})});function R8(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||B0.hasOwnProperty(t)&&B0[t]?(""+e).trim():e+"px"}function D8(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=R8(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var H9=Mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _S(t,e){if(e){if(H9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function wS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=null;function J4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var SS=null,mm=null,gm=null;function E5(t){if(t=i1(t)){if(typeof SS!="function")throw Error(je(280));var e=t.stateNode;e&&(e=N2(e),SS(t.stateNode,t.type,e))}}function I8(t){mm?gm?gm.push(t):gm=[t]:mm=t}function O8(){if(mm){var t=mm,e=gm;if(gm=mm=null,E5(t),e)for(t=0;t<e.length;t++)E5(e[t])}}function L8(t,e){return t(e)}function k8(){}var ew=!1;function N8(t,e,n){if(ew)return t(e,n);ew=!0;try{return L8(t,e,n)}finally{ew=!1,(mm!==null||gm!==null)&&(k8(),O8())}}function uv(t,e){var n=t.stateNode;if(n===null)return null;var r=N2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var AS=!1;if(wu)try{var Yg={};Object.defineProperty(Yg,"passive",{get:function(){AS=!0}}),window.addEventListener("test",Yg,Yg),window.removeEventListener("test",Yg,Yg)}catch{AS=!1}function q9(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var F0=!1,A_=null,M_=!1,MS=null,V9={onError:function(t){F0=!0,A_=t}};function G9(t,e,n,r,i,s,o,a,l){F0=!1,A_=null,q9.apply(V9,arguments)}function W9(t,e,n,r,i,s,o,a,l){if(G9.apply(this,arguments),F0){if(F0){var u=A_;F0=!1,A_=null}else throw Error(je(198));M_||(M_=!0,MS=u)}}function ph(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S5(t){if(ph(t)!==t)throw Error(je(188))}function j9(t){var e=t.alternate;if(!e){if(e=ph(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S5(i),t;if(s===r)return S5(i),e;s=s.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function B8(t){return t=j9(t),t!==null?F8(t):null}function F8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F8(t);if(e!==null)return e;t=t.sibling}return null}var U8=Mo.unstable_scheduleCallback,A5=Mo.unstable_cancelCallback,Y9=Mo.unstable_shouldYield,Q9=Mo.unstable_requestPaint,Ur=Mo.unstable_now,X9=Mo.unstable_getCurrentPriorityLevel,eM=Mo.unstable_ImmediatePriority,H8=Mo.unstable_UserBlockingPriority,b_=Mo.unstable_NormalPriority,K9=Mo.unstable_LowPriority,q8=Mo.unstable_IdlePriority,I2=null,ml=null;function $9(t){if(ml&&typeof ml.onCommitFiberRoot=="function")try{ml.onCommitFiberRoot(I2,t,void 0,(t.current.flags&128)===128)}catch{}}var La=Math.clz32?Math.clz32:eF,Z9=Math.log,J9=Math.LN2;function eF(t){return t>>>=0,t===0?32:31-(Z9(t)/J9|0)|0}var vy=64,yy=4194304;function D0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function T_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=D0(a):(s&=o,s!==0&&(r=D0(s)))}else o=n&~i,o!==0?r=D0(o):s!==0&&(r=D0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-La(e),i=1<<n,r|=t[n],e&=~i;return r}function tF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-La(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V8(){var t=vy;return vy<<=1,!(vy&4194240)&&(vy=64),t}function tw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function n1(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-La(e),t[e]=n}function rF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-La(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-La(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Bn=0;function G8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W8,nM,j8,Y8,Q8,TS=!1,xy=[],kc=null,Nc=null,zc=null,cv=new Map,fv=new Map,bc=[],iF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M5(t,e){switch(t){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":Nc=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":cv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fv.delete(e.pointerId)}}function Qg(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=i1(e),e!==null&&nM(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sF(t,e,n,r,i){switch(e){case"focusin":return kc=Qg(kc,t,e,n,r,i),!0;case"dragenter":return Nc=Qg(Nc,t,e,n,r,i),!0;case"mouseover":return zc=Qg(zc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cv.set(s,Qg(cv.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fv.set(s,Qg(fv.get(s)||null,t,e,n,r,i)),!0}return!1}function X8(t){var e=Cd(t.target);if(e!==null){var n=ph(e);if(n!==null){if(e=n.tag,e===13){if(e=z8(n),e!==null){t.blockedOn=e,Q8(t.priority,function(){j8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=CS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ES=r,n.target.dispatchEvent(r),ES=null}else return e=i1(n),e!==null&&nM(e),t.blockedOn=n,!1;e.shift()}return!0}function b5(t,e,n){Qx(t)&&n.delete(e)}function oF(){TS=!1,kc!==null&&Qx(kc)&&(kc=null),Nc!==null&&Qx(Nc)&&(Nc=null),zc!==null&&Qx(zc)&&(zc=null),cv.forEach(b5),fv.forEach(b5)}function Xg(t,e){t.blockedOn===e&&(t.blockedOn=null,TS||(TS=!0,Mo.unstable_scheduleCallback(Mo.unstable_NormalPriority,oF)))}function dv(t){function e(i){return Xg(i,t)}if(0<xy.length){Xg(xy[0],t);for(var n=1;n<xy.length;n++){var r=xy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kc!==null&&Xg(kc,t),Nc!==null&&Xg(Nc,t),zc!==null&&Xg(zc,t),cv.forEach(e),fv.forEach(e),n=0;n<bc.length;n++)r=bc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bc.length&&(n=bc[0],n.blockedOn===null);)X8(n),n.blockedOn===null&&bc.shift()}var vm=Ru.ReactCurrentBatchConfig,C_=!0;function aF(t,e,n,r){var i=Bn,s=vm.transition;vm.transition=null;try{Bn=1,rM(t,e,n,r)}finally{Bn=i,vm.transition=s}}function lF(t,e,n,r){var i=Bn,s=vm.transition;vm.transition=null;try{Bn=4,rM(t,e,n,r)}finally{Bn=i,vm.transition=s}}function rM(t,e,n,r){if(C_){var i=CS(t,e,n,r);if(i===null)fw(t,e,r,P_,n),M5(t,r);else if(sF(i,t,e,n,r))r.stopPropagation();else if(M5(t,r),e&4&&-1<iF.indexOf(t)){for(;i!==null;){var s=i1(i);if(s!==null&&W8(s),s=CS(t,e,n,r),s===null&&fw(t,e,r,P_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fw(t,e,r,null,n)}}var P_=null;function CS(t,e,n,r){if(P_=null,t=J4(r),t=Cd(t),t!==null)if(e=ph(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return P_=t,null}function K8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X9()){case eM:return 1;case H8:return 4;case b_:case K9:return 16;case q8:return 536870912;default:return 16}default:return 16}}var Pc=null,iM=null,Xx=null;function $8(){if(Xx)return Xx;var t,e=iM,n=e.length,r,i="value"in Pc?Pc.value:Pc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xx=i.slice(t,1<r?1-r:void 0)}function Kx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _y(){return!0}function T5(){return!1}function Ro(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_y:T5,this.isPropagationStopped=T5,this}return Mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_y)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_y)},persist:function(){},isPersistent:_y}),e}var jm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sM=Ro(jm),r1=Mr({},jm,{view:0,detail:0}),uF=Ro(r1),nw,rw,Kg,O2=Mr({},r1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kg&&(Kg&&t.type==="mousemove"?(nw=t.screenX-Kg.screenX,rw=t.screenY-Kg.screenY):rw=nw=0,Kg=t),nw)},movementY:function(t){return"movementY"in t?t.movementY:rw}}),C5=Ro(O2),cF=Mr({},O2,{dataTransfer:0}),fF=Ro(cF),dF=Mr({},r1,{relatedTarget:0}),iw=Ro(dF),hF=Mr({},jm,{animationName:0,elapsedTime:0,pseudoElement:0}),pF=Ro(hF),mF=Mr({},jm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gF=Ro(mF),vF=Mr({},jm,{data:0}),P5=Ro(vF),yF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_F={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_F[t])?!!e[t]:!1}function oM(){return wF}var EF=Mr({},r1,{key:function(t){if(t.key){var e=yF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oM,charCode:function(t){return t.type==="keypress"?Kx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SF=Ro(EF),AF=Mr({},O2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R5=Ro(AF),MF=Mr({},r1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oM}),bF=Ro(MF),TF=Mr({},jm,{propertyName:0,elapsedTime:0,pseudoElement:0}),CF=Ro(TF),PF=Mr({},O2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RF=Ro(PF),DF=[9,13,27,32],aM=wu&&"CompositionEvent"in window,U0=null;wu&&"documentMode"in document&&(U0=document.documentMode);var IF=wu&&"TextEvent"in window&&!U0,Z8=wu&&(!aM||U0&&8<U0&&11>=U0),D5=String.fromCharCode(32),I5=!1;function J8(t,e){switch(t){case"keyup":return DF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kp=!1;function OF(t,e){switch(t){case"compositionend":return eI(e);case"keypress":return e.which!==32?null:(I5=!0,D5);case"textInput":return t=e.data,t===D5&&I5?null:t;default:return null}}function LF(t,e){if(Kp)return t==="compositionend"||!aM&&J8(t,e)?(t=$8(),Xx=iM=Pc=null,Kp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z8&&e.locale!=="ko"?null:e.data;default:return null}}var kF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kF[t.type]:e==="textarea"}function tI(t,e,n,r){I8(r),e=R_(e,"onChange"),0<e.length&&(n=new sM("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var H0=null,hv=null;function NF(t){dI(t,0)}function L2(t){var e=Jp(t);if(M8(e))return t}function zF(t,e){if(t==="change")return e}var nI=!1;if(wu){var sw;if(wu){var ow="oninput"in document;if(!ow){var L5=document.createElement("div");L5.setAttribute("oninput","return;"),ow=typeof L5.oninput=="function"}sw=ow}else sw=!1;nI=sw&&(!document.documentMode||9<document.documentMode)}function k5(){H0&&(H0.detachEvent("onpropertychange",rI),hv=H0=null)}function rI(t){if(t.propertyName==="value"&&L2(hv)){var e=[];tI(e,hv,t,J4(t)),N8(NF,e)}}function BF(t,e,n){t==="focusin"?(k5(),H0=e,hv=n,H0.attachEvent("onpropertychange",rI)):t==="focusout"&&k5()}function FF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return L2(hv)}function UF(t,e){if(t==="click")return L2(e)}function HF(t,e){if(t==="input"||t==="change")return L2(e)}function qF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ba=typeof Object.is=="function"?Object.is:qF;function pv(t,e){if(Ba(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cS.call(e,i)||!Ba(t[i],e[i]))return!1}return!0}function N5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z5(t,e){var n=N5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=N5(n)}}function iI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sI(){for(var t=window,e=S_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=S_(t.document)}return e}function lM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VF(t){var e=sI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iI(n.ownerDocument.documentElement,n)){if(r!==null&&lM(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=z5(n,s);var o=z5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GF=wu&&"documentMode"in document&&11>=document.documentMode,$p=null,PS=null,q0=null,RS=!1;function B5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;RS||$p==null||$p!==S_(r)||(r=$p,"selectionStart"in r&&lM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),q0&&pv(q0,r)||(q0=r,r=R_(PS,"onSelect"),0<r.length&&(e=new sM("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$p)))}function wy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zp={animationend:wy("Animation","AnimationEnd"),animationiteration:wy("Animation","AnimationIteration"),animationstart:wy("Animation","AnimationStart"),transitionend:wy("Transition","TransitionEnd")},aw={},oI={};wu&&(oI=document.createElement("div").style,"AnimationEvent"in window||(delete Zp.animationend.animation,delete Zp.animationiteration.animation,delete Zp.animationstart.animation),"TransitionEvent"in window||delete Zp.transitionend.transition);function k2(t){if(aw[t])return aw[t];if(!Zp[t])return t;var e=Zp[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oI)return aw[t]=e[n];return t}var aI=k2("animationend"),lI=k2("animationiteration"),uI=k2("animationstart"),cI=k2("transitionend"),fI=new Map,F5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function of(t,e){fI.set(t,e),hh(e,[t])}for(var lw=0;lw<F5.length;lw++){var uw=F5[lw],WF=uw.toLowerCase(),jF=uw[0].toUpperCase()+uw.slice(1);of(WF,"on"+jF)}of(aI,"onAnimationEnd");of(lI,"onAnimationIteration");of(uI,"onAnimationStart");of("dblclick","onDoubleClick");of("focusin","onFocus");of("focusout","onBlur");of(cI,"onTransitionEnd");wm("onMouseEnter",["mouseout","mouseover"]);wm("onMouseLeave",["mouseout","mouseover"]);wm("onPointerEnter",["pointerout","pointerover"]);wm("onPointerLeave",["pointerout","pointerover"]);hh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hh("onBeforeInput",["compositionend","keypress","textInput","paste"]);hh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var I0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YF=new Set("cancel close invalid load scroll toggle".split(" ").concat(I0));function U5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W9(r,e,void 0,t),t.currentTarget=null}function dI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;U5(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;U5(i,a,u),s=l}}}if(M_)throw t=MS,M_=!1,MS=null,t}function sr(t,e){var n=e[kS];n===void 0&&(n=e[kS]=new Set);var r=t+"__bubble";n.has(r)||(hI(e,t,2,!1),n.add(r))}function cw(t,e,n){var r=0;e&&(r|=4),hI(n,t,r,e)}var Ey="_reactListening"+Math.random().toString(36).slice(2);function mv(t){if(!t[Ey]){t[Ey]=!0,_8.forEach(function(n){n!=="selectionchange"&&(YF.has(n)||cw(n,!1,t),cw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ey]||(e[Ey]=!0,cw("selectionchange",!1,e))}}function hI(t,e,n,r){switch(K8(e)){case 1:var i=aF;break;case 4:i=lF;break;default:i=rM}n=i.bind(null,e,n,t),i=void 0,!AS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cd(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}N8(function(){var u=s,c=J4(n),h=[];e:{var g=fI.get(t);if(g!==void 0){var v=sM,x=t;switch(t){case"keypress":if(Kx(n)===0)break e;case"keydown":case"keyup":v=SF;break;case"focusin":x="focus",v=iw;break;case"focusout":x="blur",v=iw;break;case"beforeblur":case"afterblur":v=iw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=C5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bF;break;case aI:case lI:case uI:v=pF;break;case cI:v=CF;break;case"scroll":v=uF;break;case"wheel":v=RF;break;case"copy":case"cut":case"paste":v=gF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=R5}var y=(e&4)!==0,_=!y&&t==="scroll",E=y?g!==null?g+"Capture":null:g;y=[];for(var w=u,M;w!==null;){M=w;var C=M.stateNode;if(M.tag===5&&C!==null&&(M=C,E!==null&&(C=uv(w,E),C!=null&&y.push(gv(w,C,M)))),_)break;w=w.return}0<y.length&&(g=new v(g,x,null,n,c),h.push({event:g,listeners:y}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==ES&&(x=n.relatedTarget||n.fromElement)&&(Cd(x)||x[Eu]))break e;if((v||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Cd(x):null,x!==null&&(_=ph(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(y=C5,C="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=R5,C="onPointerLeave",E="onPointerEnter",w="pointer"),_=v==null?g:Jp(v),M=x==null?g:Jp(x),g=new y(C,w+"leave",v,n,c),g.target=_,g.relatedTarget=M,C=null,Cd(c)===u&&(y=new y(E,w+"enter",x,n,c),y.target=M,y.relatedTarget=_,C=y),_=C,v&&x)t:{for(y=v,E=x,w=0,M=y;M;M=up(M))w++;for(M=0,C=E;C;C=up(C))M++;for(;0<w-M;)y=up(y),w--;for(;0<M-w;)E=up(E),M--;for(;w--;){if(y===E||E!==null&&y===E.alternate)break t;y=up(y),E=up(E)}y=null}else y=null;v!==null&&H5(h,g,v,y,!1),x!==null&&_!==null&&H5(h,_,x,y,!0)}}e:{if(g=u?Jp(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var R=zF;else if(O5(g))if(nI)R=HF;else{R=FF;var O=BF}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=UF);if(R&&(R=R(t,u))){tI(h,R,n,c);break e}O&&O(t,g,u),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&vS(g,"number",g.value)}switch(O=u?Jp(u):window,t){case"focusin":(O5(O)||O.contentEditable==="true")&&($p=O,PS=u,q0=null);break;case"focusout":q0=PS=$p=null;break;case"mousedown":RS=!0;break;case"contextmenu":case"mouseup":case"dragend":RS=!1,B5(h,n,c);break;case"selectionchange":if(GF)break;case"keydown":case"keyup":B5(h,n,c)}var k;if(aM)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Kp?J8(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Z8&&n.locale!=="ko"&&(Kp||P!=="onCompositionStart"?P==="onCompositionEnd"&&Kp&&(k=$8()):(Pc=c,iM="value"in Pc?Pc.value:Pc.textContent,Kp=!0)),O=R_(u,P),0<O.length&&(P=new P5(P,t,null,n,c),h.push({event:P,listeners:O}),k?P.data=k:(k=eI(n),k!==null&&(P.data=k)))),(k=IF?OF(t,n):LF(t,n))&&(u=R_(u,"onBeforeInput"),0<u.length&&(c=new P5("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}dI(h,e)})}function gv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function R_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uv(t,n),s!=null&&r.unshift(gv(t,s,i)),s=uv(t,e),s!=null&&r.push(gv(t,s,i))),t=t.return}return r}function up(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=uv(n,s),l!=null&&o.unshift(gv(n,l,a))):i||(l=uv(n,s),l!=null&&o.push(gv(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function q5(t){return(typeof t=="string"?t:""+t).replace(QF,`
`).replace(XF,"")}function Sy(t,e,n){if(e=q5(e),q5(t)!==e&&n)throw Error(je(425))}function D_(){}var DS=null,IS=null;function OS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var LS=typeof setTimeout=="function"?setTimeout:void 0,KF=typeof clearTimeout=="function"?clearTimeout:void 0,V5=typeof Promise=="function"?Promise:void 0,$F=typeof queueMicrotask=="function"?queueMicrotask:typeof V5<"u"?function(t){return V5.resolve(null).then(t).catch(ZF)}:LS;function ZF(t){setTimeout(function(){throw t})}function dw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dv(e)}function Bc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ym=Math.random().toString(36).slice(2),fl="__reactFiber$"+Ym,vv="__reactProps$"+Ym,Eu="__reactContainer$"+Ym,kS="__reactEvents$"+Ym,JF="__reactListeners$"+Ym,eU="__reactHandles$"+Ym;function Cd(t){var e=t[fl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Eu]||n[fl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G5(t);t!==null;){if(n=t[fl])return n;t=G5(t)}return e}t=n,n=t.parentNode}return null}function i1(t){return t=t[fl]||t[Eu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function N2(t){return t[vv]||null}var NS=[],em=-1;function af(t){return{current:t}}function or(t){0>em||(t.current=NS[em],NS[em]=null,em--)}function Jn(t,e){em++,NS[em]=t.current,t.current=e}var Qc={},hs=af(Qc),no=af(!1),Jd=Qc;function Em(t,e){var n=t.type.contextTypes;if(!n)return Qc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ro(t){return t=t.childContextTypes,t!=null}function I_(){or(no),or(hs)}function W5(t,e,n){if(hs.current!==Qc)throw Error(je(168));Jn(hs,e),Jn(no,n)}function pI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,B9(t)||"Unknown",i));return Mr({},n,r)}function O_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qc,Jd=hs.current,Jn(hs,t),Jn(no,no.current),!0}function j5(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=pI(t,e,Jd),r.__reactInternalMemoizedMergedChildContext=t,or(no),or(hs),Jn(hs,t)):or(no),Jn(no,n)}var nu=null,z2=!1,hw=!1;function mI(t){nu===null?nu=[t]:nu.push(t)}function tU(t){z2=!0,mI(t)}function lf(){if(!hw&&nu!==null){hw=!0;var t=0,e=Bn;try{var n=nu;for(Bn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nu=null,z2=!1}catch(i){throw nu!==null&&(nu=nu.slice(t+1)),U8(eM,lf),i}finally{Bn=e,hw=!1}}return null}var tm=[],nm=0,L_=null,k_=0,Qo=[],Xo=0,eh=null,uu=1,cu="";function _d(t,e){tm[nm++]=k_,tm[nm++]=L_,L_=t,k_=e}function gI(t,e,n){Qo[Xo++]=uu,Qo[Xo++]=cu,Qo[Xo++]=eh,eh=t;var r=uu;t=cu;var i=32-La(r)-1;r&=~(1<<i),n+=1;var s=32-La(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,uu=1<<32-La(e)+i|n<<i|r,cu=s+t}else uu=1<<s|n<<i|r,cu=t}function uM(t){t.return!==null&&(_d(t,1),gI(t,1,0))}function cM(t){for(;t===L_;)L_=tm[--nm],tm[nm]=null,k_=tm[--nm],tm[nm]=null;for(;t===eh;)eh=Qo[--Xo],Qo[Xo]=null,cu=Qo[--Xo],Qo[Xo]=null,uu=Qo[--Xo],Qo[Xo]=null}var Eo=null,wo=null,fr=!1,Pa=null;function vI(t,e){var n=Zo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Y5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Eo=t,wo=Bc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Eo=t,wo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eh!==null?{id:uu,overflow:cu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Eo=t,wo=null,!0):!1;default:return!1}}function zS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BS(t){if(fr){var e=wo;if(e){var n=e;if(!Y5(t,e)){if(zS(t))throw Error(je(418));e=Bc(n.nextSibling);var r=Eo;e&&Y5(t,e)?vI(r,n):(t.flags=t.flags&-4097|2,fr=!1,Eo=t)}}else{if(zS(t))throw Error(je(418));t.flags=t.flags&-4097|2,fr=!1,Eo=t}}}function Q5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Eo=t}function Ay(t){if(t!==Eo)return!1;if(!fr)return Q5(t),fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!OS(t.type,t.memoizedProps)),e&&(e=wo)){if(zS(t))throw yI(),Error(je(418));for(;e;)vI(t,e),e=Bc(e.nextSibling)}if(Q5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wo=Bc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wo=null}}else wo=Eo?Bc(t.stateNode.nextSibling):null;return!0}function yI(){for(var t=wo;t;)t=Bc(t.nextSibling)}function Sm(){wo=Eo=null,fr=!1}function fM(t){Pa===null?Pa=[t]:Pa.push(t)}var nU=Ru.ReactCurrentBatchConfig;function ba(t,e){if(t&&t.defaultProps){e=Mr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var N_=af(null),z_=null,rm=null,dM=null;function hM(){dM=rm=z_=null}function pM(t){var e=N_.current;or(N_),t._currentValue=e}function FS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ym(t,e){z_=t,dM=rm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(eo=!0),t.firstContext=null)}function na(t){var e=t._currentValue;if(dM!==t)if(t={context:t,memoizedValue:e,next:null},rm===null){if(z_===null)throw Error(je(308));rm=t,z_.dependencies={lanes:0,firstContext:t}}else rm=rm.next=t;return e}var Pd=null;function mM(t){Pd===null?Pd=[t]:Pd.push(t)}function xI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mM(e)):(n.next=i.next,i.next=n),e.interleaved=n,Su(t,r)}function Su(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sc=!1;function gM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _I(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Su(t,n)}return i=r.interleaved,i===null?(e.next=e,mM(r)):(e.next=i.next,i.next=e),r.interleaved=e,Su(t,n)}function $x(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tM(t,n)}}function X5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function B_(t,e,n,r){var i=t.updateQueue;Sc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var g=a.lane,v=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(g=e,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(v,h,g);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,g=typeof x=="function"?x.call(v,h,g):x,g==null)break e;h=Mr({},h,g);break e;case 2:Sc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nh|=o,t.lanes=o,t.memoizedState=h}}function K5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var wI=new x8.Component().refs;function US(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var B2={isMounted:function(t){return(t=t._reactInternals)?ph(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ds(),i=Hc(t),s=pu(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fc(t,s,i),e!==null&&(ka(e,t,i,r),$x(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ds(),i=Hc(t),s=pu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fc(t,s,i),e!==null&&(ka(e,t,i,r),$x(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ds(),r=Hc(t),i=pu(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fc(t,i,r),e!==null&&(ka(e,t,r,n),$x(e,t,r))}};function $5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!pv(n,r)||!pv(i,s):!0}function EI(t,e,n){var r=!1,i=Qc,s=e.contextType;return typeof s=="object"&&s!==null?s=na(s):(i=ro(e)?Jd:hs.current,r=e.contextTypes,s=(r=r!=null)?Em(t,i):Qc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=B2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Z5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&B2.enqueueReplaceState(e,e.state,null)}function HS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wI,gM(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=na(s):(s=ro(e)?Jd:hs.current,i.context=Em(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(US(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&B2.enqueueReplaceState(i,i.state,null),B_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $g(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===wI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function My(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J5(t){var e=t._init;return e(t._payload)}function SI(t){function e(E,w){if(t){var M=E.deletions;M===null?(E.deletions=[w],E.flags|=16):M.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=qc(E,w),E.index=0,E.sibling=null,E}function s(E,w,M){return E.index=M,t?(M=E.alternate,M!==null?(M=M.index,M<w?(E.flags|=2,w):M):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,M,C){return w===null||w.tag!==6?(w=_w(M,E.mode,C),w.return=E,w):(w=i(w,M),w.return=E,w)}function l(E,w,M,C){var R=M.type;return R===Xp?c(E,w,M.props.children,C,M.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ec&&J5(R)===w.type)?(C=i(w,M.props),C.ref=$g(E,w,M),C.return=E,C):(C=r_(M.type,M.key,M.props,null,E.mode,C),C.ref=$g(E,w,M),C.return=E,C)}function u(E,w,M,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==M.containerInfo||w.stateNode.implementation!==M.implementation?(w=ww(M,E.mode,C),w.return=E,w):(w=i(w,M.children||[]),w.return=E,w)}function c(E,w,M,C,R){return w===null||w.tag!==7?(w=Hd(M,E.mode,C,R),w.return=E,w):(w=i(w,M),w.return=E,w)}function h(E,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_w(""+w,E.mode,M),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case py:return M=r_(w.type,w.key,w.props,null,E.mode,M),M.ref=$g(E,null,w),M.return=E,M;case Qp:return w=ww(w,E.mode,M),w.return=E,w;case Ec:var C=w._init;return h(E,C(w._payload),M)}if(R0(w)||jg(w))return w=Hd(w,E.mode,M,null),w.return=E,w;My(E,w)}return null}function g(E,w,M,C){var R=w!==null?w.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return R!==null?null:a(E,w,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case py:return M.key===R?l(E,w,M,C):null;case Qp:return M.key===R?u(E,w,M,C):null;case Ec:return R=M._init,g(E,w,R(M._payload),C)}if(R0(M)||jg(M))return R!==null?null:c(E,w,M,C,null);My(E,M)}return null}function v(E,w,M,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(M)||null,a(w,E,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case py:return E=E.get(C.key===null?M:C.key)||null,l(w,E,C,R);case Qp:return E=E.get(C.key===null?M:C.key)||null,u(w,E,C,R);case Ec:var O=C._init;return v(E,w,M,O(C._payload),R)}if(R0(C)||jg(C))return E=E.get(M)||null,c(w,E,C,R,null);My(w,C)}return null}function x(E,w,M,C){for(var R=null,O=null,k=w,P=w=0,z=null;k!==null&&P<M.length;P++){k.index>P?(z=k,k=null):z=k.sibling;var B=g(E,k,M[P],C);if(B===null){k===null&&(k=z);break}t&&k&&B.alternate===null&&e(E,k),w=s(B,w,P),O===null?R=B:O.sibling=B,O=B,k=z}if(P===M.length)return n(E,k),fr&&_d(E,P),R;if(k===null){for(;P<M.length;P++)k=h(E,M[P],C),k!==null&&(w=s(k,w,P),O===null?R=k:O.sibling=k,O=k);return fr&&_d(E,P),R}for(k=r(E,k);P<M.length;P++)z=v(k,E,P,M[P],C),z!==null&&(t&&z.alternate!==null&&k.delete(z.key===null?P:z.key),w=s(z,w,P),O===null?R=z:O.sibling=z,O=z);return t&&k.forEach(function(q){return e(E,q)}),fr&&_d(E,P),R}function y(E,w,M,C){var R=jg(M);if(typeof R!="function")throw Error(je(150));if(M=R.call(M),M==null)throw Error(je(151));for(var O=R=null,k=w,P=w=0,z=null,B=M.next();k!==null&&!B.done;P++,B=M.next()){k.index>P?(z=k,k=null):z=k.sibling;var q=g(E,k,B.value,C);if(q===null){k===null&&(k=z);break}t&&k&&q.alternate===null&&e(E,k),w=s(q,w,P),O===null?R=q:O.sibling=q,O=q,k=z}if(B.done)return n(E,k),fr&&_d(E,P),R;if(k===null){for(;!B.done;P++,B=M.next())B=h(E,B.value,C),B!==null&&(w=s(B,w,P),O===null?R=B:O.sibling=B,O=B);return fr&&_d(E,P),R}for(k=r(E,k);!B.done;P++,B=M.next())B=v(k,E,P,B.value,C),B!==null&&(t&&B.alternate!==null&&k.delete(B.key===null?P:B.key),w=s(B,w,P),O===null?R=B:O.sibling=B,O=B);return t&&k.forEach(function(Q){return e(E,Q)}),fr&&_d(E,P),R}function _(E,w,M,C){if(typeof M=="object"&&M!==null&&M.type===Xp&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case py:e:{for(var R=M.key,O=w;O!==null;){if(O.key===R){if(R=M.type,R===Xp){if(O.tag===7){n(E,O.sibling),w=i(O,M.props.children),w.return=E,E=w;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ec&&J5(R)===O.type){n(E,O.sibling),w=i(O,M.props),w.ref=$g(E,O,M),w.return=E,E=w;break e}n(E,O);break}else e(E,O);O=O.sibling}M.type===Xp?(w=Hd(M.props.children,E.mode,C,M.key),w.return=E,E=w):(C=r_(M.type,M.key,M.props,null,E.mode,C),C.ref=$g(E,w,M),C.return=E,E=C)}return o(E);case Qp:e:{for(O=M.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===M.containerInfo&&w.stateNode.implementation===M.implementation){n(E,w.sibling),w=i(w,M.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=ww(M,E.mode,C),w.return=E,E=w}return o(E);case Ec:return O=M._init,_(E,w,O(M._payload),C)}if(R0(M))return x(E,w,M,C);if(jg(M))return y(E,w,M,C);My(E,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,w!==null&&w.tag===6?(n(E,w.sibling),w=i(w,M),w.return=E,E=w):(n(E,w),w=_w(M,E.mode,C),w.return=E,E=w),o(E)):n(E,w)}return _}var Am=SI(!0),AI=SI(!1),s1={},gl=af(s1),yv=af(s1),xv=af(s1);function Rd(t){if(t===s1)throw Error(je(174));return t}function vM(t,e){switch(Jn(xv,e),Jn(yv,t),Jn(gl,s1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xS(e,t)}or(gl),Jn(gl,e)}function Mm(){or(gl),or(yv),or(xv)}function MI(t){Rd(xv.current);var e=Rd(gl.current),n=xS(e,t.type);e!==n&&(Jn(yv,t),Jn(gl,n))}function yM(t){yv.current===t&&(or(gl),or(yv))}var xr=af(0);function F_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pw=[];function xM(){for(var t=0;t<pw.length;t++)pw[t]._workInProgressVersionPrimary=null;pw.length=0}var Zx=Ru.ReactCurrentDispatcher,mw=Ru.ReactCurrentBatchConfig,th=0,Ar=null,ci=null,Ci=null,U_=!1,V0=!1,_v=0,rU=0;function is(){throw Error(je(321))}function _M(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ba(t[n],e[n]))return!1;return!0}function wM(t,e,n,r,i,s){if(th=s,Ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zx.current=t===null||t.memoizedState===null?aU:lU,t=n(r,i),V0){s=0;do{if(V0=!1,_v=0,25<=s)throw Error(je(301));s+=1,Ci=ci=null,e.updateQueue=null,Zx.current=uU,t=n(r,i)}while(V0)}if(Zx.current=H_,e=ci!==null&&ci.next!==null,th=0,Ci=ci=Ar=null,U_=!1,e)throw Error(je(300));return t}function EM(){var t=_v!==0;return _v=0,t}function cl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?Ar.memoizedState=Ci=t:Ci=Ci.next=t,Ci}function ra(){if(ci===null){var t=Ar.alternate;t=t!==null?t.memoizedState:null}else t=ci.next;var e=Ci===null?Ar.memoizedState:Ci.next;if(e!==null)Ci=e,ci=t;else{if(t===null)throw Error(je(310));ci=t,t={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},Ci===null?Ar.memoizedState=Ci=t:Ci=Ci.next=t}return Ci}function wv(t,e){return typeof e=="function"?e(t):e}function gw(t){var e=ra(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=ci,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((th&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ar.lanes|=c,nh|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ba(r,e.memoizedState)||(eo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ar.lanes|=s,nh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vw(t){var e=ra(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ba(s,e.memoizedState)||(eo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function bI(){}function TI(t,e){var n=Ar,r=ra(),i=e(),s=!Ba(r.memoizedState,i);if(s&&(r.memoizedState=i,eo=!0),r=r.queue,SM(RI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ci!==null&&Ci.memoizedState.tag&1){if(n.flags|=2048,Ev(9,PI.bind(null,n,r,i,e),void 0,null),Ii===null)throw Error(je(349));th&30||CI(n,e,i)}return i}function CI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ar.updateQueue,e===null?(e={lastEffect:null,stores:null},Ar.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PI(t,e,n,r){e.value=n,e.getSnapshot=r,DI(e)&&II(t)}function RI(t,e,n){return n(function(){DI(e)&&II(t)})}function DI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ba(t,n)}catch{return!0}}function II(t){var e=Su(t,1);e!==null&&ka(e,t,1,-1)}function eC(t){var e=cl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:t},e.queue=t,t=t.dispatch=oU.bind(null,Ar,t),[e.memoizedState,t]}function Ev(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ar.updateQueue,e===null?(e={lastEffect:null,stores:null},Ar.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OI(){return ra().memoizedState}function Jx(t,e,n,r){var i=cl();Ar.flags|=t,i.memoizedState=Ev(1|e,n,void 0,r===void 0?null:r)}function F2(t,e,n,r){var i=ra();r=r===void 0?null:r;var s=void 0;if(ci!==null){var o=ci.memoizedState;if(s=o.destroy,r!==null&&_M(r,o.deps)){i.memoizedState=Ev(e,n,s,r);return}}Ar.flags|=t,i.memoizedState=Ev(1|e,n,s,r)}function tC(t,e){return Jx(8390656,8,t,e)}function SM(t,e){return F2(2048,8,t,e)}function LI(t,e){return F2(4,2,t,e)}function kI(t,e){return F2(4,4,t,e)}function NI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zI(t,e,n){return n=n!=null?n.concat([t]):null,F2(4,4,NI.bind(null,e,t),n)}function AM(){}function BI(t,e){var n=ra();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_M(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FI(t,e){var n=ra();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_M(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UI(t,e,n){return th&21?(Ba(n,e)||(n=V8(),Ar.lanes|=n,nh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,eo=!0),t.memoizedState=n)}function iU(t,e){var n=Bn;Bn=n!==0&&4>n?n:4,t(!0);var r=mw.transition;mw.transition={};try{t(!1),e()}finally{Bn=n,mw.transition=r}}function HI(){return ra().memoizedState}function sU(t,e,n){var r=Hc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qI(t))VI(e,n);else if(n=xI(t,e,n,r),n!==null){var i=Ds();ka(n,t,r,i),GI(n,e,r)}}function oU(t,e,n){var r=Hc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qI(t))VI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ba(a,o)){var l=e.interleaved;l===null?(i.next=i,mM(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xI(t,e,i,r),n!==null&&(i=Ds(),ka(n,t,r,i),GI(n,e,r))}}function qI(t){var e=t.alternate;return t===Ar||e!==null&&e===Ar}function VI(t,e){V0=U_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tM(t,n)}}var H_={readContext:na,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useInsertionEffect:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useSyncExternalStore:is,useId:is,unstable_isNewReconciler:!1},aU={readContext:na,useCallback:function(t,e){return cl().memoizedState=[t,e===void 0?null:e],t},useContext:na,useEffect:tC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jx(4194308,4,NI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jx(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jx(4,2,t,e)},useMemo:function(t,e){var n=cl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sU.bind(null,Ar,t),[r.memoizedState,t]},useRef:function(t){var e=cl();return t={current:t},e.memoizedState=t},useState:eC,useDebugValue:AM,useDeferredValue:function(t){return cl().memoizedState=t},useTransition:function(){var t=eC(!1),e=t[0];return t=iU.bind(null,t[1]),cl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ar,i=cl();if(fr){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),Ii===null)throw Error(je(349));th&30||CI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tC(RI.bind(null,r,s,t),[t]),r.flags|=2048,Ev(9,PI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cl(),e=Ii.identifierPrefix;if(fr){var n=cu,r=uu;n=(r&~(1<<32-La(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_v++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lU={readContext:na,useCallback:BI,useContext:na,useEffect:SM,useImperativeHandle:zI,useInsertionEffect:LI,useLayoutEffect:kI,useMemo:FI,useReducer:gw,useRef:OI,useState:function(){return gw(wv)},useDebugValue:AM,useDeferredValue:function(t){var e=ra();return UI(e,ci.memoizedState,t)},useTransition:function(){var t=gw(wv)[0],e=ra().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:TI,useId:HI,unstable_isNewReconciler:!1},uU={readContext:na,useCallback:BI,useContext:na,useEffect:SM,useImperativeHandle:zI,useInsertionEffect:LI,useLayoutEffect:kI,useMemo:FI,useReducer:vw,useRef:OI,useState:function(){return vw(wv)},useDebugValue:AM,useDeferredValue:function(t){var e=ra();return ci===null?e.memoizedState=t:UI(e,ci.memoizedState,t)},useTransition:function(){var t=vw(wv)[0],e=ra().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:TI,useId:HI,unstable_isNewReconciler:!1};function bm(t,e){try{var n="",r=e;do n+=z9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cU=typeof WeakMap=="function"?WeakMap:Map;function WI(t,e,n){n=pu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){V_||(V_=!0,ZS=r),qS(t,e)},n}function jI(t,e,n){n=pu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qS(t,e),typeof r!="function"&&(Uc===null?Uc=new Set([this]):Uc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=AU.bind(null,t,e,n),e.then(t,t))}function rC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pu(-1,1),e.tag=2,Fc(n,e,1))),n.lanes|=1),t)}var fU=Ru.ReactCurrentOwner,eo=!1;function Ts(t,e,n,r){e.child=t===null?AI(e,null,n,r):Am(e,t.child,n,r)}function sC(t,e,n,r,i){n=n.render;var s=e.ref;return ym(e,i),r=wM(t,e,n,r,s,i),n=EM(),t!==null&&!eo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Au(t,e,i)):(fr&&n&&uM(e),e.flags|=1,Ts(t,e,r,i),e.child)}function oC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!IM(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,YI(t,e,s,r,i)):(t=r_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pv,n(o,r)&&t.ref===e.ref)return Au(t,e,i)}return e.flags|=1,t=qc(s,r),t.ref=e.ref,t.return=e,e.child=t}function YI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(pv(s,r)&&t.ref===e.ref)if(eo=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(eo=!0);else return e.lanes=t.lanes,Au(t,e,i)}return VS(t,e,n,r,i)}function QI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(sm,_o),_o|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jn(sm,_o),_o|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Jn(sm,_o),_o|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Jn(sm,_o),_o|=r;return Ts(t,e,i,n),e.child}function XI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function VS(t,e,n,r,i){var s=ro(n)?Jd:hs.current;return s=Em(e,s),ym(e,i),n=wM(t,e,n,r,s,i),r=EM(),t!==null&&!eo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Au(t,e,i)):(fr&&r&&uM(e),e.flags|=1,Ts(t,e,n,i),e.child)}function aC(t,e,n,r,i){if(ro(n)){var s=!0;O_(e)}else s=!1;if(ym(e,i),e.stateNode===null)e_(t,e),EI(e,n,r),HS(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=na(u):(u=ro(n)?Jd:hs.current,u=Em(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Z5(e,o,r,u),Sc=!1;var g=e.memoizedState;o.state=g,B_(e,r,o,i),l=e.memoizedState,a!==r||g!==l||no.current||Sc?(typeof c=="function"&&(US(e,n,c,r),l=e.memoizedState),(a=Sc||$5(e,n,a,r,g,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_I(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ba(e.type,a),o.props=u,h=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=na(l):(l=ro(n)?Jd:hs.current,l=Em(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==l)&&Z5(e,o,r,l),Sc=!1,g=e.memoizedState,o.state=g,B_(e,r,o,i);var x=e.memoizedState;a!==h||g!==x||no.current||Sc?(typeof v=="function"&&(US(e,n,v,r),x=e.memoizedState),(u=Sc||$5(e,n,u,r,g,x,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return GS(t,e,n,r,s,i)}function GS(t,e,n,r,i,s){XI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&j5(e,n,!1),Au(t,e,s);r=e.stateNode,fU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Am(e,t.child,null,s),e.child=Am(e,null,a,s)):Ts(t,e,a,s),e.memoizedState=r.state,i&&j5(e,n,!0),e.child}function KI(t){var e=t.stateNode;e.pendingContext?W5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W5(t,e.context,!1),vM(t,e.containerInfo)}function lC(t,e,n,r,i){return Sm(),fM(i),e.flags|=256,Ts(t,e,n,r),e.child}var WS={dehydrated:null,treeContext:null,retryLane:0};function jS(t){return{baseLanes:t,cachePool:null,transitions:null}}function $I(t,e,n){var r=e.pendingProps,i=xr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jn(xr,i&1),t===null)return BS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=q2(o,r,0,null),t=Hd(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jS(n),e.memoizedState=WS,t):MM(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dU(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qc(a,s):(s=Hd(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=WS,r}return s=t.child,t=s.sibling,r=qc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function MM(t,e){return e=q2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function by(t,e,n,r){return r!==null&&fM(r),Am(e,t.child,null,n),t=MM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dU(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yw(Error(je(422))),by(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=q2({mode:"visible",children:r.children},i,0,null),s=Hd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Am(e,t.child,null,o),e.child.memoizedState=jS(o),e.memoizedState=WS,s);if(!(e.mode&1))return by(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(je(419)),r=yw(s,r,void 0),by(t,e,o,r)}if(a=(o&t.childLanes)!==0,eo||a){if(r=Ii,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Su(t,i),ka(r,t,i,-1))}return DM(),r=yw(Error(je(421))),by(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wo=Bc(i.nextSibling),Eo=e,fr=!0,Pa=null,t!==null&&(Qo[Xo++]=uu,Qo[Xo++]=cu,Qo[Xo++]=eh,uu=t.id,cu=t.overflow,eh=e),e=MM(e,r.children),e.flags|=4096,e)}function uC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),FS(t.return,e,n)}function xw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ts(t,e,r.children,n),r=xr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uC(t,n,e);else if(t.tag===19)uC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Jn(xr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&F_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&F_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xw(e,!0,n,null,s);break;case"together":xw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function e_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Au(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=qc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hU(t,e,n){switch(e.tag){case 3:KI(e),Sm();break;case 5:MI(e);break;case 1:ro(e.type)&&O_(e);break;case 4:vM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Jn(N_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Jn(xr,xr.current&1),e.flags|=128,null):n&e.child.childLanes?$I(t,e,n):(Jn(xr,xr.current&1),t=Au(t,e,n),t!==null?t.sibling:null);Jn(xr,xr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(xr,xr.current),r)break;return null;case 22:case 23:return e.lanes=0,QI(t,e,n)}return Au(t,e,n)}var JI,YS,eO,tO;JI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};YS=function(){};eO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rd(gl.current);var s=null;switch(n){case"input":i=mS(t,i),r=mS(t,r),s=[];break;case"select":i=Mr({},i,{value:void 0}),r=Mr({},r,{value:void 0}),s=[];break;case"textarea":i=yS(t,i),r=yS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=D_)}_S(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(av.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(av.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&sr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zg(t,e){if(!fr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ss(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pU(t,e,n){var r=e.pendingProps;switch(cM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ss(e),null;case 1:return ro(e.type)&&I_(),ss(e),null;case 3:return r=e.stateNode,Mm(),or(no),or(hs),xM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ay(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pa!==null&&(tA(Pa),Pa=null))),YS(t,e),ss(e),null;case 5:yM(e);var i=Rd(xv.current);if(n=e.type,t!==null&&e.stateNode!=null)eO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return ss(e),null}if(t=Rd(gl.current),Ay(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fl]=e,r[vv]=s,t=(e.mode&1)!==0,n){case"dialog":sr("cancel",r),sr("close",r);break;case"iframe":case"object":case"embed":sr("load",r);break;case"video":case"audio":for(i=0;i<I0.length;i++)sr(I0[i],r);break;case"source":sr("error",r);break;case"img":case"image":case"link":sr("error",r),sr("load",r);break;case"details":sr("toggle",r);break;case"input":y5(r,s),sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},sr("invalid",r);break;case"textarea":_5(r,s),sr("invalid",r)}_S(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sy(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sy(r.textContent,a,t),i=["children",""+a]):av.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&sr("scroll",r)}switch(n){case"input":my(r),x5(r,s,!0);break;case"textarea":my(r),w5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=D_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C8(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fl]=e,t[vv]=r,JI(t,e,!1,!1),e.stateNode=t;e:{switch(o=wS(n,r),n){case"dialog":sr("cancel",t),sr("close",t),i=r;break;case"iframe":case"object":case"embed":sr("load",t),i=r;break;case"video":case"audio":for(i=0;i<I0.length;i++)sr(I0[i],t);i=r;break;case"source":sr("error",t),i=r;break;case"img":case"image":case"link":sr("error",t),sr("load",t),i=r;break;case"details":sr("toggle",t),i=r;break;case"input":y5(t,r),i=mS(t,r),sr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mr({},r,{value:void 0}),sr("invalid",t);break;case"textarea":_5(t,r),i=yS(t,r),sr("invalid",t);break;default:i=r}_S(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?D8(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P8(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lv(t,l):typeof l=="number"&&lv(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(av.hasOwnProperty(s)?l!=null&&s==="onScroll"&&sr("scroll",t):l!=null&&X4(t,s,l,o))}switch(n){case"input":my(t),x5(t,r,!1);break;case"textarea":my(t),w5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pm(t,!!r.multiple,s,!1):r.defaultValue!=null&&pm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=D_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ss(e),null;case 6:if(t&&e.stateNode!=null)tO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=Rd(xv.current),Rd(gl.current),Ay(e)){if(r=e.stateNode,n=e.memoizedProps,r[fl]=e,(s=r.nodeValue!==n)&&(t=Eo,t!==null))switch(t.tag){case 3:Sy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fl]=e,e.stateNode=r}return ss(e),null;case 13:if(or(xr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fr&&wo!==null&&e.mode&1&&!(e.flags&128))yI(),Sm(),e.flags|=98560,s=!1;else if(s=Ay(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[fl]=e}else Sm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ss(e),s=!1}else Pa!==null&&(tA(Pa),Pa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xr.current&1?fi===0&&(fi=3):DM())),e.updateQueue!==null&&(e.flags|=4),ss(e),null);case 4:return Mm(),YS(t,e),t===null&&mv(e.stateNode.containerInfo),ss(e),null;case 10:return pM(e.type._context),ss(e),null;case 17:return ro(e.type)&&I_(),ss(e),null;case 19:if(or(xr),s=e.memoizedState,s===null)return ss(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zg(s,!1);else{if(fi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=F_(t),o!==null){for(e.flags|=128,Zg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jn(xr,xr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ur()>Tm&&(e.flags|=128,r=!0,Zg(s,!1),e.lanes=4194304)}else{if(!r)if(t=F_(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fr)return ss(e),null}else 2*Ur()-s.renderingStartTime>Tm&&n!==1073741824&&(e.flags|=128,r=!0,Zg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ur(),e.sibling=null,n=xr.current,Jn(xr,r?n&1|2:n&1),e):(ss(e),null);case 22:case 23:return RM(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_o&1073741824&&(ss(e),e.subtreeFlags&6&&(e.flags|=8192)):ss(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function mU(t,e){switch(cM(e),e.tag){case 1:return ro(e.type)&&I_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mm(),or(no),or(hs),xM(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yM(e),null;case 13:if(or(xr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Sm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return or(xr),null;case 4:return Mm(),null;case 10:return pM(e.type._context),null;case 22:case 23:return RM(),null;case 24:return null;default:return null}}var Ty=!1,ls=!1,gU=typeof WeakSet=="function"?WeakSet:Set,dt=null;function im(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rr(t,e,r)}else n.current=null}function QS(t,e,n){try{n()}catch(r){Rr(t,e,r)}}var cC=!1;function vU(t,e){if(DS=C_,t=sI(),lM(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,g=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++c===r&&(l=o),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(IS={focusedElem:t,selectionRange:n},C_=!1,dt=e;dt!==null;)if(e=dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dt=t;else for(;dt!==null;){e=dt;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,_=x.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:ba(e.type,y),_);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(C){Rr(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}return x=cC,cC=!1,x}function G0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&QS(e,n,s)}i=i.next}while(i!==r)}}function U2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function XS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nO(t){var e=t.alternate;e!==null&&(t.alternate=null,nO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fl],delete e[vv],delete e[kS],delete e[JF],delete e[eU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rO(t){return t.tag===5||t.tag===3||t.tag===4}function fC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function KS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=D_));else if(r!==4&&(t=t.child,t!==null))for(KS(t,e,n),t=t.sibling;t!==null;)KS(t,e,n),t=t.sibling}function $S(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($S(t,e,n),t=t.sibling;t!==null;)$S(t,e,n),t=t.sibling}var Yi=null,Ta=!1;function cc(t,e,n){for(n=n.child;n!==null;)iO(t,e,n),n=n.sibling}function iO(t,e,n){if(ml&&typeof ml.onCommitFiberUnmount=="function")try{ml.onCommitFiberUnmount(I2,n)}catch{}switch(n.tag){case 5:ls||im(n,e);case 6:var r=Yi,i=Ta;Yi=null,cc(t,e,n),Yi=r,Ta=i,Yi!==null&&(Ta?(t=Yi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yi.removeChild(n.stateNode));break;case 18:Yi!==null&&(Ta?(t=Yi,n=n.stateNode,t.nodeType===8?dw(t.parentNode,n):t.nodeType===1&&dw(t,n),dv(t)):dw(Yi,n.stateNode));break;case 4:r=Yi,i=Ta,Yi=n.stateNode.containerInfo,Ta=!0,cc(t,e,n),Yi=r,Ta=i;break;case 0:case 11:case 14:case 15:if(!ls&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&QS(n,e,o),i=i.next}while(i!==r)}cc(t,e,n);break;case 1:if(!ls&&(im(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rr(n,e,a)}cc(t,e,n);break;case 21:cc(t,e,n);break;case 22:n.mode&1?(ls=(r=ls)||n.memoizedState!==null,cc(t,e,n),ls=r):cc(t,e,n);break;default:cc(t,e,n)}}function dC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gU),e.forEach(function(r){var i=bU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yi=a.stateNode,Ta=!1;break e;case 3:Yi=a.stateNode.containerInfo,Ta=!0;break e;case 4:Yi=a.stateNode.containerInfo,Ta=!0;break e}a=a.return}if(Yi===null)throw Error(je(160));iO(s,o,i),Yi=null,Ta=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sO(e,t),e=e.sibling}function sO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wa(e,t),ol(t),r&4){try{G0(3,t,t.return),U2(3,t)}catch(y){Rr(t,t.return,y)}try{G0(5,t,t.return)}catch(y){Rr(t,t.return,y)}}break;case 1:wa(e,t),ol(t),r&512&&n!==null&&im(n,n.return);break;case 5:if(wa(e,t),ol(t),r&512&&n!==null&&im(n,n.return),t.flags&32){var i=t.stateNode;try{lv(i,"")}catch(y){Rr(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&b8(i,s),wS(a,o);var u=wS(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?D8(i,h):c==="dangerouslySetInnerHTML"?P8(i,h):c==="children"?lv(i,h):X4(i,c,h,u)}switch(a){case"input":gS(i,s);break;case"textarea":T8(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?pm(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?pm(i,!!s.multiple,s.defaultValue,!0):pm(i,!!s.multiple,s.multiple?[]:"",!1))}i[vv]=s}catch(y){Rr(t,t.return,y)}}break;case 6:if(wa(e,t),ol(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Rr(t,t.return,y)}}break;case 3:if(wa(e,t),ol(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dv(e.containerInfo)}catch(y){Rr(t,t.return,y)}break;case 4:wa(e,t),ol(t);break;case 13:wa(e,t),ol(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(CM=Ur())),r&4&&dC(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ls=(u=ls)||c,wa(e,t),ls=u):wa(e,t),ol(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(dt=t,c=t.child;c!==null;){for(h=dt=c;dt!==null;){switch(g=dt,v=g.child,g.tag){case 0:case 11:case 14:case 15:G0(4,g,g.return);break;case 1:im(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){Rr(r,n,y)}}break;case 5:im(g,g.return);break;case 22:if(g.memoizedState!==null){pC(h);continue}}v!==null?(v.return=g,dt=v):pC(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R8("display",o))}catch(y){Rr(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Rr(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wa(e,t),ol(t),r&4&&dC(t);break;case 21:break;default:wa(e,t),ol(t)}}function ol(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rO(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lv(i,""),r.flags&=-33);var s=fC(t);$S(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fC(t);KS(t,a,o);break;default:throw Error(je(161))}}catch(l){Rr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yU(t,e,n){dt=t,oO(t)}function oO(t,e,n){for(var r=(t.mode&1)!==0;dt!==null;){var i=dt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ty;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ls;a=Ty;var u=ls;if(Ty=o,(ls=l)&&!u)for(dt=i;dt!==null;)o=dt,l=o.child,o.tag===22&&o.memoizedState!==null?mC(i):l!==null?(l.return=o,dt=l):mC(i);for(;s!==null;)dt=s,oO(s),s=s.sibling;dt=i,Ty=a,ls=u}hC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,dt=s):hC(t)}}function hC(t){for(;dt!==null;){var e=dt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ls||U2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ls)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ba(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&K5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}K5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&dv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}ls||e.flags&512&&XS(e)}catch(g){Rr(e,e.return,g)}}if(e===t){dt=null;break}if(n=e.sibling,n!==null){n.return=e.return,dt=n;break}dt=e.return}}function pC(t){for(;dt!==null;){var e=dt;if(e===t){dt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,dt=n;break}dt=e.return}}function mC(t){for(;dt!==null;){var e=dt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{U2(4,e)}catch(l){Rr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rr(e,i,l)}}var s=e.return;try{XS(e)}catch(l){Rr(e,s,l)}break;case 5:var o=e.return;try{XS(e)}catch(l){Rr(e,o,l)}}}catch(l){Rr(e,e.return,l)}if(e===t){dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,dt=a;break}dt=e.return}}var xU=Math.ceil,q_=Ru.ReactCurrentDispatcher,bM=Ru.ReactCurrentOwner,ea=Ru.ReactCurrentBatchConfig,Sn=0,Ii=null,Qr=null,Xi=0,_o=0,sm=af(0),fi=0,Sv=null,nh=0,H2=0,TM=0,W0=null,Js=null,CM=0,Tm=1/0,tu=null,V_=!1,ZS=null,Uc=null,Cy=!1,Rc=null,G_=0,j0=0,JS=null,t_=-1,n_=0;function Ds(){return Sn&6?Ur():t_!==-1?t_:t_=Ur()}function Hc(t){return t.mode&1?Sn&2&&Xi!==0?Xi&-Xi:nU.transition!==null?(n_===0&&(n_=V8()),n_):(t=Bn,t!==0||(t=window.event,t=t===void 0?16:K8(t.type)),t):1}function ka(t,e,n,r){if(50<j0)throw j0=0,JS=null,Error(je(185));n1(t,n,r),(!(Sn&2)||t!==Ii)&&(t===Ii&&(!(Sn&2)&&(H2|=n),fi===4&&Tc(t,Xi)),io(t,r),n===1&&Sn===0&&!(e.mode&1)&&(Tm=Ur()+500,z2&&lf()))}function io(t,e){var n=t.callbackNode;nF(t,e);var r=T_(t,t===Ii?Xi:0);if(r===0)n!==null&&A5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&A5(n),e===1)t.tag===0?tU(gC.bind(null,t)):mI(gC.bind(null,t)),$F(function(){!(Sn&6)&&lf()}),n=null;else{switch(G8(r)){case 1:n=eM;break;case 4:n=H8;break;case 16:n=b_;break;case 536870912:n=q8;break;default:n=b_}n=pO(n,aO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aO(t,e){if(t_=-1,n_=0,Sn&6)throw Error(je(327));var n=t.callbackNode;if(xm()&&t.callbackNode!==n)return null;var r=T_(t,t===Ii?Xi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=W_(t,r);else{e=r;var i=Sn;Sn|=2;var s=uO();(Ii!==t||Xi!==e)&&(tu=null,Tm=Ur()+500,Ud(t,e));do try{EU();break}catch(a){lO(t,a)}while(1);hM(),q_.current=s,Sn=i,Qr!==null?e=0:(Ii=null,Xi=0,e=fi)}if(e!==0){if(e===2&&(i=bS(t),i!==0&&(r=i,e=eA(t,i))),e===1)throw n=Sv,Ud(t,0),Tc(t,r),io(t,Ur()),n;if(e===6)Tc(t,r);else{if(i=t.current.alternate,!(r&30)&&!_U(i)&&(e=W_(t,r),e===2&&(s=bS(t),s!==0&&(r=s,e=eA(t,s))),e===1))throw n=Sv,Ud(t,0),Tc(t,r),io(t,Ur()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:wd(t,Js,tu);break;case 3:if(Tc(t,r),(r&130023424)===r&&(e=CM+500-Ur(),10<e)){if(T_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ds(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=LS(wd.bind(null,t,Js,tu),e);break}wd(t,Js,tu);break;case 4:if(Tc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-La(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xU(r/1960))-r,10<r){t.timeoutHandle=LS(wd.bind(null,t,Js,tu),r);break}wd(t,Js,tu);break;case 5:wd(t,Js,tu);break;default:throw Error(je(329))}}}return io(t,Ur()),t.callbackNode===n?aO.bind(null,t):null}function eA(t,e){var n=W0;return t.current.memoizedState.isDehydrated&&(Ud(t,e).flags|=256),t=W_(t,e),t!==2&&(e=Js,Js=n,e!==null&&tA(e)),t}function tA(t){Js===null?Js=t:Js.push.apply(Js,t)}function _U(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ba(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tc(t,e){for(e&=~TM,e&=~H2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-La(e),r=1<<n;t[n]=-1,e&=~r}}function gC(t){if(Sn&6)throw Error(je(327));xm();var e=T_(t,0);if(!(e&1))return io(t,Ur()),null;var n=W_(t,e);if(t.tag!==0&&n===2){var r=bS(t);r!==0&&(e=r,n=eA(t,r))}if(n===1)throw n=Sv,Ud(t,0),Tc(t,e),io(t,Ur()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wd(t,Js,tu),io(t,Ur()),null}function PM(t,e){var n=Sn;Sn|=1;try{return t(e)}finally{Sn=n,Sn===0&&(Tm=Ur()+500,z2&&lf())}}function rh(t){Rc!==null&&Rc.tag===0&&!(Sn&6)&&xm();var e=Sn;Sn|=1;var n=ea.transition,r=Bn;try{if(ea.transition=null,Bn=1,t)return t()}finally{Bn=r,ea.transition=n,Sn=e,!(Sn&6)&&lf()}}function RM(){_o=sm.current,or(sm)}function Ud(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KF(n)),Qr!==null)for(n=Qr.return;n!==null;){var r=n;switch(cM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&I_();break;case 3:Mm(),or(no),or(hs),xM();break;case 5:yM(r);break;case 4:Mm();break;case 13:or(xr);break;case 19:or(xr);break;case 10:pM(r.type._context);break;case 22:case 23:RM()}n=n.return}if(Ii=t,Qr=t=qc(t.current,null),Xi=_o=e,fi=0,Sv=null,TM=H2=nh=0,Js=W0=null,Pd!==null){for(e=0;e<Pd.length;e++)if(n=Pd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pd=null}return t}function lO(t,e){do{var n=Qr;try{if(hM(),Zx.current=H_,U_){for(var r=Ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}U_=!1}if(th=0,Ci=ci=Ar=null,V0=!1,_v=0,bM.current=null,n===null||n.return===null){fi=1,Sv=e,Qr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Xi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=rC(o);if(v!==null){v.flags&=-257,iC(v,o,a,s,e),v.mode&1&&nC(s,u,e),e=v,l=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(l),e.updateQueue=y}else x.add(l);break e}else{if(!(e&1)){nC(s,u,e),DM();break e}l=Error(je(426))}}else if(fr&&a.mode&1){var _=rC(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),iC(_,o,a,s,e),fM(bm(l,a));break e}}s=l=bm(l,a),fi!==4&&(fi=2),W0===null?W0=[s]:W0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=WI(s,l,e);X5(s,E);break e;case 1:a=l;var w=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Uc===null||!Uc.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=jI(s,a,e);X5(s,C);break e}}s=s.return}while(s!==null)}fO(n)}catch(R){e=R,Qr===n&&n!==null&&(Qr=n=n.return);continue}break}while(1)}function uO(){var t=q_.current;return q_.current=H_,t===null?H_:t}function DM(){(fi===0||fi===3||fi===2)&&(fi=4),Ii===null||!(nh&268435455)&&!(H2&268435455)||Tc(Ii,Xi)}function W_(t,e){var n=Sn;Sn|=2;var r=uO();(Ii!==t||Xi!==e)&&(tu=null,Ud(t,e));do try{wU();break}catch(i){lO(t,i)}while(1);if(hM(),Sn=n,q_.current=r,Qr!==null)throw Error(je(261));return Ii=null,Xi=0,fi}function wU(){for(;Qr!==null;)cO(Qr)}function EU(){for(;Qr!==null&&!Y9();)cO(Qr)}function cO(t){var e=hO(t.alternate,t,_o);t.memoizedProps=t.pendingProps,e===null?fO(t):Qr=e,bM.current=null}function fO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mU(n,e),n!==null){n.flags&=32767,Qr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fi=6,Qr=null;return}}else if(n=pU(n,e,_o),n!==null){Qr=n;return}if(e=e.sibling,e!==null){Qr=e;return}Qr=e=t}while(e!==null);fi===0&&(fi=5)}function wd(t,e,n){var r=Bn,i=ea.transition;try{ea.transition=null,Bn=1,SU(t,e,n,r)}finally{ea.transition=i,Bn=r}return null}function SU(t,e,n,r){do xm();while(Rc!==null);if(Sn&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rF(t,s),t===Ii&&(Qr=Ii=null,Xi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cy||(Cy=!0,pO(b_,function(){return xm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ea.transition,ea.transition=null;var o=Bn;Bn=1;var a=Sn;Sn|=4,bM.current=null,vU(t,n),sO(n,t),VF(IS),C_=!!DS,IS=DS=null,t.current=n,yU(n),Q9(),Sn=a,Bn=o,ea.transition=s}else t.current=n;if(Cy&&(Cy=!1,Rc=t,G_=i),s=t.pendingLanes,s===0&&(Uc=null),$9(n.stateNode),io(t,Ur()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(V_)throw V_=!1,t=ZS,ZS=null,t;return G_&1&&t.tag!==0&&xm(),s=t.pendingLanes,s&1?t===JS?j0++:(j0=0,JS=t):j0=0,lf(),null}function xm(){if(Rc!==null){var t=G8(G_),e=ea.transition,n=Bn;try{if(ea.transition=null,Bn=16>t?16:t,Rc===null)var r=!1;else{if(t=Rc,Rc=null,G_=0,Sn&6)throw Error(je(331));var i=Sn;for(Sn|=4,dt=t.current;dt!==null;){var s=dt,o=s.child;if(dt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(dt=u;dt!==null;){var c=dt;switch(c.tag){case 0:case 11:case 15:G0(8,c,s)}var h=c.child;if(h!==null)h.return=c,dt=h;else for(;dt!==null;){c=dt;var g=c.sibling,v=c.return;if(nO(c),c===u){dt=null;break}if(g!==null){g.return=v,dt=g;break}dt=v}}}var x=s.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}dt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,dt=o;else e:for(;dt!==null;){if(s=dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:G0(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,dt=E;break e}dt=s.return}}var w=t.current;for(dt=w;dt!==null;){o=dt;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,dt=M;else e:for(o=w;dt!==null;){if(a=dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:U2(9,a)}}catch(R){Rr(a,a.return,R)}if(a===o){dt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,dt=C;break e}dt=a.return}}if(Sn=i,lf(),ml&&typeof ml.onPostCommitFiberRoot=="function")try{ml.onPostCommitFiberRoot(I2,t)}catch{}r=!0}return r}finally{Bn=n,ea.transition=e}}return!1}function vC(t,e,n){e=bm(n,e),e=WI(t,e,1),t=Fc(t,e,1),e=Ds(),t!==null&&(n1(t,1,e),io(t,e))}function Rr(t,e,n){if(t.tag===3)vC(t,t,n);else for(;e!==null;){if(e.tag===3){vC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uc===null||!Uc.has(r))){t=bm(n,t),t=jI(e,t,1),e=Fc(e,t,1),t=Ds(),e!==null&&(n1(e,1,t),io(e,t));break}}e=e.return}}function AU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ds(),t.pingedLanes|=t.suspendedLanes&n,Ii===t&&(Xi&n)===n&&(fi===4||fi===3&&(Xi&130023424)===Xi&&500>Ur()-CM?Ud(t,0):TM|=n),io(t,e)}function dO(t,e){e===0&&(t.mode&1?(e=yy,yy<<=1,!(yy&130023424)&&(yy=4194304)):e=1);var n=Ds();t=Su(t,e),t!==null&&(n1(t,e,n),io(t,n))}function MU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dO(t,n)}function bU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),dO(t,n)}var hO;hO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||no.current)eo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return eo=!1,hU(t,e,n);eo=!!(t.flags&131072)}else eo=!1,fr&&e.flags&1048576&&gI(e,k_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;e_(t,e),t=e.pendingProps;var i=Em(e,hs.current);ym(e,n),i=wM(null,e,r,t,i,n);var s=EM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ro(r)?(s=!0,O_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gM(e),i.updater=B2,e.stateNode=i,i._reactInternals=e,HS(e,r,t,n),e=GS(null,e,r,!0,s,n)):(e.tag=0,fr&&s&&uM(e),Ts(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(e_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CU(r),t=ba(r,t),i){case 0:e=VS(null,e,r,t,n);break e;case 1:e=aC(null,e,r,t,n);break e;case 11:e=sC(null,e,r,t,n);break e;case 14:e=oC(null,e,r,ba(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),VS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),aC(t,e,r,i,n);case 3:e:{if(KI(e),t===null)throw Error(je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_I(t,e),B_(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bm(Error(je(423)),e),e=lC(t,e,r,n,i);break e}else if(r!==i){i=bm(Error(je(424)),e),e=lC(t,e,r,n,i);break e}else for(wo=Bc(e.stateNode.containerInfo.firstChild),Eo=e,fr=!0,Pa=null,n=AI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sm(),r===i){e=Au(t,e,n);break e}Ts(t,e,r,n)}e=e.child}return e;case 5:return MI(e),t===null&&BS(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,OS(r,i)?o=null:s!==null&&OS(r,s)&&(e.flags|=32),XI(t,e),Ts(t,e,o,n),e.child;case 6:return t===null&&BS(e),null;case 13:return $I(t,e,n);case 4:return vM(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Am(e,null,r,n):Ts(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),sC(t,e,r,i,n);case 7:return Ts(t,e,e.pendingProps,n),e.child;case 8:return Ts(t,e,e.pendingProps.children,n),e.child;case 12:return Ts(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Jn(N_,r._currentValue),r._currentValue=o,s!==null)if(Ba(s.value,o)){if(s.children===i.children&&!no.current){e=Au(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pu(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),FS(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),FS(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ts(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ym(e,n),i=na(i),r=r(i),e.flags|=1,Ts(t,e,r,n),e.child;case 14:return r=e.type,i=ba(r,e.pendingProps),i=ba(r.type,i),oC(t,e,r,i,n);case 15:return YI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),e_(t,e),e.tag=1,ro(r)?(t=!0,O_(e)):t=!1,ym(e,n),EI(e,r,i),HS(e,r,i,n),GS(null,e,r,!0,t,n);case 19:return ZI(t,e,n);case 22:return QI(t,e,n)}throw Error(je(156,e.tag))};function pO(t,e){return U8(t,e)}function TU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zo(t,e,n,r){return new TU(t,e,n,r)}function IM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CU(t){if(typeof t=="function")return IM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$4)return 11;if(t===Z4)return 14}return 2}function qc(t,e){var n=t.alternate;return n===null?(n=Zo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function r_(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")IM(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xp:return Hd(n.children,i,s,e);case K4:o=8,i|=8;break;case fS:return t=Zo(12,n,e,i|2),t.elementType=fS,t.lanes=s,t;case dS:return t=Zo(13,n,e,i),t.elementType=dS,t.lanes=s,t;case hS:return t=Zo(19,n,e,i),t.elementType=hS,t.lanes=s,t;case S8:return q2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w8:o=10;break e;case E8:o=9;break e;case $4:o=11;break e;case Z4:o=14;break e;case Ec:o=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Zo(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hd(t,e,n,r){return t=Zo(7,t,r,e),t.lanes=n,t}function q2(t,e,n,r){return t=Zo(22,t,r,e),t.elementType=S8,t.lanes=n,t.stateNode={isHidden:!1},t}function _w(t,e,n){return t=Zo(6,t,null,e),t.lanes=n,t}function ww(t,e,n){return e=Zo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function OM(t,e,n,r,i,s,o,a,l){return t=new PU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gM(s),t}function RU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mO(t){if(!t)return Qc;t=t._reactInternals;e:{if(ph(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ro(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(ro(n))return pI(t,n,e)}return e}function gO(t,e,n,r,i,s,o,a,l){return t=OM(n,r,!0,t,i,s,o,a,l),t.context=mO(null),n=t.current,r=Ds(),i=Hc(n),s=pu(r,i),s.callback=e??null,Fc(n,s,i),t.current.lanes=i,n1(t,i,r),io(t,r),t}function V2(t,e,n,r){var i=e.current,s=Ds(),o=Hc(i);return n=mO(n),e.context===null?e.context=n:e.pendingContext=n,e=pu(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fc(i,e,o),t!==null&&(ka(t,i,o,s),$x(t,i,o)),o}function j_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LM(t,e){yC(t,e),(t=t.alternate)&&yC(t,e)}function DU(){return null}var vO=typeof reportError=="function"?reportError:function(t){console.error(t)};function kM(t){this._internalRoot=t}G2.prototype.render=kM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));V2(t,e,null,null)};G2.prototype.unmount=kM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rh(function(){V2(null,t,null,null)}),e[Eu]=null}};function G2(t){this._internalRoot=t}G2.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bc.length&&e!==0&&e<bc[n].priority;n++);bc.splice(n,0,t),n===0&&X8(t)}};function NM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function W2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xC(){}function IU(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=j_(o);s.call(u)}}var o=gO(e,r,t,0,null,!1,!1,"",xC);return t._reactRootContainer=o,t[Eu]=o.current,mv(t.nodeType===8?t.parentNode:t),rh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=j_(l);a.call(u)}}var l=OM(t,0,!1,null,null,!1,!1,"",xC);return t._reactRootContainer=l,t[Eu]=l.current,mv(t.nodeType===8?t.parentNode:t),rh(function(){V2(e,l,n,r)}),l}function j2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=j_(o);a.call(l)}}V2(e,o,t,i)}else o=IU(n,e,t,i,r);return j_(o)}W8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=D0(e.pendingLanes);n!==0&&(tM(e,n|1),io(e,Ur()),!(Sn&6)&&(Tm=Ur()+500,lf()))}break;case 13:rh(function(){var r=Su(t,1);if(r!==null){var i=Ds();ka(r,t,1,i)}}),LM(t,1)}};nM=function(t){if(t.tag===13){var e=Su(t,134217728);if(e!==null){var n=Ds();ka(e,t,134217728,n)}LM(t,134217728)}};j8=function(t){if(t.tag===13){var e=Hc(t),n=Su(t,e);if(n!==null){var r=Ds();ka(n,t,e,r)}LM(t,e)}};Y8=function(){return Bn};Q8=function(t,e){var n=Bn;try{return Bn=t,e()}finally{Bn=n}};SS=function(t,e,n){switch(e){case"input":if(gS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=N2(r);if(!i)throw Error(je(90));M8(r),gS(r,i)}}}break;case"textarea":T8(t,n);break;case"select":e=n.value,e!=null&&pm(t,!!n.multiple,e,!1)}};L8=PM;k8=rh;var OU={usingClientEntryPoint:!1,Events:[i1,Jp,N2,I8,O8,PM]},Jg={findFiberByHostInstance:Cd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LU={bundleType:Jg.bundleType,version:Jg.version,rendererPackageName:Jg.rendererPackageName,rendererConfig:Jg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ru.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B8(t),t===null?null:t.stateNode},findFiberByHostInstance:Jg.findFiberByHostInstance||DU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Py.isDisabled&&Py.supportsFiber)try{I2=Py.inject(LU),ml=Py}catch{}}Po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OU;Po.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NM(e))throw Error(je(200));return RU(t,e,null,n)};Po.createRoot=function(t,e){if(!NM(t))throw Error(je(299));var n=!1,r="",i=vO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=OM(t,1,!1,null,null,n,!1,r,i),t[Eu]=e.current,mv(t.nodeType===8?t.parentNode:t),new kM(e)};Po.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=B8(e),t=t===null?null:t.stateNode,t};Po.flushSync=function(t){return rh(t)};Po.hydrate=function(t,e,n){if(!W2(e))throw Error(je(200));return j2(null,t,e,!0,n)};Po.hydrateRoot=function(t,e,n){if(!NM(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gO(e,null,t,1,n??null,i,!1,s,o),t[Eu]=e.current,mv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new G2(e)};Po.render=function(t,e,n){if(!W2(e))throw Error(je(200));return j2(null,t,e,!1,n)};Po.unmountComponentAtNode=function(t){if(!W2(t))throw Error(je(40));return t._reactRootContainer?(rh(function(){j2(null,null,t,!1,function(){t._reactRootContainer=null,t[Eu]=null})}),!0):!1};Po.unstable_batchedUpdates=PM;Po.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!W2(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return j2(t,e,n,!1,r)};Po.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Po})(D9);const fu=R2(E_);var _C=E_;lS.createRoot=_C.createRoot,lS.hydrateRoot=_C.hydrateRoot;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Du="148",Ed={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Sd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yO=0,nA=1,xO=2,kU=3,_O=0,Y2=1,Y0=2,Dd=3,Mu=0,Di=1,Dc=2,O0=3,qr=0,qd=1,Y_=2,rA=3,iA=4,wO=5,bd=100,EO=101,SO=102,sA=103,oA=104,AO=200,MO=201,bO=202,TO=203,zM=204,BM=205,CO=206,PO=207,RO=208,DO=209,IO=210,FM=0,UM=1,Q_=2,Av=3,HM=4,qM=5,VM=6,GM=7,o1=0,OO=1,LO=2,Na=0,kO=1,NO=2,zO=3,WM=4,BO=5,Q2=300,Xc=301,Kc=302,Mv=303,bv=304,Qm=306,Cm=1e3,us=1001,Tv=1002,Rn=1003,X_=1004,NU=1004,Q0=1005,zU=1005,zn=1006,jM=1007,BU=1007,bu=1008,FU=1008,Li=1009,FO=1010,UO=1011,YM=1012,HO=1013,du=1014,Ia=1015,$c=1016,qO=1017,VO=1018,Vc=1020,GO=1021,WO=1022,cs=1023,X2=1024,jO=1025,Gc=1026,Zc=1027,QM=1028,YO=1029,XM=1030,QO=1031,XO=1033,i_=33776,s_=33777,o_=33778,a_=33779,aA=35840,lA=35841,uA=35842,cA=35843,KO=36196,fA=37492,dA=37496,hA=37808,pA=37809,mA=37810,gA=37811,vA=37812,yA=37813,xA=37814,_A=37815,wA=37816,EA=37817,SA=37818,AA=37819,MA=37820,bA=37821,TA=36492,$O=2200,ZO=2201,JO=2202,Cv=2300,Pv=2301,l_=2302,Id=2400,Od=2401,Rv=2402,K2=2500,KM=2501,UU=0,HU=1,qU=2,Fa=3e3,Rt=3001,bo=3200,eL=3201,uf=0,tL=1,VU="",Ca="srgb",Pm="srgb-linear",GU=0,u_=7680,WU=7681,jU=7682,YU=7683,QU=34055,XU=34056,KU=5386,$U=512,ZU=513,JU=514,eH=515,tH=516,nH=517,rH=518,nL=519,Dv=35044,iH=35048,sH=35040,oH=35045,aH=35049,lH=35041,uH=35046,cH=35050,fH=35042,dH="100",CA="300 es",K_=1035;let Do=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const os=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let wC=1234567;const Vd=Math.PI/180,Iv=180/Math.PI;function So(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(os[t&255]+os[t>>8&255]+os[t>>16&255]+os[t>>24&255]+"-"+os[e&255]+os[e>>8&255]+"-"+os[e>>16&15|64]+os[e>>24&255]+"-"+os[n&63|128]+os[n>>8&255]+"-"+os[n>>16&255]+os[n>>24&255]+os[r&255]+os[r>>8&255]+os[r>>16&255]+os[r>>24&255]).toLowerCase()}function Hr(t,e,n){return Math.max(e,Math.min(n,t))}function $M(t,e){return(t%e+e)%e}function hH(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function pH(t,e,n){return t!==e?(n-t)/(e-t):0}function X0(t,e,n){return(1-n)*t+n*e}function mH(t,e,n,r){return X0(t,e,1-Math.exp(-n*r))}function gH(t,e=1){return e-Math.abs($M(t,e*2)-e)}function vH(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function yH(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function xH(t,e){return t+Math.floor(Math.random()*(e-t+1))}function _H(t,e){return t+Math.random()*(e-t)}function wH(t){return t*(.5-Math.random())}function EH(t){t!==void 0&&(wC=t);let e=wC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function SH(t){return t*Vd}function AH(t){return t*Iv}function PA(t){return(t&t-1)===0&&t!==0}function rL(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function $_(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function MH(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),h=s((e-r)/2),g=o((e-r)/2),v=s((r-e)/2),x=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*h,l*g,a*u);break;case"YZY":t.set(l*g,a*c,l*h,a*u);break;case"ZXZ":t.set(l*h,l*g,a*c,a*u);break;case"XZX":t.set(a*c,l*x,l*v,a*u);break;case"YXY":t.set(l*v,a*c,l*x,a*u);break;case"ZYZ":t.set(l*x,l*v,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function hu(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Yn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var ih=Object.freeze({__proto__:null,DEG2RAD:Vd,RAD2DEG:Iv,generateUUID:So,clamp:Hr,euclideanModulo:$M,mapLinear:hH,inverseLerp:pH,lerp:X0,damp:mH,pingpong:gH,smoothstep:vH,smootherstep:yH,randInt:xH,randFloat:_H,randFloatSpread:wH,seededRandom:EH,degToRad:SH,radToDeg:AH,isPowerOfTwo:PA,ceilPowerOfTwo:rL,floorPowerOfTwo:$_,setQuaternionFromProperEuler:MH,normalize:Yn,denormalize:hu});class xe{constructor(e=0,n=0){xe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ps{constructor(){Ps.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],h=r[7],g=r[2],v=r[5],x=r[8],y=i[0],_=i[3],E=i[6],w=i[1],M=i[4],C=i[7],R=i[2],O=i[5],k=i[8];return s[0]=o*y+a*w+l*R,s[3]=o*_+a*M+l*O,s[6]=o*E+a*C+l*k,s[1]=u*y+c*w+h*R,s[4]=u*_+c*M+h*O,s[7]=u*E+c*C+h*k,s[2]=g*y+v*w+x*R,s[5]=g*_+v*M+x*O,s[8]=g*E+v*C+x*k,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=c*o-a*u,g=a*l-c*s,v=u*s-o*l,x=n*h+r*g+i*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/x;return e[0]=h*y,e[1]=(i*u-c*r)*y,e[2]=(a*r-i*o)*y,e[3]=g*y,e[4]=(c*n-i*l)*y,e[5]=(i*s-a*n)*y,e[6]=v*y,e[7]=(r*l-u*n)*y,e[8]=(o*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(Ew.makeScale(e,n)),this}rotate(e){return this.premultiply(Ew.makeRotation(-e)),this}translate(e,n){return this.premultiply(Ew.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ew=new Ps;function iL(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const bH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function om(t,e){return new bH[t](e)}function Ov(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Gd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function c_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Sw={[Ca]:{[Pm]:Gd},[Pm]:{[Ca]:c_}},as={legacyMode:!0,get workingColorSpace(){return Pm},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(Sw[e]&&Sw[e][n]!==void 0){const r=Sw[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},sL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ui={r:0,g:0,b:0},Ea={h:0,s:0,l:0},Ry={h:0,s:0,l:0};function Aw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Dy(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}let tt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ca){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,as.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=as.workingColorSpace){return this.r=e,this.g=n,this.b=r,as.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=as.workingColorSpace){if(e=$M(e,1),n=Hr(n,0,1),r=Hr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=Aw(o,s,e+1/3),this.g=Aw(o,s,e),this.b=Aw(o,s,e-1/3)}return as.toWorkingColorSpace(this,i),this}setStyle(e,n=Ca){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,as.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,as.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,as.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,as.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=Ca){const r=sL[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Gd(e.r),this.g=Gd(e.g),this.b=Gd(e.b),this}copyLinearToSRGB(e){return this.r=c_(e.r),this.g=c_(e.g),this.b=c_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ca){return as.fromWorkingColorSpace(Dy(this,ui),e),Hr(ui.r*255,0,255)<<16^Hr(ui.g*255,0,255)<<8^Hr(ui.b*255,0,255)<<0}getHexString(e=Ca){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=as.workingColorSpace){as.fromWorkingColorSpace(Dy(this,ui),n);const r=ui.r,i=ui.g,s=ui.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=c<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=as.workingColorSpace){return as.fromWorkingColorSpace(Dy(this,ui),n),e.r=ui.r,e.g=ui.g,e.b=ui.b,e}getStyle(e=Ca){return as.fromWorkingColorSpace(Dy(this,ui),e),e!==Ca?`color(${e} ${ui.r} ${ui.g} ${ui.b})`:`rgb(${ui.r*255|0},${ui.g*255|0},${ui.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(Ea),Ea.h+=e,Ea.s+=n,Ea.l+=r,this.setHSL(Ea.h,Ea.s,Ea.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ea),e.getHSL(Ry);const r=X0(Ea.h,Ry.h,n),i=X0(Ea.s,Ry.s,n),s=X0(Ea.l,Ry.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};tt.NAMES=sL;let cp;class ZM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{cp===void 0&&(cp=Ov("canvas")),cp.width=e.width,cp.height=e.height;const r=cp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=cp}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ov("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Gd(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Gd(n[r]/255)*255):n[r]=Gd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ld{constructor(e=null){this.isSource=!0,this.uuid=So(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Mw(i[o].image)):s.push(Mw(i[o]))}else s=Mw(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function Mw(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ZM.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let TH=0;class Xn extends Do{constructor(e=Xn.DEFAULT_IMAGE,n=Xn.DEFAULT_MAPPING,r=us,i=us,s=zn,o=bu,a=cs,l=Li,u=Xn.DEFAULT_ANISOTROPY,c=Fa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:TH++}),this.uuid=So(),this.name="",this.source=new Ld(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new xe(0,0),this.repeat=new xe(1,1),this.center=new xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ps,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Q2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Cm:e.x=e.x-Math.floor(e.x);break;case us:e.x=e.x<0?0:1;break;case Tv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Cm:e.y=e.y-Math.floor(e.y);break;case us:e.y=e.y<0?0:1;break;case Tv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Xn.DEFAULT_IMAGE=null;Xn.DEFAULT_MAPPING=Q2;Xn.DEFAULT_ANISOTROPY=1;class En{constructor(e=0,n=0,r=0,i=1){En.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],h=l[8],g=l[1],v=l[5],x=l[9],y=l[2],_=l[6],E=l[10];if(Math.abs(c-g)<.01&&Math.abs(h-y)<.01&&Math.abs(x-_)<.01){if(Math.abs(c+g)<.1&&Math.abs(h+y)<.1&&Math.abs(x+_)<.1&&Math.abs(u+v+E-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const M=(u+1)/2,C=(v+1)/2,R=(E+1)/2,O=(c+g)/4,k=(h+y)/4,P=(x+_)/4;return M>C&&M>R?M<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(M),i=O/r,s=k/r):C>R?C<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=O/i,s=P/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=k/s,i=P/s),this.set(r,i,s,n),this}let w=Math.sqrt((_-x)*(_-x)+(h-y)*(h-y)+(g-c)*(g-c));return Math.abs(w)<.001&&(w=1),this.x=(_-x)/w,this.y=(h-y)/w,this.z=(g-c)/w,this.w=Math.acos((u+v+E-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Dn extends Do{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new En(0,0,e,n),this.scissorTest=!1,this.viewport=new En(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new Xn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:zn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ld(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class a1 extends Xn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=us,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class CH extends Dn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new a1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class $2 extends Xn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=us,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class PH extends Dn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new $2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class RH extends Dn{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ds{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],h=r[i+3];const g=s[o+0],v=s[o+1],x=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=h;return}if(a===1){e[n+0]=g,e[n+1]=v,e[n+2]=x,e[n+3]=y;return}if(h!==y||l!==g||u!==v||c!==x){let _=1-a;const E=l*g+u*v+c*x+h*y,w=E>=0?1:-1,M=1-E*E;if(M>Number.EPSILON){const R=Math.sqrt(M),O=Math.atan2(R,E*w);_=Math.sin(_*O)/R,a=Math.sin(a*O)/R}const C=a*w;if(l=l*_+g*C,u=u*_+v*C,c=c*_+x*C,h=h*_+y*C,_===1-a){const R=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=R,u*=R,c*=R,h*=R}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],h=s[o],g=s[o+1],v=s[o+2],x=s[o+3];return e[n]=a*x+c*h+l*v-u*g,e[n+1]=l*x+c*g+u*h-a*v,e[n+2]=u*x+c*v+a*g-l*h,e[n+3]=c*x-a*h-l*g-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),h=a(s/2),g=l(r/2),v=l(i/2),x=l(s/2);switch(o){case"XYZ":this._x=g*c*h+u*v*x,this._y=u*v*h-g*c*x,this._z=u*c*x+g*v*h,this._w=u*c*h-g*v*x;break;case"YXZ":this._x=g*c*h+u*v*x,this._y=u*v*h-g*c*x,this._z=u*c*x-g*v*h,this._w=u*c*h+g*v*x;break;case"ZXY":this._x=g*c*h-u*v*x,this._y=u*v*h+g*c*x,this._z=u*c*x+g*v*h,this._w=u*c*h-g*v*x;break;case"ZYX":this._x=g*c*h-u*v*x,this._y=u*v*h+g*c*x,this._z=u*c*x-g*v*h,this._w=u*c*h+g*v*x;break;case"YZX":this._x=g*c*h+u*v*x,this._y=u*v*h+g*c*x,this._z=u*c*x-g*v*h,this._w=u*c*h-g*v*x;break;case"XZY":this._x=g*c*h-u*v*x,this._y=u*v*h-g*c*x,this._z=u*c*x+g*v*h,this._w=u*c*h+g*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],h=n[10],g=r+a+h;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(c-l)*v,this._y=(s-u)*v,this._z=(o-i)*v}else if(r>a&&r>h){const v=2*Math.sqrt(1+r-a-h);this._w=(c-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+u)/v}else if(a>h){const v=2*Math.sqrt(1+a-r-h);this._w=(s-u)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+c)/v}else{const v=2*Math.sqrt(1+h-r-a);this._w=(o-i)/v,this._x=(s+u)/v,this._y=(l+c)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Hr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),h=Math.sin((1-n)*c)/u,g=Math.sin(n*c)/u;return this._w=o*h+this._w*g,this._x=r*h+this._x*g,this._y=i*h+this._y*g,this._z=s*h+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class j{constructor(e=0,n=0,r=0){j.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(EC.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(EC.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,h=l*i+s*r-o*n,g=-s*n-o*r-a*i;return this.x=u*l+g*-s+c*-a-h*-o,this.y=c*l+g*-o+h*-s-u*-a,this.z=h*l+g*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return bw.copy(this).projectOnVector(e),this.sub(bw)}reflect(e){return this.sub(bw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bw=new j,EC=new ds;class cf{constructor(e=new j(1/0,1/0,1/0),n=new j(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],h=e[l+1],g=e[l+2];c<n&&(n=c),h<r&&(r=h),g<i&&(i=g),c>s&&(s=c),h>o&&(o=h),g>a&&(a=g)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),h=e.getY(l),g=e.getZ(l);c<n&&(n=c),h<r&&(r=h),g<i&&(i=g),c>s&&(s=c),h>o&&(o=h),g>a&&(a=g)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ud.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ud.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ud)}else r.boundingBox===null&&r.computeBoundingBox(),Tw.copy(r.boundingBox),Tw.applyMatrix4(e.matrixWorld),this.union(Tw);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ud),ud.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(e0),Iy.subVectors(this.max,e0),fp.subVectors(e.a,e0),dp.subVectors(e.b,e0),hp.subVectors(e.c,e0),fc.subVectors(dp,fp),dc.subVectors(hp,dp),cd.subVectors(fp,hp);let n=[0,-fc.z,fc.y,0,-dc.z,dc.y,0,-cd.z,cd.y,fc.z,0,-fc.x,dc.z,0,-dc.x,cd.z,0,-cd.x,-fc.y,fc.x,0,-dc.y,dc.x,0,-cd.y,cd.x,0];return!Cw(n,fp,dp,hp,Iy)||(n=[1,0,0,0,1,0,0,0,1],!Cw(n,fp,dp,hp,Iy))?!1:(Oy.crossVectors(fc,dc),n=[Oy.x,Oy.y,Oy.z],Cw(n,fp,dp,hp,Iy))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ud.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ud).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Yl=[new j,new j,new j,new j,new j,new j,new j,new j],ud=new j,Tw=new cf,fp=new j,dp=new j,hp=new j,fc=new j,dc=new j,cd=new j,e0=new j,Iy=new j,Oy=new j,fd=new j;function Cw(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){fd.fromArray(t,s);const a=i.x*Math.abs(fd.x)+i.y*Math.abs(fd.y)+i.z*Math.abs(fd.z),l=e.dot(fd),u=n.dot(fd),c=r.dot(fd);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const DH=new cf,t0=new j,Pw=new j;class ff{constructor(e=new j,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):DH.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;t0.subVectors(e,this.center);const n=t0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(t0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Pw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(t0.copy(e.center).add(Pw)),this.expandByPoint(t0.copy(e.center).sub(Pw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ql=new j,Rw=new j,Ly=new j,hc=new j,Dw=new j,ky=new j,Iw=new j;class l1{constructor(e=new j,n=new j(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ql)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ql.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ql.copy(this.direction).multiplyScalar(n).add(this.origin),Ql.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Rw.copy(e).add(n).multiplyScalar(.5),Ly.copy(n).sub(e).normalize(),hc.copy(this.origin).sub(Rw);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Ly),a=hc.dot(this.direction),l=-hc.dot(Ly),u=hc.lengthSq(),c=Math.abs(1-o*o);let h,g,v,x;if(c>0)if(h=o*l-a,g=o*a-l,x=s*c,h>=0)if(g>=-x)if(g<=x){const y=1/c;h*=y,g*=y,v=h*(h+o*g+2*a)+g*(o*h+g+2*l)+u}else g=s,h=Math.max(0,-(o*g+a)),v=-h*h+g*(g+2*l)+u;else g=-s,h=Math.max(0,-(o*g+a)),v=-h*h+g*(g+2*l)+u;else g<=-x?(h=Math.max(0,-(-o*s+a)),g=h>0?-s:Math.min(Math.max(-s,-l),s),v=-h*h+g*(g+2*l)+u):g<=x?(h=0,g=Math.min(Math.max(-s,-l),s),v=g*(g+2*l)+u):(h=Math.max(0,-(o*s+a)),g=h>0?s:Math.min(Math.max(-s,-l),s),v=-h*h+g*(g+2*l)+u);else g=o>0?-s:s,h=Math.max(0,-(o*g+a)),v=-h*h+g*(g+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Ly).multiplyScalar(g).add(Rw),v}intersectSphere(e,n){Ql.subVectors(e.center,this.origin);const r=Ql.dot(this.direction),i=Ql.dot(Ql)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,g=this.origin;return u>=0?(r=(e.min.x-g.x)*u,i=(e.max.x-g.x)*u):(r=(e.max.x-g.x)*u,i=(e.min.x-g.x)*u),c>=0?(s=(e.min.y-g.y)*c,o=(e.max.y-g.y)*c):(s=(e.max.y-g.y)*c,o=(e.min.y-g.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-g.z)*h,l=(e.max.z-g.z)*h):(a=(e.max.z-g.z)*h,l=(e.min.z-g.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ql)!==null}intersectTriangle(e,n,r,i,s){Dw.subVectors(n,e),ky.subVectors(r,e),Iw.crossVectors(Dw,ky);let o=this.direction.dot(Iw),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;hc.subVectors(this.origin,e);const l=a*this.direction.dot(ky.crossVectors(hc,ky));if(l<0)return null;const u=a*this.direction.dot(Dw.cross(hc));if(u<0||l+u>o)return null;const c=-a*hc.dot(Iw);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(){Xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,u,c,h,g,v,x,y,_){const E=this.elements;return E[0]=e,E[4]=n,E[8]=r,E[12]=i,E[1]=s,E[5]=o,E[9]=a,E[13]=l,E[2]=u,E[6]=c,E[10]=h,E[14]=g,E[3]=v,E[7]=x,E[11]=y,E[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/pp.setFromMatrixColumn(e,0).length(),s=1/pp.setFromMatrixColumn(e,1).length(),o=1/pp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const g=o*c,v=o*h,x=a*c,y=a*h;n[0]=l*c,n[4]=-l*h,n[8]=u,n[1]=v+x*u,n[5]=g-y*u,n[9]=-a*l,n[2]=y-g*u,n[6]=x+v*u,n[10]=o*l}else if(e.order==="YXZ"){const g=l*c,v=l*h,x=u*c,y=u*h;n[0]=g+y*a,n[4]=x*a-v,n[8]=o*u,n[1]=o*h,n[5]=o*c,n[9]=-a,n[2]=v*a-x,n[6]=y+g*a,n[10]=o*l}else if(e.order==="ZXY"){const g=l*c,v=l*h,x=u*c,y=u*h;n[0]=g-y*a,n[4]=-o*h,n[8]=x+v*a,n[1]=v+x*a,n[5]=o*c,n[9]=y-g*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const g=o*c,v=o*h,x=a*c,y=a*h;n[0]=l*c,n[4]=x*u-v,n[8]=g*u+y,n[1]=l*h,n[5]=y*u+g,n[9]=v*u-x,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const g=o*l,v=o*u,x=a*l,y=a*u;n[0]=l*c,n[4]=y-g*h,n[8]=x*h+v,n[1]=h,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=v*h+x,n[10]=g-y*h}else if(e.order==="XZY"){const g=o*l,v=o*u,x=a*l,y=a*u;n[0]=l*c,n[4]=-h,n[8]=u*c,n[1]=g*h+y,n[5]=o*c,n[9]=v*h-x,n[2]=x*h-v,n[6]=a*c,n[10]=y*h+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(IH,e,OH)}lookAt(e,n,r){const i=this.elements;return yo.subVectors(e,n),yo.lengthSq()===0&&(yo.z=1),yo.normalize(),pc.crossVectors(r,yo),pc.lengthSq()===0&&(Math.abs(r.z)===1?yo.x+=1e-4:yo.z+=1e-4,yo.normalize(),pc.crossVectors(r,yo)),pc.normalize(),Ny.crossVectors(yo,pc),i[0]=pc.x,i[4]=Ny.x,i[8]=yo.x,i[1]=pc.y,i[5]=Ny.y,i[9]=yo.y,i[2]=pc.z,i[6]=Ny.z,i[10]=yo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],h=r[5],g=r[9],v=r[13],x=r[2],y=r[6],_=r[10],E=r[14],w=r[3],M=r[7],C=r[11],R=r[15],O=i[0],k=i[4],P=i[8],z=i[12],B=i[1],q=i[5],Q=i[9],W=i[13],X=i[2],ne=i[6],se=i[10],de=i[14],G=i[3],te=i[7],re=i[11],V=i[15];return s[0]=o*O+a*B+l*X+u*G,s[4]=o*k+a*q+l*ne+u*te,s[8]=o*P+a*Q+l*se+u*re,s[12]=o*z+a*W+l*de+u*V,s[1]=c*O+h*B+g*X+v*G,s[5]=c*k+h*q+g*ne+v*te,s[9]=c*P+h*Q+g*se+v*re,s[13]=c*z+h*W+g*de+v*V,s[2]=x*O+y*B+_*X+E*G,s[6]=x*k+y*q+_*ne+E*te,s[10]=x*P+y*Q+_*se+E*re,s[14]=x*z+y*W+_*de+E*V,s[3]=w*O+M*B+C*X+R*G,s[7]=w*k+M*q+C*ne+R*te,s[11]=w*P+M*Q+C*se+R*re,s[15]=w*z+M*W+C*de+R*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],h=e[6],g=e[10],v=e[14],x=e[3],y=e[7],_=e[11],E=e[15];return x*(+s*l*h-i*u*h-s*a*g+r*u*g+i*a*v-r*l*v)+y*(+n*l*v-n*u*g+s*o*g-i*o*v+i*u*c-s*l*c)+_*(+n*u*h-n*a*v-s*o*h+r*o*v+s*a*c-r*u*c)+E*(-i*a*c-n*l*h+n*a*g+i*o*h-r*o*g+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],g=e[10],v=e[11],x=e[12],y=e[13],_=e[14],E=e[15],w=h*_*u-y*g*u+y*l*v-a*_*v-h*l*E+a*g*E,M=x*g*u-c*_*u-x*l*v+o*_*v+c*l*E-o*g*E,C=c*y*u-x*h*u+x*a*v-o*y*v-c*a*E+o*h*E,R=x*h*l-c*y*l-x*a*g+o*y*g+c*a*_-o*h*_,O=n*w+r*M+i*C+s*R;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/O;return e[0]=w*k,e[1]=(y*g*s-h*_*s-y*i*v+r*_*v+h*i*E-r*g*E)*k,e[2]=(a*_*s-y*l*s+y*i*u-r*_*u-a*i*E+r*l*E)*k,e[3]=(h*l*s-a*g*s-h*i*u+r*g*u+a*i*v-r*l*v)*k,e[4]=M*k,e[5]=(c*_*s-x*g*s+x*i*v-n*_*v-c*i*E+n*g*E)*k,e[6]=(x*l*s-o*_*s-x*i*u+n*_*u+o*i*E-n*l*E)*k,e[7]=(o*g*s-c*l*s+c*i*u-n*g*u-o*i*v+n*l*v)*k,e[8]=C*k,e[9]=(x*h*s-c*y*s-x*r*v+n*y*v+c*r*E-n*h*E)*k,e[10]=(o*y*s-x*a*s+x*r*u-n*y*u-o*r*E+n*a*E)*k,e[11]=(c*a*s-o*h*s-c*r*u+n*h*u+o*r*v-n*a*v)*k,e[12]=R*k,e[13]=(c*y*i-x*h*i+x*r*g-n*y*g-c*r*_+n*h*_)*k,e[14]=(x*a*i-o*y*i-x*r*l+n*y*l+o*r*_-n*a*_)*k,e[15]=(o*h*i-c*a*i+c*r*l-n*h*l-o*r*g+n*a*g)*k,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,h=a+a,g=s*u,v=s*c,x=s*h,y=o*c,_=o*h,E=a*h,w=l*u,M=l*c,C=l*h,R=r.x,O=r.y,k=r.z;return i[0]=(1-(y+E))*R,i[1]=(v+C)*R,i[2]=(x-M)*R,i[3]=0,i[4]=(v-C)*O,i[5]=(1-(g+E))*O,i[6]=(_+w)*O,i[7]=0,i[8]=(x+M)*k,i[9]=(_-w)*k,i[10]=(1-(g+y))*k,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=pp.set(i[0],i[1],i[2]).length();const o=pp.set(i[4],i[5],i[6]).length(),a=pp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Sa.copy(this);const u=1/s,c=1/o,h=1/a;return Sa.elements[0]*=u,Sa.elements[1]*=u,Sa.elements[2]*=u,Sa.elements[4]*=c,Sa.elements[5]*=c,Sa.elements[6]*=c,Sa.elements[8]*=h,Sa.elements[9]*=h,Sa.elements[10]*=h,n.setFromRotationMatrix(Sa),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),c=(n+e)/(n-e),h=(r+i)/(r-i),g=-(o+s)/(o-s),v=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=g,a[14]=v,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(o-s),h=(n+e)*l,g=(r+i)*u,v=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-g,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-v,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const pp=new j,Sa=new Xt,IH=new j(0,0,0),OH=new j(1,1,1),pc=new j,Ny=new j,yo=new j,SC=new Xt,AC=new ds;class Xm{constructor(e=0,n=0,r=0,i=Xm.DefaultOrder){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],h=i[2],g=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(Hr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(g,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Hr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Hr(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Hr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(g,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Hr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-Hr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return SC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SC,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return AC.setFromEuler(this),this.setFromQuaternion(AC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Xm.DefaultOrder="XYZ";Xm.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Wc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let LH=0;const MC=new j,mp=new ds,Xl=new Xt,zy=new j,n0=new j,kH=new j,NH=new ds,bC=new j(1,0,0),TC=new j(0,1,0),CC=new j(0,0,1),zH={type:"added"},PC={type:"removed"};class Cn extends Do{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:LH++}),this.uuid=So(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Cn.DefaultUp.clone();const e=new j,n=new Xm,r=new ds,i=new j(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xt},normalMatrix:{value:new Ps}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=Cn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Cn.DefaultMatrixWorldAutoUpdate,this.layers=new Wc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return mp.setFromAxisAngle(e,n),this.quaternion.multiply(mp),this}rotateOnWorldAxis(e,n){return mp.setFromAxisAngle(e,n),this.quaternion.premultiply(mp),this}rotateX(e){return this.rotateOnAxis(bC,e)}rotateY(e){return this.rotateOnAxis(TC,e)}rotateZ(e){return this.rotateOnAxis(CC,e)}translateOnAxis(e,n){return MC.copy(e).applyQuaternion(this.quaternion),this.position.add(MC.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(bC,e)}translateY(e){return this.translateOnAxis(TC,e)}translateZ(e){return this.translateOnAxis(CC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Xl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?zy.copy(e):zy.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),n0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xl.lookAt(n0,zy,this.up):Xl.lookAt(zy,n0,this.up),this.quaternion.setFromRotationMatrix(Xl),i&&(Xl.extractRotation(i.matrixWorld),mp.setFromRotationMatrix(Xl),this.quaternion.premultiply(mp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zH)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(PC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(PC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Xl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n0,e,kH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n0,NH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),h=o(e.shapes),g=o(e.skeletons),v=o(e.animations),x=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),h.length>0&&(r.shapes=h),g.length>0&&(r.skeletons=g),v.length>0&&(r.animations=v),x.length>0&&(r.nodes=x)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Cn.DefaultUp=new j(0,1,0);Cn.DefaultMatrixAutoUpdate=!0;Cn.DefaultMatrixWorldAutoUpdate=!0;const Aa=new j,Kl=new j,Ow=new j,$l=new j,gp=new j,vp=new j,RC=new j,Lw=new j,kw=new j,Nw=new j;class $o{constructor(e=new j,n=new j,r=new j){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Aa.subVectors(e,n),i.cross(Aa);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Aa.subVectors(i,n),Kl.subVectors(r,n),Ow.subVectors(e,n);const o=Aa.dot(Aa),a=Aa.dot(Kl),l=Aa.dot(Ow),u=Kl.dot(Kl),c=Kl.dot(Ow),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const g=1/h,v=(u*l-a*c)*g,x=(o*c-a*l)*g;return s.set(1-v-x,x,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,$l),$l.x>=0&&$l.y>=0&&$l.x+$l.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,$l),l.set(0,0),l.addScaledVector(s,$l.x),l.addScaledVector(o,$l.y),l.addScaledVector(a,$l.z),l}static isFrontFacing(e,n,r,i){return Aa.subVectors(r,n),Kl.subVectors(e,n),Aa.cross(Kl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Aa.subVectors(this.c,this.b),Kl.subVectors(this.a,this.b),Aa.cross(Kl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return $o.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return $o.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return $o.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return $o.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return $o.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;gp.subVectors(i,r),vp.subVectors(s,r),Lw.subVectors(e,r);const l=gp.dot(Lw),u=vp.dot(Lw);if(l<=0&&u<=0)return n.copy(r);kw.subVectors(e,i);const c=gp.dot(kw),h=vp.dot(kw);if(c>=0&&h<=c)return n.copy(i);const g=l*h-c*u;if(g<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(gp,o);Nw.subVectors(e,s);const v=gp.dot(Nw),x=vp.dot(Nw);if(x>=0&&v<=x)return n.copy(s);const y=v*u-l*x;if(y<=0&&u>=0&&x<=0)return a=u/(u-x),n.copy(r).addScaledVector(vp,a);const _=c*x-v*h;if(_<=0&&h-c>=0&&v-x>=0)return RC.subVectors(s,i),a=(h-c)/(h-c+(v-x)),n.copy(i).addScaledVector(RC,a);const E=1/(_+y+g);return o=y*E,a=g*E,n.copy(r).addScaledVector(gp,o).addScaledVector(vp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let BH=0;class gi extends Do{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:BH++}),this.uuid=So(),this.name="",this.type="Material",this.blending=qd,this.side=Mu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=zM,this.blendDst=BM,this.blendEquation=bd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Av,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=u_,this.stencilZFail=u_,this.stencilZPass=u_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==qd&&(r.blending=this.blending),this.side!==Mu&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Iu extends gi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=o1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const jr=new j,By=new xe;class An{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Dv,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)By.fromBufferAttribute(this,n),By.applyMatrix3(e),this.setXY(n,By.x,By.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.applyMatrix3(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.applyMatrix4(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.applyNormalMatrix(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.transformDirection(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=hu(n,this.array)),n}setX(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=hu(n,this.array)),n}setY(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=hu(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=hu(n,this.array)),n}setW(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),r=Yn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),r=Yn(r,this.array),i=Yn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),r=Yn(r,this.array),i=Yn(i,this.array),s=Yn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Dv&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class FH extends An{constructor(e,n,r){super(new Int8Array(e),n,r)}}class UH extends An{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class HH extends An{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class qH extends An{constructor(e,n,r){super(new Int16Array(e),n,r)}}class JM extends An{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class VH extends An{constructor(e,n,r){super(new Int32Array(e),n,r)}}class eb extends An{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class GH extends An{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class yt extends An{constructor(e,n,r){super(new Float32Array(e),n,r)}}class WH extends An{constructor(e,n,r){super(new Float64Array(e),n,r)}}let jH=0;const Wo=new Xt,zw=new Cn,yp=new j,xo=new cf,r0=new cf,bi=new j;class Jt extends Do{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jH++}),this.uuid=So(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iL(e)?eb:JM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Ps().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Wo.makeRotationFromQuaternion(e),this.applyMatrix4(Wo),this}rotateX(e){return Wo.makeRotationX(e),this.applyMatrix4(Wo),this}rotateY(e){return Wo.makeRotationY(e),this.applyMatrix4(Wo),this}rotateZ(e){return Wo.makeRotationZ(e),this.applyMatrix4(Wo),this}translate(e,n,r){return Wo.makeTranslation(e,n,r),this.applyMatrix4(Wo),this}scale(e,n,r){return Wo.makeScale(e,n,r),this.applyMatrix4(Wo),this}lookAt(e){return zw.lookAt(e),zw.updateMatrix(),this.applyMatrix4(zw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yp).negate(),this.translate(yp.x,yp.y,yp.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new yt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new cf);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new j(-1/0,-1/0,-1/0),new j(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];xo.setFromBufferAttribute(s),this.morphTargetsRelative?(bi.addVectors(this.boundingBox.min,xo.min),this.boundingBox.expandByPoint(bi),bi.addVectors(this.boundingBox.max,xo.max),this.boundingBox.expandByPoint(bi)):(this.boundingBox.expandByPoint(xo.min),this.boundingBox.expandByPoint(xo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ff);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new j,1/0);return}if(e){const r=this.boundingSphere.center;if(xo.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];r0.setFromBufferAttribute(a),this.morphTargetsRelative?(bi.addVectors(xo.min,r0.min),xo.expandByPoint(bi),bi.addVectors(xo.max,r0.max),xo.expandByPoint(bi)):(xo.expandByPoint(r0.min),xo.expandByPoint(r0.max))}xo.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)bi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(bi));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)bi.fromBufferAttribute(a,u),l&&(yp.fromBufferAttribute(e,u),bi.add(yp)),i=Math.max(i,r.distanceToSquared(bi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new An(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let B=0;B<a;B++)u[B]=new j,c[B]=new j;const h=new j,g=new j,v=new j,x=new xe,y=new xe,_=new xe,E=new j,w=new j;function M(B,q,Q){h.fromArray(i,B*3),g.fromArray(i,q*3),v.fromArray(i,Q*3),x.fromArray(o,B*2),y.fromArray(o,q*2),_.fromArray(o,Q*2),g.sub(h),v.sub(h),y.sub(x),_.sub(x);const W=1/(y.x*_.y-_.x*y.y);isFinite(W)&&(E.copy(g).multiplyScalar(_.y).addScaledVector(v,-y.y).multiplyScalar(W),w.copy(v).multiplyScalar(y.x).addScaledVector(g,-_.x).multiplyScalar(W),u[B].add(E),u[q].add(E),u[Q].add(E),c[B].add(w),c[q].add(w),c[Q].add(w))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let B=0,q=C.length;B<q;++B){const Q=C[B],W=Q.start,X=Q.count;for(let ne=W,se=W+X;ne<se;ne+=3)M(r[ne+0],r[ne+1],r[ne+2])}const R=new j,O=new j,k=new j,P=new j;function z(B){k.fromArray(s,B*3),P.copy(k);const q=u[B];R.copy(q),R.sub(k.multiplyScalar(k.dot(q))).normalize(),O.crossVectors(P,q);const W=O.dot(c[B])<0?-1:1;l[B*4]=R.x,l[B*4+1]=R.y,l[B*4+2]=R.z,l[B*4+3]=W}for(let B=0,q=C.length;B<q;++B){const Q=C[B],W=Q.start,X=Q.count;for(let ne=W,se=W+X;ne<se;ne+=3)z(r[ne+0]),z(r[ne+1]),z(r[ne+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new An(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let g=0,v=r.count;g<v;g++)r.setXYZ(g,0,0,0);const i=new j,s=new j,o=new j,a=new j,l=new j,u=new j,c=new j,h=new j;if(e)for(let g=0,v=e.count;g<v;g+=3){const x=e.getX(g+0),y=e.getX(g+1),_=e.getX(g+2);i.fromBufferAttribute(n,x),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,_),c.subVectors(o,s),h.subVectors(i,s),c.cross(h),a.fromBufferAttribute(r,x),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,_),a.add(c),l.add(c),u.add(c),r.setXYZ(x,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let g=0,v=n.count;g<v;g+=3)i.fromBufferAttribute(n,g+0),s.fromBufferAttribute(n,g+1),o.fromBufferAttribute(n,g+2),c.subVectors(o,s),h.subVectors(i,s),c.cross(h),r.setXYZ(g+0,c.x,c.y,c.z),r.setXYZ(g+1,c.x,c.y,c.z),r.setXYZ(g+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)bi.fromBufferAttribute(e,n),bi.normalize(),e.setXYZ(n,bi.x,bi.y,bi.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,h=a.normalized,g=new u.constructor(l.length*c);let v=0,x=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?v=l[y]*a.data.stride+a.offset:v=l[y]*c;for(let E=0;E<c;E++)g[x++]=u[v++]}return new An(g,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Jt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,h=u.length;c<h;c++){const g=u[c],v=e(g,r);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let h=0,g=u.length;h<g;h++){const v=u[h];c.push(v.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],h=s[u];for(let g=0,v=h.length;g<v;g++)c.push(h[g].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const DC=new Xt,xp=new l1,Bw=new ff,i0=new j,s0=new j,o0=new j,Fw=new j,Fy=new j,Uy=new xe,Hy=new xe,qy=new xe,Uw=new j,Vy=new j;class di extends Cn{constructor(e=new Jt,n=new Iu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Fy.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],h=s[l];c!==0&&(Fw.fromBufferAttribute(h,e),o?Fy.addScaledVector(Fw,c):Fy.addScaledVector(Fw.sub(n),c))}n.add(Fy)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Bw.copy(r.boundingSphere),Bw.applyMatrix4(s),e.ray.intersectsSphere(Bw)===!1)||(DC.copy(s).invert(),xp.copy(e.ray).applyMatrix4(DC),r.boundingBox!==null&&xp.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,h=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,x=h.length;v<x;v++){const y=h[v],_=i[y.materialIndex],E=Math.max(y.start,g.start),w=Math.min(a.count,Math.min(y.start+y.count,g.start+g.count));for(let M=E,C=w;M<C;M+=3){const R=a.getX(M),O=a.getX(M+1),k=a.getX(M+2);o=Gy(this,_,e,xp,u,c,R,O,k),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const v=Math.max(0,g.start),x=Math.min(a.count,g.start+g.count);for(let y=v,_=x;y<_;y+=3){const E=a.getX(y),w=a.getX(y+1),M=a.getX(y+2);o=Gy(this,i,e,xp,u,c,E,w,M),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,x=h.length;v<x;v++){const y=h[v],_=i[y.materialIndex],E=Math.max(y.start,g.start),w=Math.min(l.count,Math.min(y.start+y.count,g.start+g.count));for(let M=E,C=w;M<C;M+=3){const R=M,O=M+1,k=M+2;o=Gy(this,_,e,xp,u,c,R,O,k),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const v=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let y=v,_=x;y<_;y+=3){const E=y,w=y+1,M=y+2;o=Gy(this,i,e,xp,u,c,E,w,M),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}}}function YH(t,e,n,r,i,s,o,a){let l;if(e.side===Di?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Mu,a),l===null)return null;Vy.copy(a),Vy.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Vy);return u<n.near||u>n.far?null:{distance:u,point:Vy.clone(),object:t}}function Gy(t,e,n,r,i,s,o,a,l){t.getVertexPosition(o,i0),t.getVertexPosition(a,s0),t.getVertexPosition(l,o0);const u=YH(t,e,n,r,i0,s0,o0,Uw);if(u){i&&(Uy.fromBufferAttribute(i,o),Hy.fromBufferAttribute(i,a),qy.fromBufferAttribute(i,l),u.uv=$o.getUV(Uw,i0,s0,o0,Uy,Hy,qy,new xe)),s&&(Uy.fromBufferAttribute(s,o),Hy.fromBufferAttribute(s,a),qy.fromBufferAttribute(s,l),u.uv2=$o.getUV(Uw,i0,s0,o0,Uy,Hy,qy,new xe));const c={a:o,b:a,c:l,normal:new j,materialIndex:0};$o.getNormal(i0,s0,o0,c.normal),u.face=c}return u}class Ou extends Jt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],h=[];let g=0,v=0;x("z","y","x",-1,-1,r,n,e,o,s,0),x("z","y","x",1,-1,r,n,-e,o,s,1),x("x","z","y",1,1,e,r,n,i,o,2),x("x","z","y",1,-1,e,r,-n,i,o,3),x("x","y","z",1,-1,e,n,r,i,s,4),x("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new yt(u,3)),this.setAttribute("normal",new yt(c,3)),this.setAttribute("uv",new yt(h,2));function x(y,_,E,w,M,C,R,O,k,P,z){const B=C/k,q=R/P,Q=C/2,W=R/2,X=O/2,ne=k+1,se=P+1;let de=0,G=0;const te=new j;for(let re=0;re<se;re++){const V=re*q-W;for(let J=0;J<ne;J++){const he=J*B-Q;te[y]=he*w,te[_]=V*M,te[E]=X,u.push(te.x,te.y,te.z),te[y]=0,te[_]=0,te[E]=O>0?1:-1,c.push(te.x,te.y,te.z),h.push(J/k),h.push(1-re/P),de+=1}}for(let re=0;re<P;re++)for(let V=0;V<k;V++){const J=g+V+ne*re,he=g+V+ne*(re+1),we=g+(V+1)+ne*(re+1),be=g+(V+1)+ne*re;l.push(J,he,be),l.push(he,we,be),G+=6}a.addGroup(v,G,z),v+=G,g+=de}}static fromJSON(e){return new Ou(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Rm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function bs(t){const e={};for(let n=0;n<t.length;n++){const r=Rm(t[n]);for(const i in r)e[i]=r[i]}return e}function QH(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function oL(t){return t.getRenderTarget()===null&&t.outputEncoding===Rt?Ca:Pm}const Z2={clone:Rm,merge:bs};var XH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,KH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ar extends gi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=XH,this.fragmentShader=KH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rm(e.uniforms),this.uniformsGroups=QH(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Km extends Cn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let Zn=class extends Km{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Iv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Vd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Iv*2*Math.atan(Math.tan(Vd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Vd*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const _p=-90,wp=1;class aL extends Cn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Zn(_p,wp,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Zn(_p,wp,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Zn(_p,wp,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Zn(_p,wp,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Zn(_p,wp,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Zn(_p,wp,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),h=e.toneMapping,g=e.xr.enabled;e.toneMapping=Na,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class u1 extends Xn{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Xc,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lL extends Dn{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new u1(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:zn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ou(5,5,5),s=new ar({name:"CubemapFromEquirect",uniforms:Rm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Di,blending:qr});s.uniforms.tEquirect.value=n;const o=new di(i,s),a=n.minFilter;return n.minFilter===bu&&(n.minFilter=zn),new aL(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const Hw=new j,$H=new j,ZH=new Ps;class Ac{constructor(e=new j(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Hw.subVectors(r,n).cross($H.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(Hw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||ZH.getNormalMatrix(e),i=this.coplanarPoint(Hw).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ep=new ff,Wy=new j;class J2{constructor(e=new Ac,n=new Ac,r=new Ac,i=new Ac,s=new Ac,o=new Ac){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],h=r[7],g=r[8],v=r[9],x=r[10],y=r[11],_=r[12],E=r[13],w=r[14],M=r[15];return n[0].setComponents(a-i,h-l,y-g,M-_).normalize(),n[1].setComponents(a+i,h+l,y+g,M+_).normalize(),n[2].setComponents(a+s,h+u,y+v,M+E).normalize(),n[3].setComponents(a-s,h-u,y-v,M-E).normalize(),n[4].setComponents(a-o,h-c,y-x,M-w).normalize(),n[5].setComponents(a+o,h+c,y+x,M+w).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Ep.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ep)}intersectsSprite(e){return Ep.center.set(0,0,0),Ep.radius=.7071067811865476,Ep.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ep)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Wy.x=i.normal.x>0?e.max.x:e.min.x,Wy.y=i.normal.y>0?e.max.y:e.min.y,Wy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Wy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function uL(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function JH(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const h=u.array,g=u.usage,v=t.createBuffer();t.bindBuffer(c,v),t.bufferData(c,h,g),u.onUploadCallback();let x;if(h instanceof Float32Array)x=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)x=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=5123;else if(h instanceof Int16Array)x=5122;else if(h instanceof Uint32Array)x=5125;else if(h instanceof Int32Array)x=5124;else if(h instanceof Int8Array)x=5120;else if(h instanceof Uint8Array)x=5121;else if(h instanceof Uint8ClampedArray)x=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:x,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,h){const g=c.array,v=c.updateRange;t.bindBuffer(h,u),v.count===-1?t.bufferSubData(h,0,g):(n?t.bufferSubData(h,v.offset*g.BYTES_PER_ELEMENT,g,v.offset,v.count):t.bufferSubData(h,v.offset*g.BYTES_PER_ELEMENT,g.subarray(v.offset,v.offset+v.count)),v.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const g=r.get(u);(!g||g.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,c)):h.version<u.version&&(s(h.buffer,u,c),h.version=u.version)}return{get:o,remove:a,update:l}}class $m extends Jt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,h=e/a,g=n/l,v=[],x=[],y=[],_=[];for(let E=0;E<c;E++){const w=E*g-o;for(let M=0;M<u;M++){const C=M*h-s;x.push(C,-w,0),y.push(0,0,1),_.push(M/a),_.push(1-E/l)}}for(let E=0;E<l;E++)for(let w=0;w<a;w++){const M=w+u*E,C=w+u*(E+1),R=w+1+u*(E+1),O=w+1+u*E;v.push(M,C,O),v.push(C,R,O)}this.setIndex(v),this.setAttribute("position",new yt(x,3)),this.setAttribute("normal",new yt(y,3)),this.setAttribute("uv",new yt(_,2))}static fromJSON(e){return new $m(e.width,e.height,e.widthSegments,e.heightSegments)}}var eq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,tq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nq=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,rq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,iq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,sq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,oq="vec3 transformed = vec3( position );",aq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lq=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,uq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,cq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fq=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,dq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,gq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,yq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,xq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,_q=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,wq=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Eq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Sq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Aq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Mq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,bq="gl_FragColor = linearToOutputTexel( gl_FragColor );",Tq=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Cq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Pq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Rq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Dq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Iq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Oq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Lq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kq=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Nq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Bq=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Fq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Uq=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Hq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,qq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Vq=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Gq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Wq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,jq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Yq=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Qq=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Xq=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Kq=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$q=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Zq=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Jq=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,eV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,nV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,rV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,iV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,sV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,oV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,lV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,uV=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,cV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,fV=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,dV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,hV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,pV=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,xV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,_V=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,wV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,EV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,SV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,AV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,MV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,bV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,TV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,CV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,PV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,RV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,DV=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,IV=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OV=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,LV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,NV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,zV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,BV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,FV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,UV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,HV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,VV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,GV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,WV=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,jV=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,YV=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,QV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,XV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,KV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,$V=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ZV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,JV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,eG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tG=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rG=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iG=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sG=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,oG=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,aG=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uG=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cG=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fG=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dG=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hG=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pG=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mG=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gG=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vG=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yG=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xG=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,_G=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wG=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EG=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,SG=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AG=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MG=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bG=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,TG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CG=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,RG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,DG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,rn={alphamap_fragment:eq,alphamap_pars_fragment:tq,alphatest_fragment:nq,alphatest_pars_fragment:rq,aomap_fragment:iq,aomap_pars_fragment:sq,begin_vertex:oq,beginnormal_vertex:aq,bsdfs:lq,iridescence_fragment:uq,bumpmap_pars_fragment:cq,clipping_planes_fragment:fq,clipping_planes_pars_fragment:dq,clipping_planes_pars_vertex:hq,clipping_planes_vertex:pq,color_fragment:mq,color_pars_fragment:gq,color_pars_vertex:vq,color_vertex:yq,common:xq,cube_uv_reflection_fragment:_q,defaultnormal_vertex:wq,displacementmap_pars_vertex:Eq,displacementmap_vertex:Sq,emissivemap_fragment:Aq,emissivemap_pars_fragment:Mq,encodings_fragment:bq,encodings_pars_fragment:Tq,envmap_fragment:Cq,envmap_common_pars_fragment:Pq,envmap_pars_fragment:Rq,envmap_pars_vertex:Dq,envmap_physical_pars_fragment:Vq,envmap_vertex:Iq,fog_vertex:Oq,fog_pars_vertex:Lq,fog_fragment:kq,fog_pars_fragment:Nq,gradientmap_pars_fragment:zq,lightmap_fragment:Bq,lightmap_pars_fragment:Fq,lights_lambert_fragment:Uq,lights_lambert_pars_fragment:Hq,lights_pars_begin:qq,lights_toon_fragment:Gq,lights_toon_pars_fragment:Wq,lights_phong_fragment:jq,lights_phong_pars_fragment:Yq,lights_physical_fragment:Qq,lights_physical_pars_fragment:Xq,lights_fragment_begin:Kq,lights_fragment_maps:$q,lights_fragment_end:Zq,logdepthbuf_fragment:Jq,logdepthbuf_pars_fragment:eV,logdepthbuf_pars_vertex:tV,logdepthbuf_vertex:nV,map_fragment:rV,map_pars_fragment:iV,map_particle_fragment:sV,map_particle_pars_fragment:oV,metalnessmap_fragment:aV,metalnessmap_pars_fragment:lV,morphcolor_vertex:uV,morphnormal_vertex:cV,morphtarget_pars_vertex:fV,morphtarget_vertex:dV,normal_fragment_begin:hV,normal_fragment_maps:pV,normal_pars_fragment:mV,normal_pars_vertex:gV,normal_vertex:vV,normalmap_pars_fragment:yV,clearcoat_normal_fragment_begin:xV,clearcoat_normal_fragment_maps:_V,clearcoat_pars_fragment:wV,iridescence_pars_fragment:EV,output_fragment:SV,packing:AV,premultiplied_alpha_fragment:MV,project_vertex:bV,dithering_fragment:TV,dithering_pars_fragment:CV,roughnessmap_fragment:PV,roughnessmap_pars_fragment:RV,shadowmap_pars_fragment:DV,shadowmap_pars_vertex:IV,shadowmap_vertex:OV,shadowmask_pars_fragment:LV,skinbase_vertex:kV,skinning_pars_vertex:NV,skinning_vertex:zV,skinnormal_vertex:BV,specularmap_fragment:FV,specularmap_pars_fragment:UV,tonemapping_fragment:HV,tonemapping_pars_fragment:qV,transmission_fragment:VV,transmission_pars_fragment:GV,uv_pars_fragment:WV,uv_pars_vertex:jV,uv_vertex:YV,uv2_pars_fragment:QV,uv2_pars_vertex:XV,uv2_vertex:KV,worldpos_vertex:$V,background_vert:ZV,background_frag:JV,backgroundCube_vert:eG,backgroundCube_frag:tG,cube_vert:nG,cube_frag:rG,depth_vert:iG,depth_frag:sG,distanceRGBA_vert:oG,distanceRGBA_frag:aG,equirect_vert:lG,equirect_frag:uG,linedashed_vert:cG,linedashed_frag:fG,meshbasic_vert:dG,meshbasic_frag:hG,meshlambert_vert:pG,meshlambert_frag:mG,meshmatcap_vert:gG,meshmatcap_frag:vG,meshnormal_vert:yG,meshnormal_frag:xG,meshphong_vert:_G,meshphong_frag:wG,meshphysical_vert:EG,meshphysical_frag:SG,meshtoon_vert:AG,meshtoon_frag:MG,points_vert:bG,points_frag:TG,shadow_vert:CG,shadow_frag:PG,sprite_vert:RG,sprite_frag:DG},nt={common:{diffuse:{value:new tt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ps},uv2Transform:{value:new Ps},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ps}},sprite:{diffuse:{value:new tt(16777215)},opacity:{value:1},center:{value:new xe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ps}}},Ra={basic:{uniforms:bs([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:bs([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new tt(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:bs([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new tt(0)},specular:{value:new tt(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:bs([nt.common,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.roughnessmap,nt.metalnessmap,nt.fog,nt.lights,{emissive:{value:new tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:bs([nt.common,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.gradientmap,nt.fog,nt.lights,{emissive:{value:new tt(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:bs([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:bs([nt.points,nt.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:bs([nt.common,nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:bs([nt.common,nt.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:bs([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:bs([nt.sprite,nt.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ps},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:rn.backgroundCube_vert,fragmentShader:rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:bs([nt.common,nt.displacementmap,{referencePosition:{value:new j},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:bs([nt.lights,nt.fog,{color:{value:new tt(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};Ra.physical={uniforms:bs([Ra.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new xe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new tt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new tt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new tt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};const jy={r:0,b:0,g:0};function IG(t,e,n,r,i,s,o){const a=new tt(0);let l=s===!0?0:1,u,c,h=null,g=0,v=null;function x(_,E){let w=!1,M=E.isScene===!0?E.background:null;M&&M.isTexture&&(M=(E.backgroundBlurriness>0?n:e).get(M));const C=t.xr,R=C.getSession&&C.getSession();R&&R.environmentBlendMode==="additive"&&(M=null),M===null?y(a,l):M&&M.isColor&&(y(M,1),w=!0),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),M&&(M.isCubeTexture||M.mapping===Qm)?(c===void 0&&(c=new di(new Ou(1,1,1),new ar({name:"BackgroundCubeMaterial",uniforms:Rm(Ra.backgroundCube.uniforms),vertexShader:Ra.backgroundCube.vertexShader,fragmentShader:Ra.backgroundCube.fragmentShader,side:Di,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(O,k,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=M,c.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=M.encoding!==Rt,(h!==M||g!==M.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,h=M,g=M.version,v=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null)):M&&M.isTexture&&(u===void 0&&(u=new di(new $m(2,2),new ar({name:"BackgroundMaterial",uniforms:Rm(Ra.background.uniforms),vertexShader:Ra.background.vertexShader,fragmentShader:Ra.background.fragmentShader,side:Mu,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=M,u.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,u.material.toneMapped=M.encoding!==Rt,M.matrixAutoUpdate===!0&&M.updateMatrix(),u.material.uniforms.uvTransform.value.copy(M.matrix),(h!==M||g!==M.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,h=M,g=M.version,v=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function y(_,E){_.getRGB(jy,oL(t)),r.buffers.color.setClear(jy.r,jy.g,jy.b,E,o)}return{getClearColor:function(){return a},setClearColor:function(_,E=1){a.set(_),l=E,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:x}}function OG(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let u=l,c=!1;function h(X,ne,se,de,G){let te=!1;if(o){const re=y(de,se,ne);u!==re&&(u=re,v(u.object)),te=E(X,de,se,G),te&&w(X,de,se,G)}else{const re=ne.wireframe===!0;(u.geometry!==de.id||u.program!==se.id||u.wireframe!==re)&&(u.geometry=de.id,u.program=se.id,u.wireframe=re,te=!0)}G!==null&&n.update(G,34963),(te||c)&&(c=!1,P(X,ne,se,de),G!==null&&t.bindBuffer(34963,n.get(G).buffer))}function g(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function v(X){return r.isWebGL2?t.bindVertexArray(X):s.bindVertexArrayOES(X)}function x(X){return r.isWebGL2?t.deleteVertexArray(X):s.deleteVertexArrayOES(X)}function y(X,ne,se){const de=se.wireframe===!0;let G=a[X.id];G===void 0&&(G={},a[X.id]=G);let te=G[ne.id];te===void 0&&(te={},G[ne.id]=te);let re=te[de];return re===void 0&&(re=_(g()),te[de]=re),re}function _(X){const ne=[],se=[],de=[];for(let G=0;G<i;G++)ne[G]=0,se[G]=0,de[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ne,enabledAttributes:se,attributeDivisors:de,object:X,attributes:{},index:null}}function E(X,ne,se,de){const G=u.attributes,te=ne.attributes;let re=0;const V=se.getAttributes();for(const J in V)if(V[J].location>=0){const we=G[J];let be=te[J];if(be===void 0&&(J==="instanceMatrix"&&X.instanceMatrix&&(be=X.instanceMatrix),J==="instanceColor"&&X.instanceColor&&(be=X.instanceColor)),we===void 0||we.attribute!==be||be&&we.data!==be.data)return!0;re++}return u.attributesNum!==re||u.index!==de}function w(X,ne,se,de){const G={},te=ne.attributes;let re=0;const V=se.getAttributes();for(const J in V)if(V[J].location>=0){let we=te[J];we===void 0&&(J==="instanceMatrix"&&X.instanceMatrix&&(we=X.instanceMatrix),J==="instanceColor"&&X.instanceColor&&(we=X.instanceColor));const be={};be.attribute=we,we&&we.data&&(be.data=we.data),G[J]=be,re++}u.attributes=G,u.attributesNum=re,u.index=de}function M(){const X=u.newAttributes;for(let ne=0,se=X.length;ne<se;ne++)X[ne]=0}function C(X){R(X,0)}function R(X,ne){const se=u.newAttributes,de=u.enabledAttributes,G=u.attributeDivisors;se[X]=1,de[X]===0&&(t.enableVertexAttribArray(X),de[X]=1),G[X]!==ne&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](X,ne),G[X]=ne)}function O(){const X=u.newAttributes,ne=u.enabledAttributes;for(let se=0,de=ne.length;se<de;se++)ne[se]!==X[se]&&(t.disableVertexAttribArray(se),ne[se]=0)}function k(X,ne,se,de,G,te){r.isWebGL2===!0&&(se===5124||se===5125)?t.vertexAttribIPointer(X,ne,se,G,te):t.vertexAttribPointer(X,ne,se,de,G,te)}function P(X,ne,se,de){if(r.isWebGL2===!1&&(X.isInstancedMesh||de.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const G=de.attributes,te=se.getAttributes(),re=ne.defaultAttributeValues;for(const V in te){const J=te[V];if(J.location>=0){let he=G[V];if(he===void 0&&(V==="instanceMatrix"&&X.instanceMatrix&&(he=X.instanceMatrix),V==="instanceColor"&&X.instanceColor&&(he=X.instanceColor)),he!==void 0){const we=he.normalized,be=he.itemSize,pe=n.get(he);if(pe===void 0)continue;const Ke=pe.buffer,We=pe.type,rt=pe.bytesPerElement;if(he.isInterleavedBufferAttribute){const Qe=he.data,ut=Qe.stride,Pe=he.offset;if(Qe.isInstancedInterleavedBuffer){for(let ye=0;ye<J.locationSize;ye++)R(J.location+ye,Qe.meshPerAttribute);X.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=Qe.meshPerAttribute*Qe.count)}else for(let ye=0;ye<J.locationSize;ye++)C(J.location+ye);t.bindBuffer(34962,Ke);for(let ye=0;ye<J.locationSize;ye++)k(J.location+ye,be/J.locationSize,We,we,ut*rt,(Pe+be/J.locationSize*ye)*rt)}else{if(he.isInstancedBufferAttribute){for(let Qe=0;Qe<J.locationSize;Qe++)R(J.location+Qe,he.meshPerAttribute);X.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Qe=0;Qe<J.locationSize;Qe++)C(J.location+Qe);t.bindBuffer(34962,Ke);for(let Qe=0;Qe<J.locationSize;Qe++)k(J.location+Qe,be/J.locationSize,We,we,be*rt,be/J.locationSize*Qe*rt)}}else if(re!==void 0){const we=re[V];if(we!==void 0)switch(we.length){case 2:t.vertexAttrib2fv(J.location,we);break;case 3:t.vertexAttrib3fv(J.location,we);break;case 4:t.vertexAttrib4fv(J.location,we);break;default:t.vertexAttrib1fv(J.location,we)}}}}O()}function z(){Q();for(const X in a){const ne=a[X];for(const se in ne){const de=ne[se];for(const G in de)x(de[G].object),delete de[G];delete ne[se]}delete a[X]}}function B(X){if(a[X.id]===void 0)return;const ne=a[X.id];for(const se in ne){const de=ne[se];for(const G in de)x(de[G].object),delete de[G];delete ne[se]}delete a[X.id]}function q(X){for(const ne in a){const se=a[ne];if(se[X.id]===void 0)continue;const de=se[X.id];for(const G in de)x(de[G].object),delete de[G];delete se[X.id]}}function Q(){W(),c=!0,u!==l&&(u=l,v(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:Q,resetDefaultState:W,dispose:z,releaseStatesOfGeometry:B,releaseStatesOfProgram:q,initAttributes:M,enableAttribute:C,disableUnusedAttributes:O}}function LG(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,h){if(h===0)return;let g,v;if(i)g=t,v="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](s,u,c,h),n.update(c,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function kG(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(k){if(k==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";k="mediump"}return k==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,h=t.getParameter(34930),g=t.getParameter(35660),v=t.getParameter(3379),x=t.getParameter(34076),y=t.getParameter(34921),_=t.getParameter(36347),E=t.getParameter(36348),w=t.getParameter(36349),M=g>0,C=o||e.has("OES_texture_float"),R=M&&C,O=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:g,maxTextureSize:v,maxCubemapSize:x,maxAttributes:y,maxVertexUniforms:_,maxVaryings:E,maxFragmentUniforms:w,vertexTextures:M,floatFragmentTextures:C,floatVertexTextures:R,maxSamples:O}}function NG(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Ac,a=new Ps,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,g,v){const x=h.length!==0||g||r!==0||i;return i=g,n=c(h,v,0),r=h.length,x},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1,u()},this.setState=function(h,g,v){const x=h.clippingPlanes,y=h.clipIntersection,_=h.clipShadows,E=t.get(h);if(!i||x===null||x.length===0||s&&!_)s?c(null):u();else{const w=s?0:r,M=w*4;let C=E.clippingState||null;l.value=C,C=c(x,g,M,v);for(let R=0;R!==M;++R)C[R]=n[R];E.clippingState=C,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(h,g,v,x){const y=h!==null?h.length:0;let _=null;if(y!==0){if(_=l.value,x!==!0||_===null){const E=v+y*4,w=g.matrixWorldInverse;a.getNormalMatrix(w),(_===null||_.length<E)&&(_=new Float32Array(E));for(let M=0,C=v;M!==y;++M,C+=4)o.copy(h[M]).applyMatrix4(w,a),o.normal.toArray(_,C),_[C+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function zG(t){let e=new WeakMap;function n(o,a){return a===Mv?o.mapping=Xc:a===bv&&(o.mapping=Kc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Mv||a===bv)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new lL(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class jc extends Km{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const am=4,IC=[.125,.215,.35,.446,.526,.582],Td=20,qw=new jc,OC=new tt;let Vw=null;const Ad=(1+Math.sqrt(5))/2,Sp=1/Ad,LC=[new j(1,1,1),new j(-1,1,1),new j(1,1,-1),new j(-1,1,-1),new j(0,Ad,Sp),new j(0,Ad,-Sp),new j(Sp,0,Ad),new j(-Sp,0,Ad),new j(Ad,Sp,0),new j(-Ad,Sp,0)];class RA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Vw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=zC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=NC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Vw),e.scissorTest=!1,Yy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Xc||e.mapping===Kc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Vw=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:zn,minFilter:zn,generateMipmaps:!1,type:$c,format:cs,encoding:Fa,depthBuffer:!1},i=kC(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kC(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=BG(s)),this._blurMaterial=FG(s,e,n)}return i}_compileMaterial(e){const n=new di(this._lodPlanes[0],e);this._renderer.compile(n,qw)}_sceneToCubeUV(e,n,r,i){const a=new Zn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,g=c.toneMapping;c.getClearColor(OC),c.toneMapping=Na,c.autoClear=!1;const v=new Iu({name:"PMREM.Background",side:Di,depthWrite:!1,depthTest:!1}),x=new di(new Ou,v);let y=!1;const _=e.background;_?_.isColor&&(v.color.copy(_),e.background=null,y=!0):(v.color.copy(OC),y=!0);for(let E=0;E<6;E++){const w=E%3;w===0?(a.up.set(0,l[E],0),a.lookAt(u[E],0,0)):w===1?(a.up.set(0,0,l[E]),a.lookAt(0,u[E],0)):(a.up.set(0,l[E],0),a.lookAt(0,0,u[E]));const M=this._cubeSize;Yy(i,w*M,E>2?M:0,M,M),c.setRenderTarget(i),y&&c.render(x,a),c.render(e,a)}x.geometry.dispose(),x.material.dispose(),c.toneMapping=g,c.autoClear=h,e.background=_}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Xc||e.mapping===Kc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=zC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=NC());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new di(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Yy(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,qw)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=LC[(i-1)%LC.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,h=new di(this._lodPlanes[i],u),g=u.uniforms,v=this._sizeLods[r]-1,x=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Td-1),y=s/x,_=isFinite(s)?1+Math.floor(c*y):Td;_>Td&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Td}`);const E=[];let w=0;for(let k=0;k<Td;++k){const P=k/y,z=Math.exp(-P*P/2);E.push(z),k===0?w+=z:k<_&&(w+=2*z)}for(let k=0;k<E.length;k++)E[k]=E[k]/w;g.envMap.value=e.texture,g.samples.value=_,g.weights.value=E,g.latitudinal.value=o==="latitudinal",a&&(g.poleAxis.value=a);const{_lodMax:M}=this;g.dTheta.value=x,g.mipInt.value=M-r;const C=this._sizeLods[i],R=3*C*(i>M-am?i-M+am:0),O=4*(this._cubeSize-C);Yy(n,R,O,3*C,2*C),l.setRenderTarget(n),l.render(h,qw)}}function BG(t){const e=[],n=[],r=[];let i=t;const s=t-am+1+IC.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-am?l=IC[o-t+am-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,h=1+u,g=[c,c,h,c,h,h,c,c,h,h,c,h],v=6,x=6,y=3,_=2,E=1,w=new Float32Array(y*x*v),M=new Float32Array(_*x*v),C=new Float32Array(E*x*v);for(let O=0;O<v;O++){const k=O%3*2/3-1,P=O>2?0:-1,z=[k,P,0,k+2/3,P,0,k+2/3,P+1,0,k,P,0,k+2/3,P+1,0,k,P+1,0];w.set(z,y*x*O),M.set(g,_*x*O);const B=[O,O,O,O,O,O];C.set(B,E*x*O)}const R=new Jt;R.setAttribute("position",new An(w,y)),R.setAttribute("uv",new An(M,_)),R.setAttribute("faceIndex",new An(C,E)),e.push(R),i>am&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function kC(t,e,n){const r=new Dn(t,e,n);return r.texture.mapping=Qm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Yy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function FG(t,e,n){const r=new Float32Array(Td),i=new j(0,1,0);return new ar({name:"SphericalGaussianBlur",defines:{n:Td,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:tb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qr,depthTest:!1,depthWrite:!1})}function NC(){return new ar({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:tb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qr,depthTest:!1,depthWrite:!1})}function zC(){return new ar({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:tb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qr,depthTest:!1,depthWrite:!1})}function tb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function UG(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Mv||l===bv,c=l===Xc||l===Kc;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new RA(t)),h=u?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||c&&h&&i(h)){n===null&&(n=new RA(t));const g=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,g),a.addEventListener("dispose",s),g.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function HG(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function qG(t,e,n,r){const i={},s=new WeakMap;function o(h){const g=h.target;g.index!==null&&e.remove(g.index);for(const x in g.attributes)e.remove(g.attributes[x]);g.removeEventListener("dispose",o),delete i[g.id];const v=s.get(g);v&&(e.remove(v),s.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function a(h,g){return i[g.id]===!0||(g.addEventListener("dispose",o),i[g.id]=!0,n.memory.geometries++),g}function l(h){const g=h.attributes;for(const x in g)e.update(g[x],34962);const v=h.morphAttributes;for(const x in v){const y=v[x];for(let _=0,E=y.length;_<E;_++)e.update(y[_],34962)}}function u(h){const g=[],v=h.index,x=h.attributes.position;let y=0;if(v!==null){const w=v.array;y=v.version;for(let M=0,C=w.length;M<C;M+=3){const R=w[M+0],O=w[M+1],k=w[M+2];g.push(R,O,O,k,k,R)}}else{const w=x.array;y=x.version;for(let M=0,C=w.length/3-1;M<C;M+=3){const R=M+0,O=M+1,k=M+2;g.push(R,O,O,k,k,R)}}const _=new(iL(g)?eb:JM)(g,1);_.version=y;const E=s.get(h);E&&e.remove(E),s.set(h,_)}function c(h){const g=s.get(h);if(g){const v=h.index;v!==null&&g.version<v.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:c}}function VG(t,e,n,r){const i=r.isWebGL2;let s;function o(g){s=g}let a,l;function u(g){a=g.type,l=g.bytesPerElement}function c(g,v){t.drawElements(s,v,a,g*l),n.update(v,s,1)}function h(g,v,x){if(x===0)return;let y,_;if(i)y=t,_="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[_](s,v,a,g*l,x),n.update(v,s,x)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=h}function GG(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function WG(t,e){return t[0]-e[0]}function jG(t,e){return Math.abs(e[1])-Math.abs(t[1])}function YG(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new En,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,h,g){const v=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,_=y!==void 0?y.length:0;let E=s.get(c);if(E===void 0||E.count!==_){let se=function(){X.dispose(),s.delete(c),c.removeEventListener("dispose",se)};var x=se;E!==void 0&&E.texture.dispose();const C=c.morphAttributes.position!==void 0,R=c.morphAttributes.normal!==void 0,O=c.morphAttributes.color!==void 0,k=c.morphAttributes.position||[],P=c.morphAttributes.normal||[],z=c.morphAttributes.color||[];let B=0;C===!0&&(B=1),R===!0&&(B=2),O===!0&&(B=3);let q=c.attributes.position.count*B,Q=1;q>e.maxTextureSize&&(Q=Math.ceil(q/e.maxTextureSize),q=e.maxTextureSize);const W=new Float32Array(q*Q*4*_),X=new a1(W,q,Q,_);X.type=Ia,X.needsUpdate=!0;const ne=B*4;for(let de=0;de<_;de++){const G=k[de],te=P[de],re=z[de],V=q*Q*4*de;for(let J=0;J<G.count;J++){const he=J*ne;C===!0&&(o.fromBufferAttribute(G,J),W[V+he+0]=o.x,W[V+he+1]=o.y,W[V+he+2]=o.z,W[V+he+3]=0),R===!0&&(o.fromBufferAttribute(te,J),W[V+he+4]=o.x,W[V+he+5]=o.y,W[V+he+6]=o.z,W[V+he+7]=0),O===!0&&(o.fromBufferAttribute(re,J),W[V+he+8]=o.x,W[V+he+9]=o.y,W[V+he+10]=o.z,W[V+he+11]=re.itemSize===4?o.w:1)}}E={count:_,texture:X,size:new xe(q,Q)},s.set(c,E),c.addEventListener("dispose",se)}let w=0;for(let C=0;C<v.length;C++)w+=v[C];const M=c.morphTargetsRelative?1:1-w;g.getUniforms().setValue(t,"morphTargetBaseInfluence",M),g.getUniforms().setValue(t,"morphTargetInfluences",v),g.getUniforms().setValue(t,"morphTargetsTexture",E.texture,n),g.getUniforms().setValue(t,"morphTargetsTextureSize",E.size)}else{const y=v===void 0?0:v.length;let _=r[c.id];if(_===void 0||_.length!==y){_=[];for(let R=0;R<y;R++)_[R]=[R,0];r[c.id]=_}for(let R=0;R<y;R++){const O=_[R];O[0]=R,O[1]=v[R]}_.sort(jG);for(let R=0;R<8;R++)R<y&&_[R][1]?(a[R][0]=_[R][0],a[R][1]=_[R][1]):(a[R][0]=Number.MAX_SAFE_INTEGER,a[R][1]=0);a.sort(WG);const E=c.morphAttributes.position,w=c.morphAttributes.normal;let M=0;for(let R=0;R<8;R++){const O=a[R],k=O[0],P=O[1];k!==Number.MAX_SAFE_INTEGER&&P?(E&&c.getAttribute("morphTarget"+R)!==E[k]&&c.setAttribute("morphTarget"+R,E[k]),w&&c.getAttribute("morphNormal"+R)!==w[k]&&c.setAttribute("morphNormal"+R,w[k]),i[R]=P,M+=P):(E&&c.hasAttribute("morphTarget"+R)===!0&&c.deleteAttribute("morphTarget"+R),w&&c.hasAttribute("morphNormal"+R)===!0&&c.deleteAttribute("morphNormal"+R),i[R]=0)}const C=c.morphTargetsRelative?1:1-M;g.getUniforms().setValue(t,"morphTargetBaseInfluence",C),g.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function QG(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,h=e.get(l,c);return i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const cL=new Xn,fL=new a1,dL=new $2,hL=new u1,BC=[],FC=[],UC=new Float32Array(16),HC=new Float32Array(9),qC=new Float32Array(4);function Zm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=BC[i];if(s===void 0&&(s=new Float32Array(i),BC[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function hi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function pi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function e3(t,e){let n=FC[e];n===void 0&&(n=new Int32Array(e),FC[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function XG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function KG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(hi(n,e))return;t.uniform2fv(this.addr,e),pi(n,e)}}function $G(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(hi(n,e))return;t.uniform3fv(this.addr,e),pi(n,e)}}function ZG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(hi(n,e))return;t.uniform4fv(this.addr,e),pi(n,e)}}function JG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(hi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),pi(n,e)}else{if(hi(n,r))return;qC.set(r),t.uniformMatrix2fv(this.addr,!1,qC),pi(n,r)}}function eW(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(hi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),pi(n,e)}else{if(hi(n,r))return;HC.set(r),t.uniformMatrix3fv(this.addr,!1,HC),pi(n,r)}}function tW(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(hi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),pi(n,e)}else{if(hi(n,r))return;UC.set(r),t.uniformMatrix4fv(this.addr,!1,UC),pi(n,r)}}function nW(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function rW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(hi(n,e))return;t.uniform2iv(this.addr,e),pi(n,e)}}function iW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(hi(n,e))return;t.uniform3iv(this.addr,e),pi(n,e)}}function sW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(hi(n,e))return;t.uniform4iv(this.addr,e),pi(n,e)}}function oW(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function aW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(hi(n,e))return;t.uniform2uiv(this.addr,e),pi(n,e)}}function lW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(hi(n,e))return;t.uniform3uiv(this.addr,e),pi(n,e)}}function uW(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(hi(n,e))return;t.uniform4uiv(this.addr,e),pi(n,e)}}function cW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||cL,i)}function fW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||dL,i)}function dW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||hL,i)}function hW(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||fL,i)}function pW(t){switch(t){case 5126:return XG;case 35664:return KG;case 35665:return $G;case 35666:return ZG;case 35674:return JG;case 35675:return eW;case 35676:return tW;case 5124:case 35670:return nW;case 35667:case 35671:return rW;case 35668:case 35672:return iW;case 35669:case 35673:return sW;case 5125:return oW;case 36294:return aW;case 36295:return lW;case 36296:return uW;case 35678:case 36198:case 36298:case 36306:case 35682:return cW;case 35679:case 36299:case 36307:return fW;case 35680:case 36300:case 36308:case 36293:return dW;case 36289:case 36303:case 36311:case 36292:return hW}}function mW(t,e){t.uniform1fv(this.addr,e)}function gW(t,e){const n=Zm(e,this.size,2);t.uniform2fv(this.addr,n)}function vW(t,e){const n=Zm(e,this.size,3);t.uniform3fv(this.addr,n)}function yW(t,e){const n=Zm(e,this.size,4);t.uniform4fv(this.addr,n)}function xW(t,e){const n=Zm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function _W(t,e){const n=Zm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function wW(t,e){const n=Zm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function EW(t,e){t.uniform1iv(this.addr,e)}function SW(t,e){t.uniform2iv(this.addr,e)}function AW(t,e){t.uniform3iv(this.addr,e)}function MW(t,e){t.uniform4iv(this.addr,e)}function bW(t,e){t.uniform1uiv(this.addr,e)}function TW(t,e){t.uniform2uiv(this.addr,e)}function CW(t,e){t.uniform3uiv(this.addr,e)}function PW(t,e){t.uniform4uiv(this.addr,e)}function RW(t,e,n){const r=this.cache,i=e.length,s=e3(n,i);hi(r,s)||(t.uniform1iv(this.addr,s),pi(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||cL,s[o])}function DW(t,e,n){const r=this.cache,i=e.length,s=e3(n,i);hi(r,s)||(t.uniform1iv(this.addr,s),pi(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||dL,s[o])}function IW(t,e,n){const r=this.cache,i=e.length,s=e3(n,i);hi(r,s)||(t.uniform1iv(this.addr,s),pi(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||hL,s[o])}function OW(t,e,n){const r=this.cache,i=e.length,s=e3(n,i);hi(r,s)||(t.uniform1iv(this.addr,s),pi(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||fL,s[o])}function LW(t){switch(t){case 5126:return mW;case 35664:return gW;case 35665:return vW;case 35666:return yW;case 35674:return xW;case 35675:return _W;case 35676:return wW;case 5124:case 35670:return EW;case 35667:case 35671:return SW;case 35668:case 35672:return AW;case 35669:case 35673:return MW;case 5125:return bW;case 36294:return TW;case 36295:return CW;case 36296:return PW;case 35678:case 36198:case 36298:case 36306:case 35682:return RW;case 35679:case 36299:case 36307:return DW;case 35680:case 36300:case 36308:case 36293:return IW;case 36289:case 36303:case 36311:case 36292:return OW}}class kW{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=pW(n.type)}}class NW{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=LW(n.type)}}class zW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const Gw=/(\w+)(\])?(\[|\.)?/g;function VC(t,e){t.seq.push(e),t.map[e.id]=e}function BW(t,e,n){const r=t.name,i=r.length;for(Gw.lastIndex=0;;){const s=Gw.exec(r),o=Gw.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){VC(n,u===void 0?new kW(a,t,e):new NW(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new zW(a),VC(n,h)),n=h}}}class f_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);BW(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function GC(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let FW=0;function UW(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function HW(t){switch(t){case Fa:return["Linear","( value )"];case Rt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function WC(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+UW(t.getShaderSource(e),o)}else return i}function qW(t,e){const n=HW(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function VW(t,e){let n;switch(e){case kO:n="Linear";break;case NO:n="Reinhard";break;case zO:n="OptimizedCineon";break;case WM:n="ACESFilmic";break;case BO:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function GW(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(L0).join(`
`)}function WW(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function jW(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function L0(t){return t!==""}function jC(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function YC(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const YW=/^[ \t]*#include +<([\w\d./]+)>/gm;function DA(t){return t.replace(YW,QW)}function QW(t,e){const n=rn[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return DA(n)}const XW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function QC(t){return t.replace(XW,KW)}function KW(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function XC(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $W(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Y2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Y0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Dd&&(e="SHADOWMAP_TYPE_VSM"),e}function ZW(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Xc:case Kc:e="ENVMAP_TYPE_CUBE";break;case Qm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function JW(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Kc:e="ENVMAP_MODE_REFRACTION";break}return e}function ej(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case o1:e="ENVMAP_BLENDING_MULTIPLY";break;case OO:e="ENVMAP_BLENDING_MIX";break;case LO:e="ENVMAP_BLENDING_ADD";break}return e}function tj(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function nj(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=$W(n),u=ZW(n),c=JW(n),h=ej(n),g=tj(n),v=n.isWebGL2?"":GW(n),x=WW(s),y=i.createProgram();let _,E,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=[x].filter(L0).join(`
`),_.length>0&&(_+=`
`),E=[v,x].filter(L0).join(`
`),E.length>0&&(E+=`
`)):(_=[XC(n),"#define SHADER_NAME "+n.shaderName,x,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(L0).join(`
`),E=[v,XC(n),"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Na?"#define TONE_MAPPING":"",n.toneMapping!==Na?rn.tonemapping_pars_fragment:"",n.toneMapping!==Na?VW("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",rn.encodings_pars_fragment,qW("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(L0).join(`
`)),o=DA(o),o=jC(o,n),o=YC(o,n),a=DA(a),a=jC(a,n),a=YC(a,n),o=QC(o),a=QC(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,E=["#define varying in",n.glslVersion===CA?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===CA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const M=w+_+o,C=w+E+a,R=GC(i,35633,M),O=GC(i,35632,C);if(i.attachShader(y,R),i.attachShader(y,O),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),t.debug.checkShaderErrors){const z=i.getProgramInfoLog(y).trim(),B=i.getShaderInfoLog(R).trim(),q=i.getShaderInfoLog(O).trim();let Q=!0,W=!0;if(i.getProgramParameter(y,35714)===!1){Q=!1;const X=WC(i,R,"vertex"),ne=WC(i,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+z+`
`+X+`
`+ne)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(B===""||q==="")&&(W=!1);W&&(this.diagnostics={runnable:Q,programLog:z,vertexShader:{log:B,prefix:_},fragmentShader:{log:q,prefix:E}})}i.deleteShader(R),i.deleteShader(O);let k;this.getUniforms=function(){return k===void 0&&(k=new f_(i,y)),k};let P;return this.getAttributes=function(){return P===void 0&&(P=jW(i,y)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=FW++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=R,this.fragmentShader=O,this}let rj=0;class ij{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new sj(e),n.set(e,r)),r}}class sj{constructor(e){this.id=rj++,this.code=e,this.usedTimes=0}}function oj(t,e,n,r,i,s,o){const a=new Wc,l=new ij,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,g=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(P,z,B,q,Q){const W=q.fog,X=Q.geometry,ne=P.isMeshStandardMaterial?q.environment:null,se=(P.isMeshStandardMaterial?n:e).get(P.envMap||ne),de=se&&se.mapping===Qm?se.image.height:null,G=x[P.type];P.precision!==null&&(v=i.getMaxPrecision(P.precision),v!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",v,"instead."));const te=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,re=te!==void 0?te.length:0;let V=0;X.morphAttributes.position!==void 0&&(V=1),X.morphAttributes.normal!==void 0&&(V=2),X.morphAttributes.color!==void 0&&(V=3);let J,he,we,be;if(G){const ut=Ra[G];J=ut.vertexShader,he=ut.fragmentShader}else J=P.vertexShader,he=P.fragmentShader,l.update(P),we=l.getVertexShaderID(P),be=l.getFragmentShaderID(P);const pe=t.getRenderTarget(),Ke=P.alphaTest>0,We=P.clearcoat>0,rt=P.iridescence>0;return{isWebGL2:c,shaderID:G,shaderName:P.type,vertexShader:J,fragmentShader:he,defines:P.defines,customVertexShaderID:we,customFragmentShaderID:be,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:v,instancing:Q.isInstancedMesh===!0,instancingColor:Q.isInstancedMesh===!0&&Q.instanceColor!==null,supportsVertexTextures:g,outputEncoding:pe===null?t.outputEncoding:pe.isXRRenderTarget===!0?pe.texture.encoding:Fa,map:!!P.map,matcap:!!P.matcap,envMap:!!se,envMapMode:se&&se.mapping,envMapCubeUVHeight:de,lightMap:!!P.lightMap,aoMap:!!P.aoMap,emissiveMap:!!P.emissiveMap,bumpMap:!!P.bumpMap,normalMap:!!P.normalMap,objectSpaceNormalMap:P.normalMapType===tL,tangentSpaceNormalMap:P.normalMapType===uf,decodeVideoTexture:!!P.map&&P.map.isVideoTexture===!0&&P.map.encoding===Rt,clearcoat:We,clearcoatMap:We&&!!P.clearcoatMap,clearcoatRoughnessMap:We&&!!P.clearcoatRoughnessMap,clearcoatNormalMap:We&&!!P.clearcoatNormalMap,iridescence:rt,iridescenceMap:rt&&!!P.iridescenceMap,iridescenceThicknessMap:rt&&!!P.iridescenceThicknessMap,displacementMap:!!P.displacementMap,roughnessMap:!!P.roughnessMap,metalnessMap:!!P.metalnessMap,specularMap:!!P.specularMap,specularIntensityMap:!!P.specularIntensityMap,specularColorMap:!!P.specularColorMap,opaque:P.transparent===!1&&P.blending===qd,alphaMap:!!P.alphaMap,alphaTest:Ke,gradientMap:!!P.gradientMap,sheen:P.sheen>0,sheenColorMap:!!P.sheenColorMap,sheenRoughnessMap:!!P.sheenRoughnessMap,transmission:P.transmission>0,transmissionMap:!!P.transmissionMap,thicknessMap:!!P.thicknessMap,combine:P.combine,vertexTangents:!!P.normalMap&&!!X.attributes.tangent,vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUvs:!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatMap||!!P.clearcoatRoughnessMap||!!P.clearcoatNormalMap||!!P.iridescenceMap||!!P.iridescenceThicknessMap||!!P.displacementMap||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||!!P.sheenColorMap||!!P.sheenRoughnessMap,uvsVertexOnly:!(P.map||P.bumpMap||P.normalMap||P.specularMap||P.alphaMap||P.emissiveMap||P.roughnessMap||P.metalnessMap||P.clearcoatNormalMap||P.iridescenceMap||P.iridescenceThicknessMap||P.transmission>0||P.transmissionMap||P.thicknessMap||P.specularIntensityMap||P.specularColorMap||P.sheen>0||P.sheenColorMap||P.sheenRoughnessMap)&&!!P.displacementMap,fog:!!W,useFog:P.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!P.flatShading,sizeAttenuation:P.sizeAttenuation,logarithmicDepthBuffer:h,skinning:Q.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:V,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:P.toneMapped?t.toneMapping:Na,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Dc,flipSided:P.side===Di,useDepthPacking:!!P.depthPacking,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:P.extensions&&P.extensions.derivatives,extensionFragDepth:P.extensions&&P.extensions.fragDepth,extensionDrawBuffers:P.extensions&&P.extensions.drawBuffers,extensionShaderTextureLOD:P.extensions&&P.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function _(P){const z=[];if(P.shaderID?z.push(P.shaderID):(z.push(P.customVertexShaderID),z.push(P.customFragmentShaderID)),P.defines!==void 0)for(const B in P.defines)z.push(B),z.push(P.defines[B]);return P.isRawShaderMaterial===!1&&(E(z,P),w(z,P),z.push(t.outputEncoding)),z.push(P.customProgramCacheKey),z.join()}function E(P,z){P.push(z.precision),P.push(z.outputEncoding),P.push(z.envMapMode),P.push(z.envMapCubeUVHeight),P.push(z.combine),P.push(z.vertexUvs),P.push(z.fogExp2),P.push(z.sizeAttenuation),P.push(z.morphTargetsCount),P.push(z.morphAttributeCount),P.push(z.numDirLights),P.push(z.numPointLights),P.push(z.numSpotLights),P.push(z.numSpotLightMaps),P.push(z.numHemiLights),P.push(z.numRectAreaLights),P.push(z.numDirLightShadows),P.push(z.numPointLightShadows),P.push(z.numSpotLightShadows),P.push(z.numSpotLightShadowsWithMaps),P.push(z.shadowMapType),P.push(z.toneMapping),P.push(z.numClippingPlanes),P.push(z.numClipIntersection),P.push(z.depthPacking)}function w(P,z){a.disableAll(),z.isWebGL2&&a.enable(0),z.supportsVertexTextures&&a.enable(1),z.instancing&&a.enable(2),z.instancingColor&&a.enable(3),z.map&&a.enable(4),z.matcap&&a.enable(5),z.envMap&&a.enable(6),z.lightMap&&a.enable(7),z.aoMap&&a.enable(8),z.emissiveMap&&a.enable(9),z.bumpMap&&a.enable(10),z.normalMap&&a.enable(11),z.objectSpaceNormalMap&&a.enable(12),z.tangentSpaceNormalMap&&a.enable(13),z.clearcoat&&a.enable(14),z.clearcoatMap&&a.enable(15),z.clearcoatRoughnessMap&&a.enable(16),z.clearcoatNormalMap&&a.enable(17),z.iridescence&&a.enable(18),z.iridescenceMap&&a.enable(19),z.iridescenceThicknessMap&&a.enable(20),z.displacementMap&&a.enable(21),z.specularMap&&a.enable(22),z.roughnessMap&&a.enable(23),z.metalnessMap&&a.enable(24),z.gradientMap&&a.enable(25),z.alphaMap&&a.enable(26),z.alphaTest&&a.enable(27),z.vertexColors&&a.enable(28),z.vertexAlphas&&a.enable(29),z.vertexUvs&&a.enable(30),z.vertexTangents&&a.enable(31),z.uvsVertexOnly&&a.enable(32),P.push(a.mask),a.disableAll(),z.fog&&a.enable(0),z.useFog&&a.enable(1),z.flatShading&&a.enable(2),z.logarithmicDepthBuffer&&a.enable(3),z.skinning&&a.enable(4),z.morphTargets&&a.enable(5),z.morphNormals&&a.enable(6),z.morphColors&&a.enable(7),z.premultipliedAlpha&&a.enable(8),z.shadowMapEnabled&&a.enable(9),z.physicallyCorrectLights&&a.enable(10),z.doubleSided&&a.enable(11),z.flipSided&&a.enable(12),z.useDepthPacking&&a.enable(13),z.dithering&&a.enable(14),z.specularIntensityMap&&a.enable(15),z.specularColorMap&&a.enable(16),z.transmission&&a.enable(17),z.transmissionMap&&a.enable(18),z.thicknessMap&&a.enable(19),z.sheen&&a.enable(20),z.sheenColorMap&&a.enable(21),z.sheenRoughnessMap&&a.enable(22),z.decodeVideoTexture&&a.enable(23),z.opaque&&a.enable(24),P.push(a.mask)}function M(P){const z=x[P.type];let B;if(z){const q=Ra[z];B=Z2.clone(q.uniforms)}else B=P.uniforms;return B}function C(P,z){let B;for(let q=0,Q=u.length;q<Q;q++){const W=u[q];if(W.cacheKey===z){B=W,++B.usedTimes;break}}return B===void 0&&(B=new nj(t,z,P,s),u.push(B)),B}function R(P){if(--P.usedTimes===0){const z=u.indexOf(P);u[z]=u[u.length-1],u.pop(),P.destroy()}}function O(P){l.remove(P)}function k(){l.dispose()}return{getParameters:y,getProgramCacheKey:_,getUniforms:M,acquireProgram:C,releaseProgram:R,releaseShaderCache:O,programs:u,dispose:k}}function aj(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function lj(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function KC(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function $C(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,g,v,x,y,_){let E=t[e];return E===void 0?(E={id:h.id,object:h,geometry:g,material:v,groupOrder:x,renderOrder:h.renderOrder,z:y,group:_},t[e]=E):(E.id=h.id,E.object=h,E.geometry=g,E.material=v,E.groupOrder=x,E.renderOrder=h.renderOrder,E.z=y,E.group=_),e++,E}function a(h,g,v,x,y,_){const E=o(h,g,v,x,y,_);v.transmission>0?r.push(E):v.transparent===!0?i.push(E):n.push(E)}function l(h,g,v,x,y,_){const E=o(h,g,v,x,y,_);v.transmission>0?r.unshift(E):v.transparent===!0?i.unshift(E):n.unshift(E)}function u(h,g){n.length>1&&n.sort(h||lj),r.length>1&&r.sort(g||KC),i.length>1&&i.sort(g||KC)}function c(){for(let h=e,g=t.length;h<g;h++){const v=t[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function uj(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new $C,t.set(r,[o])):i>=s.length?(o=new $C,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function cj(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new j,color:new tt};break;case"SpotLight":n={position:new j,direction:new j,color:new tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new j,color:new tt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new j,skyColor:new tt,groundColor:new tt};break;case"RectAreaLight":n={color:new tt,position:new j,halfWidth:new j,halfHeight:new j};break}return t[e.id]=n,n}}}function fj(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let dj=0;function hj(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function pj(t,e){const n=new cj,r=fj(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new j);const s=new j,o=new Xt,a=new Xt;function l(c,h){let g=0,v=0,x=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let y=0,_=0,E=0,w=0,M=0,C=0,R=0,O=0,k=0,P=0;c.sort(hj);const z=h!==!0?Math.PI:1;for(let q=0,Q=c.length;q<Q;q++){const W=c[q],X=W.color,ne=W.intensity,se=W.distance,de=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)g+=X.r*ne*z,v+=X.g*ne*z,x+=X.b*ne*z;else if(W.isLightProbe)for(let G=0;G<9;G++)i.probe[G].addScaledVector(W.sh.coefficients[G],ne);else if(W.isDirectionalLight){const G=n.get(W);if(G.color.copy(W.color).multiplyScalar(W.intensity*z),W.castShadow){const te=W.shadow,re=r.get(W);re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,i.directionalShadow[y]=re,i.directionalShadowMap[y]=de,i.directionalShadowMatrix[y]=W.shadow.matrix,C++}i.directional[y]=G,y++}else if(W.isSpotLight){const G=n.get(W);G.position.setFromMatrixPosition(W.matrixWorld),G.color.copy(X).multiplyScalar(ne*z),G.distance=se,G.coneCos=Math.cos(W.angle),G.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),G.decay=W.decay,i.spot[E]=G;const te=W.shadow;if(W.map&&(i.spotLightMap[k]=W.map,k++,te.updateMatrices(W),W.castShadow&&P++),i.spotLightMatrix[E]=te.matrix,W.castShadow){const re=r.get(W);re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,i.spotShadow[E]=re,i.spotShadowMap[E]=de,O++}E++}else if(W.isRectAreaLight){const G=n.get(W);G.color.copy(X).multiplyScalar(ne),G.halfWidth.set(W.width*.5,0,0),G.halfHeight.set(0,W.height*.5,0),i.rectArea[w]=G,w++}else if(W.isPointLight){const G=n.get(W);if(G.color.copy(W.color).multiplyScalar(W.intensity*z),G.distance=W.distance,G.decay=W.decay,W.castShadow){const te=W.shadow,re=r.get(W);re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,re.shadowCameraNear=te.camera.near,re.shadowCameraFar=te.camera.far,i.pointShadow[_]=re,i.pointShadowMap[_]=de,i.pointShadowMatrix[_]=W.shadow.matrix,R++}i.point[_]=G,_++}else if(W.isHemisphereLight){const G=n.get(W);G.skyColor.copy(W.color).multiplyScalar(ne*z),G.groundColor.copy(W.groundColor).multiplyScalar(ne*z),i.hemi[M]=G,M++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=v,i.ambient[2]=x;const B=i.hash;(B.directionalLength!==y||B.pointLength!==_||B.spotLength!==E||B.rectAreaLength!==w||B.hemiLength!==M||B.numDirectionalShadows!==C||B.numPointShadows!==R||B.numSpotShadows!==O||B.numSpotMaps!==k)&&(i.directional.length=y,i.spot.length=E,i.rectArea.length=w,i.point.length=_,i.hemi.length=M,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=O,i.spotShadowMap.length=O,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=O+k-P,i.spotLightMap.length=k,i.numSpotLightShadowsWithMaps=P,B.directionalLength=y,B.pointLength=_,B.spotLength=E,B.rectAreaLength=w,B.hemiLength=M,B.numDirectionalShadows=C,B.numPointShadows=R,B.numSpotShadows=O,B.numSpotMaps=k,i.version=dj++)}function u(c,h){let g=0,v=0,x=0,y=0,_=0;const E=h.matrixWorldInverse;for(let w=0,M=c.length;w<M;w++){const C=c[w];if(C.isDirectionalLight){const R=i.directional[g];R.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(E),g++}else if(C.isSpotLight){const R=i.spot[x];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(E),R.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(E),x++}else if(C.isRectAreaLight){const R=i.rectArea[y];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(E),a.identity(),o.copy(C.matrixWorld),o.premultiply(E),a.extractRotation(o),R.halfWidth.set(C.width*.5,0,0),R.halfHeight.set(0,C.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),y++}else if(C.isPointLight){const R=i.point[v];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(E),v++}else if(C.isHemisphereLight){const R=i.hemi[_];R.direction.setFromMatrixPosition(C.matrixWorld),R.direction.transformDirection(E),_++}}}return{setup:l,setupView:u,state:i}}function ZC(t,e){const n=new pj(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){n.setup(r,h)}function u(h){n.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function mj(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new ZC(t,e),n.set(s,[l])):o>=a.length?(l=new ZC(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class nb extends gi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=bo,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rb extends gi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new j,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const gj=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,vj=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yj(t,e,n){let r=new J2;const i=new xe,s=new xe,o=new En,a=new nb({depthPacking:eL}),l=new rb,u={},c=n.maxTextureSize,h={0:Di,1:Mu,2:Dc},g=new ar({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xe},radius:{value:4}},vertexShader:gj,fragmentShader:vj}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const x=new Jt;x.setAttribute("position",new An(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new di(x,g),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Y2,this.render=function(C,R,O){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||C.length===0)return;const k=t.getRenderTarget(),P=t.getActiveCubeFace(),z=t.getActiveMipmapLevel(),B=t.state;B.setBlending(qr),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);for(let q=0,Q=C.length;q<Q;q++){const W=C[q],X=W.shadow;if(X===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;i.copy(X.mapSize);const ne=X.getFrameExtents();if(i.multiply(ne),s.copy(X.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/ne.x),i.x=s.x*ne.x,X.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/ne.y),i.y=s.y*ne.y,X.mapSize.y=s.y)),X.map===null){const de=this.type!==Dd?{minFilter:Rn,magFilter:Rn}:{};X.map=new Dn(i.x,i.y,de),X.map.texture.name=W.name+".shadowMap",X.camera.updateProjectionMatrix()}t.setRenderTarget(X.map),t.clear();const se=X.getViewportCount();for(let de=0;de<se;de++){const G=X.getViewport(de);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),B.viewport(o),X.updateMatrices(W,de),r=X.getFrustum(),M(R,O,X.camera,W,this.type)}X.isPointLightShadow!==!0&&this.type===Dd&&E(X,O),X.needsUpdate=!1}_.needsUpdate=!1,t.setRenderTarget(k,P,z)};function E(C,R){const O=e.update(y);g.defines.VSM_SAMPLES!==C.blurSamples&&(g.defines.VSM_SAMPLES=C.blurSamples,v.defines.VSM_SAMPLES=C.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Dn(i.x,i.y)),g.uniforms.shadow_pass.value=C.map.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(R,null,O,g,y,null),v.uniforms.shadow_pass.value=C.mapPass.texture,v.uniforms.resolution.value=C.mapSize,v.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(R,null,O,v,y,null)}function w(C,R,O,k,P,z){let B=null;const q=O.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(q!==void 0)B=q;else if(B=O.isPointLight===!0?l:a,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const Q=B.uuid,W=R.uuid;let X=u[Q];X===void 0&&(X={},u[Q]=X);let ne=X[W];ne===void 0&&(ne=B.clone(),X[W]=ne),B=ne}return B.visible=R.visible,B.wireframe=R.wireframe,z===Dd?B.side=R.shadowSide!==null?R.shadowSide:R.side:B.side=R.shadowSide!==null?R.shadowSide:h[R.side],B.alphaMap=R.alphaMap,B.alphaTest=R.alphaTest,B.map=R.map,B.clipShadows=R.clipShadows,B.clippingPlanes=R.clippingPlanes,B.clipIntersection=R.clipIntersection,B.displacementMap=R.displacementMap,B.displacementScale=R.displacementScale,B.displacementBias=R.displacementBias,B.wireframeLinewidth=R.wireframeLinewidth,B.linewidth=R.linewidth,O.isPointLight===!0&&B.isMeshDistanceMaterial===!0&&(B.referencePosition.setFromMatrixPosition(O.matrixWorld),B.nearDistance=k,B.farDistance=P),B}function M(C,R,O,k,P){if(C.visible===!1)return;if(C.layers.test(R.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&P===Dd)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,C.matrixWorld);const q=e.update(C),Q=C.material;if(Array.isArray(Q)){const W=q.groups;for(let X=0,ne=W.length;X<ne;X++){const se=W[X],de=Q[se.materialIndex];if(de&&de.visible){const G=w(C,de,k,O.near,O.far,P);t.renderBufferDirect(O,null,q,G,C,se)}}}else if(Q.visible){const W=w(C,Q,k,O.near,O.far,P);t.renderBufferDirect(O,null,q,W,C,null)}}const B=C.children;for(let q=0,Q=B.length;q<Q;q++)M(B[q],R,O,k,P)}}function xj(t,e,n){const r=n.isWebGL2;function i(){let le=!1;const Te=new En;let Fe=null;const at=new En(0,0,0,0);return{setMask:function(_t){Fe!==_t&&!le&&(t.colorMask(_t,_t,_t,_t),Fe=_t)},setLocked:function(_t){le=_t},setClear:function(_t,vn,tr,Vr,so){so===!0&&(_t*=Vr,vn*=Vr,tr*=Vr),Te.set(_t,vn,tr,Vr),at.equals(Te)===!1&&(t.clearColor(_t,vn,tr,Vr),at.copy(Te))},reset:function(){le=!1,Fe=null,at.set(-1,0,0,0)}}}function s(){let le=!1,Te=null,Fe=null,at=null;return{setTest:function(_t){_t?Ke(2929):We(2929)},setMask:function(_t){Te!==_t&&!le&&(t.depthMask(_t),Te=_t)},setFunc:function(_t){if(Fe!==_t){switch(_t){case FM:t.depthFunc(512);break;case UM:t.depthFunc(519);break;case Q_:t.depthFunc(513);break;case Av:t.depthFunc(515);break;case HM:t.depthFunc(514);break;case qM:t.depthFunc(518);break;case VM:t.depthFunc(516);break;case GM:t.depthFunc(517);break;default:t.depthFunc(515)}Fe=_t}},setLocked:function(_t){le=_t},setClear:function(_t){at!==_t&&(t.clearDepth(_t),at=_t)},reset:function(){le=!1,Te=null,Fe=null,at=null}}}function o(){let le=!1,Te=null,Fe=null,at=null,_t=null,vn=null,tr=null,Vr=null,so=null;return{setTest:function(Pn){le||(Pn?Ke(2960):We(2960))},setMask:function(Pn){Te!==Pn&&!le&&(t.stencilMask(Pn),Te=Pn)},setFunc:function(Pn,Us,ki){(Fe!==Pn||at!==Us||_t!==ki)&&(t.stencilFunc(Pn,Us,ki),Fe=Pn,at=Us,_t=ki)},setOp:function(Pn,Us,ki){(vn!==Pn||tr!==Us||Vr!==ki)&&(t.stencilOp(Pn,Us,ki),vn=Pn,tr=Us,Vr=ki)},setLocked:function(Pn){le=Pn},setClear:function(Pn){so!==Pn&&(t.clearStencil(Pn),so=Pn)},reset:function(){le=!1,Te=null,Fe=null,at=null,_t=null,vn=null,tr=null,Vr=null,so=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,h=new WeakMap;let g={},v={},x=new WeakMap,y=[],_=null,E=!1,w=null,M=null,C=null,R=null,O=null,k=null,P=null,z=!1,B=null,q=null,Q=null,W=null,X=null;const ne=t.getParameter(35661);let se=!1,de=0;const G=t.getParameter(7938);G.indexOf("WebGL")!==-1?(de=parseFloat(/^WebGL (\d)/.exec(G)[1]),se=de>=1):G.indexOf("OpenGL ES")!==-1&&(de=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),se=de>=2);let te=null,re={};const V=t.getParameter(3088),J=t.getParameter(2978),he=new En().fromArray(V),we=new En().fromArray(J);function be(le,Te,Fe){const at=new Uint8Array(4),_t=t.createTexture();t.bindTexture(le,_t),t.texParameteri(le,10241,9728),t.texParameteri(le,10240,9728);for(let vn=0;vn<Fe;vn++)t.texImage2D(Te+vn,0,6408,1,1,0,6408,5121,at);return _t}const pe={};pe[3553]=be(3553,3553,1),pe[34067]=be(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ke(2929),l.setFunc(Av),He(!1),St(nA),Ke(2884),De(qr);function Ke(le){g[le]!==!0&&(t.enable(le),g[le]=!0)}function We(le){g[le]!==!1&&(t.disable(le),g[le]=!1)}function rt(le,Te){return v[le]!==Te?(t.bindFramebuffer(le,Te),v[le]=Te,r&&(le===36009&&(v[36160]=Te),le===36160&&(v[36009]=Te)),!0):!1}function Qe(le,Te){let Fe=y,at=!1;if(le)if(Fe=x.get(Te),Fe===void 0&&(Fe=[],x.set(Te,Fe)),le.isWebGLMultipleRenderTargets){const _t=le.texture;if(Fe.length!==_t.length||Fe[0]!==36064){for(let vn=0,tr=_t.length;vn<tr;vn++)Fe[vn]=36064+vn;Fe.length=_t.length,at=!0}}else Fe[0]!==36064&&(Fe[0]=36064,at=!0);else Fe[0]!==1029&&(Fe[0]=1029,at=!0);at&&(n.isWebGL2?t.drawBuffers(Fe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Fe))}function ut(le){return _!==le?(t.useProgram(le),_=le,!0):!1}const Pe={[bd]:32774,[EO]:32778,[SO]:32779};if(r)Pe[sA]=32775,Pe[oA]=32776;else{const le=e.get("EXT_blend_minmax");le!==null&&(Pe[sA]=le.MIN_EXT,Pe[oA]=le.MAX_EXT)}const ye={[AO]:0,[MO]:1,[bO]:768,[zM]:770,[IO]:776,[RO]:774,[CO]:772,[TO]:769,[BM]:771,[DO]:775,[PO]:773};function De(le,Te,Fe,at,_t,vn,tr,Vr){if(le===qr){E===!0&&(We(3042),E=!1);return}if(E===!1&&(Ke(3042),E=!0),le!==wO){if(le!==w||Vr!==z){if((M!==bd||O!==bd)&&(t.blendEquation(32774),M=bd,O=bd),Vr)switch(le){case qd:t.blendFuncSeparate(1,771,1,771);break;case Y_:t.blendFunc(1,1);break;case rA:t.blendFuncSeparate(0,769,0,1);break;case iA:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case qd:t.blendFuncSeparate(770,771,1,771);break;case Y_:t.blendFunc(770,1);break;case rA:t.blendFuncSeparate(0,769,0,1);break;case iA:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}C=null,R=null,k=null,P=null,w=le,z=Vr}return}_t=_t||Te,vn=vn||Fe,tr=tr||at,(Te!==M||_t!==O)&&(t.blendEquationSeparate(Pe[Te],Pe[_t]),M=Te,O=_t),(Fe!==C||at!==R||vn!==k||tr!==P)&&(t.blendFuncSeparate(ye[Fe],ye[at],ye[vn],ye[tr]),C=Fe,R=at,k=vn,P=tr),w=le,z=!1}function Je(le,Te){le.side===Dc?We(2884):Ke(2884);let Fe=le.side===Di;Te&&(Fe=!Fe),He(Fe),le.blending===qd&&le.transparent===!1?De(qr):De(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.premultipliedAlpha),l.setFunc(le.depthFunc),l.setTest(le.depthTest),l.setMask(le.depthWrite),a.setMask(le.colorWrite);const at=le.stencilWrite;u.setTest(at),at&&(u.setMask(le.stencilWriteMask),u.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),u.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),ft(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?Ke(32926):We(32926)}function He(le){B!==le&&(le?t.frontFace(2304):t.frontFace(2305),B=le)}function St(le){le!==yO?(Ke(2884),le!==q&&(le===nA?t.cullFace(1029):le===xO?t.cullFace(1028):t.cullFace(1032))):We(2884),q=le}function gt(le){le!==Q&&(se&&t.lineWidth(le),Q=le)}function ft(le,Te,Fe){le?(Ke(32823),(W!==Te||X!==Fe)&&(t.polygonOffset(Te,Fe),W=Te,X=Fe)):We(32823)}function Lt(le){le?Ke(3089):We(3089)}function qt(le){le===void 0&&(le=33984+ne-1),te!==le&&(t.activeTexture(le),te=le)}function Z(le,Te,Fe){Fe===void 0&&(te===null?Fe=33984+ne-1:Fe=te);let at=re[Fe];at===void 0&&(at={type:void 0,texture:void 0},re[Fe]=at),(at.type!==le||at.texture!==Te)&&(te!==Fe&&(t.activeTexture(Fe),te=Fe),t.bindTexture(le,Te||pe[le]),at.type=le,at.texture=Te)}function U(){const le=re[te];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function ae(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ee(){try{t.compressedTexImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ze(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function qe(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function xt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function $e(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Le(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function mt(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ie(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Se(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ue(le){he.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),he.copy(le))}function Ye(le){we.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),we.copy(le))}function wt(le,Te){let Fe=h.get(Te);Fe===void 0&&(Fe=new WeakMap,h.set(Te,Fe));let at=Fe.get(le);at===void 0&&(at=t.getUniformBlockIndex(Te,le.name),Fe.set(le,at))}function Gt(le,Te){const at=h.get(Te).get(le);c.get(Te)!==at&&(t.uniformBlockBinding(Te,at,le.__bindingPointIndex),c.set(Te,at))}function In(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),g={},te=null,re={},v={},x=new WeakMap,y=[],_=null,E=!1,w=null,M=null,C=null,R=null,O=null,k=null,P=null,z=!1,B=null,q=null,Q=null,W=null,X=null,he.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Ke,disable:We,bindFramebuffer:rt,drawBuffers:Qe,useProgram:ut,setBlending:De,setMaterial:Je,setFlipSided:He,setCullFace:St,setLineWidth:gt,setPolygonOffset:ft,setScissorTest:Lt,activeTexture:qt,bindTexture:Z,unbindTexture:U,compressedTexImage2D:ae,compressedTexImage3D:Ee,texImage2D:ie,texImage3D:Se,updateUBOMapping:wt,uniformBlockBinding:Gt,texStorage2D:Le,texStorage3D:mt,texSubImage2D:ze,texSubImage3D:qe,compressedTexSubImage2D:xt,compressedTexSubImage3D:$e,scissor:Ue,viewport:Ye,reset:In}}function _j(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,h=i.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),x=new WeakMap;let y;const _=new WeakMap;let E=!1;try{E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(Z,U){return E?new OffscreenCanvas(Z,U):Ov("canvas")}function M(Z,U,ae,Ee){let ze=1;if((Z.width>Ee||Z.height>Ee)&&(ze=Ee/Math.max(Z.width,Z.height)),ze<1||U===!0)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const qe=U?$_:Math.floor,xt=qe(ze*Z.width),$e=qe(ze*Z.height);y===void 0&&(y=w(xt,$e));const Le=ae?w(xt,$e):y;return Le.width=xt,Le.height=$e,Le.getContext("2d").drawImage(Z,0,0,xt,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+xt+"x"+$e+")."),Le}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),Z;return Z}function C(Z){return PA(Z.width)&&PA(Z.height)}function R(Z){return a?!1:Z.wrapS!==us||Z.wrapT!==us||Z.minFilter!==Rn&&Z.minFilter!==zn}function O(Z,U){return Z.generateMipmaps&&U&&Z.minFilter!==Rn&&Z.minFilter!==zn}function k(Z){t.generateMipmap(Z)}function P(Z,U,ae,Ee,ze=!1){if(a===!1)return U;if(Z!==null){if(t[Z]!==void 0)return t[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let qe=U;return U===6403&&(ae===5126&&(qe=33326),ae===5131&&(qe=33325),ae===5121&&(qe=33321)),U===33319&&(ae===5126&&(qe=33328),ae===5131&&(qe=33327),ae===5121&&(qe=33323)),U===6408&&(ae===5126&&(qe=34836),ae===5131&&(qe=34842),ae===5121&&(qe=Ee===Rt&&ze===!1?35907:32856),ae===32819&&(qe=32854),ae===32820&&(qe=32855)),(qe===33325||qe===33326||qe===33327||qe===33328||qe===34842||qe===34836)&&e.get("EXT_color_buffer_float"),qe}function z(Z,U,ae){return O(Z,ae)===!0||Z.isFramebufferTexture&&Z.minFilter!==Rn&&Z.minFilter!==zn?Math.log2(Math.max(U.width,U.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?U.mipmaps.length:1}function B(Z){return Z===Rn||Z===X_||Z===Q0?9728:9729}function q(Z){const U=Z.target;U.removeEventListener("dispose",q),W(U),U.isVideoTexture&&x.delete(U)}function Q(Z){const U=Z.target;U.removeEventListener("dispose",Q),ne(U)}function W(Z){const U=r.get(Z);if(U.__webglInit===void 0)return;const ae=Z.source,Ee=_.get(ae);if(Ee){const ze=Ee[U.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&X(Z),Object.keys(Ee).length===0&&_.delete(ae)}r.remove(Z)}function X(Z){const U=r.get(Z);t.deleteTexture(U.__webglTexture);const ae=Z.source,Ee=_.get(ae);delete Ee[U.__cacheKey],o.memory.textures--}function ne(Z){const U=Z.texture,ae=r.get(Z),Ee=r.get(U);if(Ee.__webglTexture!==void 0&&(t.deleteTexture(Ee.__webglTexture),o.memory.textures--),Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let ze=0;ze<6;ze++)t.deleteFramebuffer(ae.__webglFramebuffer[ze]),ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer[ze]);else{if(t.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let ze=0;ze<ae.__webglColorRenderbuffer.length;ze++)ae.__webglColorRenderbuffer[ze]&&t.deleteRenderbuffer(ae.__webglColorRenderbuffer[ze]);ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(Z.isWebGLMultipleRenderTargets)for(let ze=0,qe=U.length;ze<qe;ze++){const xt=r.get(U[ze]);xt.__webglTexture&&(t.deleteTexture(xt.__webglTexture),o.memory.textures--),r.remove(U[ze])}r.remove(U),r.remove(Z)}let se=0;function de(){se=0}function G(){const Z=se;return Z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+l),se+=1,Z}function te(Z){const U=[];return U.push(Z.wrapS),U.push(Z.wrapT),U.push(Z.wrapR||0),U.push(Z.magFilter),U.push(Z.minFilter),U.push(Z.anisotropy),U.push(Z.internalFormat),U.push(Z.format),U.push(Z.type),U.push(Z.generateMipmaps),U.push(Z.premultiplyAlpha),U.push(Z.flipY),U.push(Z.unpackAlignment),U.push(Z.encoding),U.join()}function re(Z,U){const ae=r.get(Z);if(Z.isVideoTexture&&Lt(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&ae.__version!==Z.version){const Ee=Z.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{We(ae,Z,U);return}}n.bindTexture(3553,ae.__webglTexture,33984+U)}function V(Z,U){const ae=r.get(Z);if(Z.version>0&&ae.__version!==Z.version){We(ae,Z,U);return}n.bindTexture(35866,ae.__webglTexture,33984+U)}function J(Z,U){const ae=r.get(Z);if(Z.version>0&&ae.__version!==Z.version){We(ae,Z,U);return}n.bindTexture(32879,ae.__webglTexture,33984+U)}function he(Z,U){const ae=r.get(Z);if(Z.version>0&&ae.__version!==Z.version){rt(ae,Z,U);return}n.bindTexture(34067,ae.__webglTexture,33984+U)}const we={[Cm]:10497,[us]:33071,[Tv]:33648},be={[Rn]:9728,[X_]:9984,[Q0]:9986,[zn]:9729,[jM]:9985,[bu]:9987};function pe(Z,U,ae){if(ae?(t.texParameteri(Z,10242,we[U.wrapS]),t.texParameteri(Z,10243,we[U.wrapT]),(Z===32879||Z===35866)&&t.texParameteri(Z,32882,we[U.wrapR]),t.texParameteri(Z,10240,be[U.magFilter]),t.texParameteri(Z,10241,be[U.minFilter])):(t.texParameteri(Z,10242,33071),t.texParameteri(Z,10243,33071),(Z===32879||Z===35866)&&t.texParameteri(Z,32882,33071),(U.wrapS!==us||U.wrapT!==us)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Z,10240,B(U.magFilter)),t.texParameteri(Z,10241,B(U.minFilter)),U.minFilter!==Rn&&U.minFilter!==zn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ee=e.get("EXT_texture_filter_anisotropic");if(U.magFilter===Rn||U.minFilter!==Q0&&U.minFilter!==bu||U.type===Ia&&e.has("OES_texture_float_linear")===!1||a===!1&&U.type===$c&&e.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||r.get(U).__currentAnisotropy)&&(t.texParameterf(Z,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy)}}function Ke(Z,U){let ae=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,U.addEventListener("dispose",q));const Ee=U.source;let ze=_.get(Ee);ze===void 0&&(ze={},_.set(Ee,ze));const qe=te(U);if(qe!==Z.__cacheKey){ze[qe]===void 0&&(ze[qe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),ze[qe].usedTimes++;const xt=ze[Z.__cacheKey];xt!==void 0&&(ze[Z.__cacheKey].usedTimes--,xt.usedTimes===0&&X(U)),Z.__cacheKey=qe,Z.__webglTexture=ze[qe].texture}return ae}function We(Z,U,ae){let Ee=3553;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(Ee=35866),U.isData3DTexture&&(Ee=32879);const ze=Ke(Z,U),qe=U.source;n.bindTexture(Ee,Z.__webglTexture,33984+ae);const xt=r.get(qe);if(qe.version!==xt.__version||ze===!0){n.activeTexture(33984+ae),t.pixelStorei(37440,U.flipY),t.pixelStorei(37441,U.premultiplyAlpha),t.pixelStorei(3317,U.unpackAlignment),t.pixelStorei(37443,0);const $e=R(U)&&C(U.image)===!1;let Le=M(U.image,$e,!1,c);Le=qt(U,Le);const mt=C(Le)||a,ie=s.convert(U.format,U.encoding);let Se=s.convert(U.type),Ue=P(U.internalFormat,ie,Se,U.encoding,U.isVideoTexture);pe(Ee,U,mt);let Ye;const wt=U.mipmaps,Gt=a&&U.isVideoTexture!==!0,In=xt.__version===void 0||ze===!0,le=z(U,Le,mt);if(U.isDepthTexture)Ue=6402,a?U.type===Ia?Ue=36012:U.type===du?Ue=33190:U.type===Vc?Ue=35056:Ue=33189:U.type===Ia&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===Gc&&Ue===6402&&U.type!==YM&&U.type!==du&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=du,Se=s.convert(U.type)),U.format===Zc&&Ue===6402&&(Ue=34041,U.type!==Vc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=Vc,Se=s.convert(U.type))),In&&(Gt?n.texStorage2D(3553,1,Ue,Le.width,Le.height):n.texImage2D(3553,0,Ue,Le.width,Le.height,0,ie,Se,null));else if(U.isDataTexture)if(wt.length>0&&mt){Gt&&In&&n.texStorage2D(3553,le,Ue,wt[0].width,wt[0].height);for(let Te=0,Fe=wt.length;Te<Fe;Te++)Ye=wt[Te],Gt?n.texSubImage2D(3553,Te,0,0,Ye.width,Ye.height,ie,Se,Ye.data):n.texImage2D(3553,Te,Ue,Ye.width,Ye.height,0,ie,Se,Ye.data);U.generateMipmaps=!1}else Gt?(In&&n.texStorage2D(3553,le,Ue,Le.width,Le.height),n.texSubImage2D(3553,0,0,0,Le.width,Le.height,ie,Se,Le.data)):n.texImage2D(3553,0,Ue,Le.width,Le.height,0,ie,Se,Le.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){Gt&&In&&n.texStorage3D(35866,le,Ue,wt[0].width,wt[0].height,Le.depth);for(let Te=0,Fe=wt.length;Te<Fe;Te++)Ye=wt[Te],U.format!==cs?ie!==null?Gt?n.compressedTexSubImage3D(35866,Te,0,0,0,Ye.width,Ye.height,Le.depth,ie,Ye.data,0,0):n.compressedTexImage3D(35866,Te,Ue,Ye.width,Ye.height,Le.depth,0,Ye.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Gt?n.texSubImage3D(35866,Te,0,0,0,Ye.width,Ye.height,Le.depth,ie,Se,Ye.data):n.texImage3D(35866,Te,Ue,Ye.width,Ye.height,Le.depth,0,ie,Se,Ye.data)}else{Gt&&In&&n.texStorage2D(3553,le,Ue,wt[0].width,wt[0].height);for(let Te=0,Fe=wt.length;Te<Fe;Te++)Ye=wt[Te],U.format!==cs?ie!==null?Gt?n.compressedTexSubImage2D(3553,Te,0,0,Ye.width,Ye.height,ie,Ye.data):n.compressedTexImage2D(3553,Te,Ue,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Gt?n.texSubImage2D(3553,Te,0,0,Ye.width,Ye.height,ie,Se,Ye.data):n.texImage2D(3553,Te,Ue,Ye.width,Ye.height,0,ie,Se,Ye.data)}else if(U.isDataArrayTexture)Gt?(In&&n.texStorage3D(35866,le,Ue,Le.width,Le.height,Le.depth),n.texSubImage3D(35866,0,0,0,0,Le.width,Le.height,Le.depth,ie,Se,Le.data)):n.texImage3D(35866,0,Ue,Le.width,Le.height,Le.depth,0,ie,Se,Le.data);else if(U.isData3DTexture)Gt?(In&&n.texStorage3D(32879,le,Ue,Le.width,Le.height,Le.depth),n.texSubImage3D(32879,0,0,0,0,Le.width,Le.height,Le.depth,ie,Se,Le.data)):n.texImage3D(32879,0,Ue,Le.width,Le.height,Le.depth,0,ie,Se,Le.data);else if(U.isFramebufferTexture){if(In)if(Gt)n.texStorage2D(3553,le,Ue,Le.width,Le.height);else{let Te=Le.width,Fe=Le.height;for(let at=0;at<le;at++)n.texImage2D(3553,at,Ue,Te,Fe,0,ie,Se,null),Te>>=1,Fe>>=1}}else if(wt.length>0&&mt){Gt&&In&&n.texStorage2D(3553,le,Ue,wt[0].width,wt[0].height);for(let Te=0,Fe=wt.length;Te<Fe;Te++)Ye=wt[Te],Gt?n.texSubImage2D(3553,Te,0,0,ie,Se,Ye):n.texImage2D(3553,Te,Ue,ie,Se,Ye);U.generateMipmaps=!1}else Gt?(In&&n.texStorage2D(3553,le,Ue,Le.width,Le.height),n.texSubImage2D(3553,0,0,0,ie,Se,Le)):n.texImage2D(3553,0,Ue,ie,Se,Le);O(U,mt)&&k(Ee),xt.__version=qe.version,U.onUpdate&&U.onUpdate(U)}Z.__version=U.version}function rt(Z,U,ae){if(U.image.length!==6)return;const Ee=Ke(Z,U),ze=U.source;n.bindTexture(34067,Z.__webglTexture,33984+ae);const qe=r.get(ze);if(ze.version!==qe.__version||Ee===!0){n.activeTexture(33984+ae),t.pixelStorei(37440,U.flipY),t.pixelStorei(37441,U.premultiplyAlpha),t.pixelStorei(3317,U.unpackAlignment),t.pixelStorei(37443,0);const xt=U.isCompressedTexture||U.image[0].isCompressedTexture,$e=U.image[0]&&U.image[0].isDataTexture,Le=[];for(let Te=0;Te<6;Te++)!xt&&!$e?Le[Te]=M(U.image[Te],!1,!0,u):Le[Te]=$e?U.image[Te].image:U.image[Te],Le[Te]=qt(U,Le[Te]);const mt=Le[0],ie=C(mt)||a,Se=s.convert(U.format,U.encoding),Ue=s.convert(U.type),Ye=P(U.internalFormat,Se,Ue,U.encoding),wt=a&&U.isVideoTexture!==!0,Gt=qe.__version===void 0||Ee===!0;let In=z(U,mt,ie);pe(34067,U,ie);let le;if(xt){wt&&Gt&&n.texStorage2D(34067,In,Ye,mt.width,mt.height);for(let Te=0;Te<6;Te++){le=Le[Te].mipmaps;for(let Fe=0;Fe<le.length;Fe++){const at=le[Fe];U.format!==cs?Se!==null?wt?n.compressedTexSubImage2D(34069+Te,Fe,0,0,at.width,at.height,Se,at.data):n.compressedTexImage2D(34069+Te,Fe,Ye,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):wt?n.texSubImage2D(34069+Te,Fe,0,0,at.width,at.height,Se,Ue,at.data):n.texImage2D(34069+Te,Fe,Ye,at.width,at.height,0,Se,Ue,at.data)}}}else{le=U.mipmaps,wt&&Gt&&(le.length>0&&In++,n.texStorage2D(34067,In,Ye,Le[0].width,Le[0].height));for(let Te=0;Te<6;Te++)if($e){wt?n.texSubImage2D(34069+Te,0,0,0,Le[Te].width,Le[Te].height,Se,Ue,Le[Te].data):n.texImage2D(34069+Te,0,Ye,Le[Te].width,Le[Te].height,0,Se,Ue,Le[Te].data);for(let Fe=0;Fe<le.length;Fe++){const _t=le[Fe].image[Te].image;wt?n.texSubImage2D(34069+Te,Fe+1,0,0,_t.width,_t.height,Se,Ue,_t.data):n.texImage2D(34069+Te,Fe+1,Ye,_t.width,_t.height,0,Se,Ue,_t.data)}}else{wt?n.texSubImage2D(34069+Te,0,0,0,Se,Ue,Le[Te]):n.texImage2D(34069+Te,0,Ye,Se,Ue,Le[Te]);for(let Fe=0;Fe<le.length;Fe++){const at=le[Fe];wt?n.texSubImage2D(34069+Te,Fe+1,0,0,Se,Ue,at.image[Te]):n.texImage2D(34069+Te,Fe+1,Ye,Se,Ue,at.image[Te])}}}O(U,ie)&&k(34067),qe.__version=ze.version,U.onUpdate&&U.onUpdate(U)}Z.__version=U.version}function Qe(Z,U,ae,Ee,ze){const qe=s.convert(ae.format,ae.encoding),xt=s.convert(ae.type),$e=P(ae.internalFormat,qe,xt,ae.encoding);r.get(U).__hasExternalTextures||(ze===32879||ze===35866?n.texImage3D(ze,0,$e,U.width,U.height,U.depth,0,qe,xt,null):n.texImage2D(ze,0,$e,U.width,U.height,0,qe,xt,null)),n.bindFramebuffer(36160,Z),ft(U)?g.framebufferTexture2DMultisampleEXT(36160,Ee,ze,r.get(ae).__webglTexture,0,gt(U)):(ze===3553||ze>=34069&&ze<=34074)&&t.framebufferTexture2D(36160,Ee,ze,r.get(ae).__webglTexture,0),n.bindFramebuffer(36160,null)}function ut(Z,U,ae){if(t.bindRenderbuffer(36161,Z),U.depthBuffer&&!U.stencilBuffer){let Ee=33189;if(ae||ft(U)){const ze=U.depthTexture;ze&&ze.isDepthTexture&&(ze.type===Ia?Ee=36012:ze.type===du&&(Ee=33190));const qe=gt(U);ft(U)?g.renderbufferStorageMultisampleEXT(36161,qe,Ee,U.width,U.height):t.renderbufferStorageMultisample(36161,qe,Ee,U.width,U.height)}else t.renderbufferStorage(36161,Ee,U.width,U.height);t.framebufferRenderbuffer(36160,36096,36161,Z)}else if(U.depthBuffer&&U.stencilBuffer){const Ee=gt(U);ae&&ft(U)===!1?t.renderbufferStorageMultisample(36161,Ee,35056,U.width,U.height):ft(U)?g.renderbufferStorageMultisampleEXT(36161,Ee,35056,U.width,U.height):t.renderbufferStorage(36161,34041,U.width,U.height),t.framebufferRenderbuffer(36160,33306,36161,Z)}else{const Ee=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let ze=0;ze<Ee.length;ze++){const qe=Ee[ze],xt=s.convert(qe.format,qe.encoding),$e=s.convert(qe.type),Le=P(qe.internalFormat,xt,$e,qe.encoding),mt=gt(U);ae&&ft(U)===!1?t.renderbufferStorageMultisample(36161,mt,Le,U.width,U.height):ft(U)?g.renderbufferStorageMultisampleEXT(36161,mt,Le,U.width,U.height):t.renderbufferStorage(36161,Le,U.width,U.height)}}t.bindRenderbuffer(36161,null)}function Pe(Z,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Z),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),re(U.depthTexture,0);const Ee=r.get(U.depthTexture).__webglTexture,ze=gt(U);if(U.depthTexture.format===Gc)ft(U)?g.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ee,0,ze):t.framebufferTexture2D(36160,36096,3553,Ee,0);else if(U.depthTexture.format===Zc)ft(U)?g.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ee,0,ze):t.framebufferTexture2D(36160,33306,3553,Ee,0);else throw new Error("Unknown depthTexture format")}function ye(Z){const U=r.get(Z),ae=Z.isWebGLCubeRenderTarget===!0;if(Z.depthTexture&&!U.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");Pe(U.__webglFramebuffer,Z)}else if(ae){U.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)n.bindFramebuffer(36160,U.__webglFramebuffer[Ee]),U.__webglDepthbuffer[Ee]=t.createRenderbuffer(),ut(U.__webglDepthbuffer[Ee],Z,!1)}else n.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),ut(U.__webglDepthbuffer,Z,!1);n.bindFramebuffer(36160,null)}function De(Z,U,ae){const Ee=r.get(Z);U!==void 0&&Qe(Ee.__webglFramebuffer,Z,Z.texture,36064,3553),ae!==void 0&&ye(Z)}function Je(Z){const U=Z.texture,ae=r.get(Z),Ee=r.get(U);Z.addEventListener("dispose",Q),Z.isWebGLMultipleRenderTargets!==!0&&(Ee.__webglTexture===void 0&&(Ee.__webglTexture=t.createTexture()),Ee.__version=U.version,o.memory.textures++);const ze=Z.isWebGLCubeRenderTarget===!0,qe=Z.isWebGLMultipleRenderTargets===!0,xt=C(Z)||a;if(ze){ae.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)ae.__webglFramebuffer[$e]=t.createFramebuffer()}else{if(ae.__webglFramebuffer=t.createFramebuffer(),qe)if(i.drawBuffers){const $e=Z.texture;for(let Le=0,mt=$e.length;Le<mt;Le++){const ie=r.get($e[Le]);ie.__webglTexture===void 0&&(ie.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Z.samples>0&&ft(Z)===!1){const $e=qe?U:[U];ae.__webglMultisampledFramebuffer=t.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let Le=0;Le<$e.length;Le++){const mt=$e[Le];ae.__webglColorRenderbuffer[Le]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[Le]);const ie=s.convert(mt.format,mt.encoding),Se=s.convert(mt.type),Ue=P(mt.internalFormat,ie,Se,mt.encoding,Z.isXRRenderTarget===!0),Ye=gt(Z);t.renderbufferStorageMultisample(36161,Ye,Ue,Z.width,Z.height),t.framebufferRenderbuffer(36160,36064+Le,36161,ae.__webglColorRenderbuffer[Le])}t.bindRenderbuffer(36161,null),Z.depthBuffer&&(ae.__webglDepthRenderbuffer=t.createRenderbuffer(),ut(ae.__webglDepthRenderbuffer,Z,!0)),n.bindFramebuffer(36160,null)}}if(ze){n.bindTexture(34067,Ee.__webglTexture),pe(34067,U,xt);for(let $e=0;$e<6;$e++)Qe(ae.__webglFramebuffer[$e],Z,U,36064,34069+$e);O(U,xt)&&k(34067),n.unbindTexture()}else if(qe){const $e=Z.texture;for(let Le=0,mt=$e.length;Le<mt;Le++){const ie=$e[Le],Se=r.get(ie);n.bindTexture(3553,Se.__webglTexture),pe(3553,ie,xt),Qe(ae.__webglFramebuffer,Z,ie,36064+Le,3553),O(ie,xt)&&k(3553)}n.unbindTexture()}else{let $e=3553;(Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(a?$e=Z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture($e,Ee.__webglTexture),pe($e,U,xt),Qe(ae.__webglFramebuffer,Z,U,36064,$e),O(U,xt)&&k($e),n.unbindTexture()}Z.depthBuffer&&ye(Z)}function He(Z){const U=C(Z)||a,ae=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let Ee=0,ze=ae.length;Ee<ze;Ee++){const qe=ae[Ee];if(O(qe,U)){const xt=Z.isWebGLCubeRenderTarget?34067:3553,$e=r.get(qe).__webglTexture;n.bindTexture(xt,$e),k(xt),n.unbindTexture()}}}function St(Z){if(a&&Z.samples>0&&ft(Z)===!1){const U=Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture],ae=Z.width,Ee=Z.height;let ze=16384;const qe=[],xt=Z.stencilBuffer?33306:36096,$e=r.get(Z),Le=Z.isWebGLMultipleRenderTargets===!0;if(Le)for(let mt=0;mt<U.length;mt++)n.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+mt,36161,null),n.bindFramebuffer(36160,$e.__webglFramebuffer),t.framebufferTexture2D(36009,36064+mt,3553,null,0);n.bindFramebuffer(36008,$e.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,$e.__webglFramebuffer);for(let mt=0;mt<U.length;mt++){qe.push(36064+mt),Z.depthBuffer&&qe.push(xt);const ie=$e.__ignoreDepthValues!==void 0?$e.__ignoreDepthValues:!1;if(ie===!1&&(Z.depthBuffer&&(ze|=256),Z.stencilBuffer&&(ze|=1024)),Le&&t.framebufferRenderbuffer(36008,36064,36161,$e.__webglColorRenderbuffer[mt]),ie===!0&&(t.invalidateFramebuffer(36008,[xt]),t.invalidateFramebuffer(36009,[xt])),Le){const Se=r.get(U[mt]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,Se,0)}t.blitFramebuffer(0,0,ae,Ee,0,0,ae,Ee,ze,9728),v&&t.invalidateFramebuffer(36008,qe)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Le)for(let mt=0;mt<U.length;mt++){n.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+mt,36161,$e.__webglColorRenderbuffer[mt]);const ie=r.get(U[mt]).__webglTexture;n.bindFramebuffer(36160,$e.__webglFramebuffer),t.framebufferTexture2D(36009,36064+mt,3553,ie,0)}n.bindFramebuffer(36009,$e.__webglMultisampledFramebuffer)}}function gt(Z){return Math.min(h,Z.samples)}function ft(Z){const U=r.get(Z);return a&&Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function Lt(Z){const U=o.render.frame;x.get(Z)!==U&&(x.set(Z,U),Z.update())}function qt(Z,U){const ae=Z.encoding,Ee=Z.format,ze=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||Z.format===K_||ae!==Fa&&(ae===Rt?a===!1?e.has("EXT_sRGB")===!0&&Ee===cs?(Z.format=K_,Z.minFilter=zn,Z.generateMipmaps=!1):U=ZM.sRGBToLinear(U):(Ee!==cs||ze!==Li)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),U}this.allocateTextureUnit=G,this.resetTextureUnits=de,this.setTexture2D=re,this.setTexture2DArray=V,this.setTexture3D=J,this.setTextureCube=he,this.rebindTextures=De,this.setupRenderTarget=Je,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=St,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Qe,this.useMultisampledRTT=ft}function pL(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===Li)return 5121;if(s===qO)return 32819;if(s===VO)return 32820;if(s===FO)return 5120;if(s===UO)return 5122;if(s===YM)return 5123;if(s===HO)return 5124;if(s===du)return 5125;if(s===Ia)return 5126;if(s===$c)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===GO)return 6406;if(s===cs)return 6408;if(s===X2)return 6409;if(s===jO)return 6410;if(s===Gc)return 6402;if(s===Zc)return 34041;if(s===WO)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===K_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===QM)return 6403;if(s===YO)return 36244;if(s===XM)return 33319;if(s===QO)return 33320;if(s===XO)return 36249;if(s===i_||s===s_||s===o_||s===a_)if(o===Rt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===i_)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===s_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===o_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===a_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===i_)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===s_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===o_)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===a_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===aA||s===lA||s===uA||s===cA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===aA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===lA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===uA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===cA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===KO)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===fA||s===dA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===fA)return o===Rt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===dA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===hA||s===pA||s===mA||s===gA||s===vA||s===yA||s===xA||s===_A||s===wA||s===EA||s===SA||s===AA||s===MA||s===bA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===hA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===pA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===mA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===gA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===vA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===yA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===xA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===_A)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===wA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===EA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===SA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===AA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===MA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===bA)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===TA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===TA)return o===Rt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Vc?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class mL extends Zn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class lm extends Cn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const wj={type:"move"};class Ww{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new lm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new lm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new j,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new j),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new lm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new j,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new j),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const _=n.getJointPose(y,r),E=this._getHandJoint(u,y);_!==null&&(E.matrix.fromArray(_.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.jointRadius=_.radius),E.visible=_!==null}const c=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],g=c.position.distanceTo(h.position),v=.02,x=.005;u.inputState.pinching&&g>v+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&g<=v-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(wj)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new lm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class c1 extends Xn{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:Gc,c!==Gc&&c!==Zc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Gc&&(r=du),r===void 0&&c===Zc&&(r=Vc),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Rn,this.minFilter=l!==void 0?l:Rn,this.flipY=!1,this.generateMipmaps=!1}}class Ej extends Do{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,c=null,h=null,g=null,v=null;const x=n.getContextAttributes();let y=null,_=null;const E=[],w=[],M=new Set,C=new Map,R=new Zn;R.layers.enable(1),R.viewport=new En;const O=new Zn;O.layers.enable(2),O.viewport=new En;const k=[R,O],P=new mL;P.layers.enable(1),P.layers.enable(2);let z=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let J=E[V];return J===void 0&&(J=new Ww,E[V]=J),J.getTargetRaySpace()},this.getControllerGrip=function(V){let J=E[V];return J===void 0&&(J=new Ww,E[V]=J),J.getGripSpace()},this.getHand=function(V){let J=E[V];return J===void 0&&(J=new Ww,E[V]=J),J.getHandSpace()};function q(V){const J=w.indexOf(V.inputSource);if(J===-1)return;const he=E[J];he!==void 0&&he.dispatchEvent({type:V.type,data:V.inputSource})}function Q(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",Q),i.removeEventListener("inputsourceschange",W);for(let V=0;V<E.length;V++){const J=w[V];J!==null&&(w[V]=null,E[V].disconnect(J))}z=null,B=null,e.setRenderTarget(y),g=null,h=null,c=null,i=null,_=null,re.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){s=V,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(V){l=V},this.getBaseLayer=function(){return h!==null?h:g},this.getBinding=function(){return c},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(V){if(i=V,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",Q),i.addEventListener("inputsourceschange",W),x.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:x.alpha,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,J),i.updateRenderState({baseLayer:g}),_=new Dn(g.framebufferWidth,g.framebufferHeight,{format:cs,type:Li,encoding:e.outputEncoding,stencilBuffer:x.stencil})}else{let J=null,he=null,we=null;x.depth&&(we=x.stencil?35056:33190,J=x.stencil?Zc:Gc,he=x.stencil?Vc:du);const be={colorFormat:32856,depthFormat:we,scaleFactor:s};c=new XRWebGLBinding(i,n),h=c.createProjectionLayer(be),i.updateRenderState({layers:[h]}),_=new Dn(h.textureWidth,h.textureHeight,{format:cs,type:Li,depthTexture:new c1(h.textureWidth,h.textureHeight,he,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:x.stencil,encoding:e.outputEncoding,samples:x.antialias?4:0});const pe=e.properties.get(_);pe.__ignoreDepthValues=h.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),re.setContext(i),re.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function W(V){for(let J=0;J<V.removed.length;J++){const he=V.removed[J],we=w.indexOf(he);we>=0&&(w[we]=null,E[we].disconnect(he))}for(let J=0;J<V.added.length;J++){const he=V.added[J];let we=w.indexOf(he);if(we===-1){for(let pe=0;pe<E.length;pe++)if(pe>=w.length){w.push(he),we=pe;break}else if(w[pe]===null){w[pe]=he,we=pe;break}if(we===-1)break}const be=E[we];be&&be.connect(he)}}const X=new j,ne=new j;function se(V,J,he){X.setFromMatrixPosition(J.matrixWorld),ne.setFromMatrixPosition(he.matrixWorld);const we=X.distanceTo(ne),be=J.projectionMatrix.elements,pe=he.projectionMatrix.elements,Ke=be[14]/(be[10]-1),We=be[14]/(be[10]+1),rt=(be[9]+1)/be[5],Qe=(be[9]-1)/be[5],ut=(be[8]-1)/be[0],Pe=(pe[8]+1)/pe[0],ye=Ke*ut,De=Ke*Pe,Je=we/(-ut+Pe),He=Je*-ut;J.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(He),V.translateZ(Je),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const St=Ke+Je,gt=We+Je,ft=ye-He,Lt=De+(we-He),qt=rt*We/gt*St,Z=Qe*We/gt*St;V.projectionMatrix.makePerspective(ft,Lt,qt,Z,St,gt)}function de(V,J){J===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(J.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(i===null)return;P.near=O.near=R.near=V.near,P.far=O.far=R.far=V.far,(z!==P.near||B!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),z=P.near,B=P.far);const J=V.parent,he=P.cameras;de(P,J);for(let be=0;be<he.length;be++)de(he[be],J);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),V.matrix.copy(P.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale);const we=V.children;for(let be=0,pe=we.length;be<pe;be++)we[be].updateMatrixWorld(!0);he.length===2?se(P,R,O):P.projectionMatrix.copy(R.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(g!==null)return g.fixedFoveation},this.setFoveation=function(V){h!==null&&(h.fixedFoveation=V),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=V)},this.getPlanes=function(){return M};let G=null;function te(V,J){if(u=J.getViewerPose(l||o),v=J,u!==null){const he=u.views;g!==null&&(e.setRenderTargetFramebuffer(_,g.framebuffer),e.setRenderTarget(_));let we=!1;he.length!==P.cameras.length&&(P.cameras.length=0,we=!0);for(let be=0;be<he.length;be++){const pe=he[be];let Ke=null;if(g!==null)Ke=g.getViewport(pe);else{const rt=c.getViewSubImage(h,pe);Ke=rt.viewport,be===0&&(e.setRenderTargetTextures(_,rt.colorTexture,h.ignoreDepthValues?void 0:rt.depthStencilTexture),e.setRenderTarget(_))}let We=k[be];We===void 0&&(We=new Zn,We.layers.enable(be),We.viewport=new En,k[be]=We),We.matrix.fromArray(pe.transform.matrix),We.projectionMatrix.fromArray(pe.projectionMatrix),We.viewport.set(Ke.x,Ke.y,Ke.width,Ke.height),be===0&&P.matrix.copy(We.matrix),we===!0&&P.cameras.push(We)}}for(let he=0;he<E.length;he++){const we=w[he],be=E[he];we!==null&&be!==void 0&&be.update(we,J,l||o)}if(G&&G(V,J),J.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:J.detectedPlanes});let he=null;for(const we of M)J.detectedPlanes.has(we)||(he===null&&(he=[]),he.push(we));if(he!==null)for(const we of he)M.delete(we),C.delete(we),r.dispatchEvent({type:"planeremoved",data:we});for(const we of J.detectedPlanes)if(!M.has(we))M.add(we),C.set(we,J.lastChangedTime),r.dispatchEvent({type:"planeadded",data:we});else{const be=C.get(we);we.lastChangedTime>be&&(C.set(we,we.lastChangedTime),r.dispatchEvent({type:"planechanged",data:we}))}}v=null}const re=new uL;re.setAnimationLoop(te),this.setAnimationLoop=function(V){G=V},this.dispose=function(){}}}function Sj(t,e){function n(y,_){_.color.getRGB(y.fogColor.value,oL(t)),_.isFog?(y.fogNear.value=_.near,y.fogFar.value=_.far):_.isFogExp2&&(y.fogDensity.value=_.density)}function r(y,_,E,w,M){_.isMeshBasicMaterial||_.isMeshLambertMaterial?i(y,_):_.isMeshToonMaterial?(i(y,_),c(y,_)):_.isMeshPhongMaterial?(i(y,_),u(y,_)):_.isMeshStandardMaterial?(i(y,_),h(y,_),_.isMeshPhysicalMaterial&&g(y,_,M)):_.isMeshMatcapMaterial?(i(y,_),v(y,_)):_.isMeshDepthMaterial?i(y,_):_.isMeshDistanceMaterial?(i(y,_),x(y,_)):_.isMeshNormalMaterial?i(y,_):_.isLineBasicMaterial?(s(y,_),_.isLineDashedMaterial&&o(y,_)):_.isPointsMaterial?a(y,_,E,w):_.isSpriteMaterial?l(y,_):_.isShadowMaterial?(y.color.value.copy(_.color),y.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function i(y,_){y.opacity.value=_.opacity,_.color&&y.diffuse.value.copy(_.color),_.emissive&&y.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.bumpMap&&(y.bumpMap.value=_.bumpMap,y.bumpScale.value=_.bumpScale,_.side===Di&&(y.bumpScale.value*=-1)),_.displacementMap&&(y.displacementMap.value=_.displacementMap,y.displacementScale.value=_.displacementScale,y.displacementBias.value=_.displacementBias),_.emissiveMap&&(y.emissiveMap.value=_.emissiveMap),_.normalMap&&(y.normalMap.value=_.normalMap,y.normalScale.value.copy(_.normalScale),_.side===Di&&y.normalScale.value.negate()),_.specularMap&&(y.specularMap.value=_.specularMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);const E=e.get(_).envMap;if(E&&(y.envMap.value=E,y.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=_.reflectivity,y.ior.value=_.ior,y.refractionRatio.value=_.refractionRatio),_.lightMap){y.lightMap.value=_.lightMap;const C=t.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=_.lightMapIntensity*C}_.aoMap&&(y.aoMap.value=_.aoMap,y.aoMapIntensity.value=_.aoMapIntensity);let w;_.map?w=_.map:_.specularMap?w=_.specularMap:_.displacementMap?w=_.displacementMap:_.normalMap?w=_.normalMap:_.bumpMap?w=_.bumpMap:_.roughnessMap?w=_.roughnessMap:_.metalnessMap?w=_.metalnessMap:_.alphaMap?w=_.alphaMap:_.emissiveMap?w=_.emissiveMap:_.clearcoatMap?w=_.clearcoatMap:_.clearcoatNormalMap?w=_.clearcoatNormalMap:_.clearcoatRoughnessMap?w=_.clearcoatRoughnessMap:_.iridescenceMap?w=_.iridescenceMap:_.iridescenceThicknessMap?w=_.iridescenceThicknessMap:_.specularIntensityMap?w=_.specularIntensityMap:_.specularColorMap?w=_.specularColorMap:_.transmissionMap?w=_.transmissionMap:_.thicknessMap?w=_.thicknessMap:_.sheenColorMap?w=_.sheenColorMap:_.sheenRoughnessMap&&(w=_.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix));let M;_.aoMap?M=_.aoMap:_.lightMap&&(M=_.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uv2Transform.value.copy(M.matrix))}function s(y,_){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity}function o(y,_){y.dashSize.value=_.dashSize,y.totalSize.value=_.dashSize+_.gapSize,y.scale.value=_.scale}function a(y,_,E,w){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.size.value=_.size*E,y.scale.value=w*.5,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);let M;_.map?M=_.map:_.alphaMap&&(M=_.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uvTransform.value.copy(M.matrix))}function l(y,_){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.rotation.value=_.rotation,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);let E;_.map?E=_.map:_.alphaMap&&(E=_.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),y.uvTransform.value.copy(E.matrix))}function u(y,_){y.specular.value.copy(_.specular),y.shininess.value=Math.max(_.shininess,1e-4)}function c(y,_){_.gradientMap&&(y.gradientMap.value=_.gradientMap)}function h(y,_){y.roughness.value=_.roughness,y.metalness.value=_.metalness,_.roughnessMap&&(y.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(y.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(y.envMapIntensity.value=_.envMapIntensity)}function g(y,_,E){y.ior.value=_.ior,_.sheen>0&&(y.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),y.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(y.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(y.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(y.clearcoat.value=_.clearcoat,y.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(y.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),y.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===Di&&y.clearcoatNormalScale.value.negate())),_.iridescence>0&&(y.iridescence.value=_.iridescence,y.iridescenceIOR.value=_.iridescenceIOR,y.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(y.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(y.transmission.value=_.transmission,y.transmissionSamplerMap.value=E.texture,y.transmissionSamplerSize.value.set(E.width,E.height),_.transmissionMap&&(y.transmissionMap.value=_.transmissionMap),y.thickness.value=_.thickness,_.thicknessMap&&(y.thicknessMap.value=_.thicknessMap),y.attenuationDistance.value=_.attenuationDistance,y.attenuationColor.value.copy(_.attenuationColor)),y.specularIntensity.value=_.specularIntensity,y.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(y.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(y.specularColorMap.value=_.specularColorMap)}function v(y,_){_.matcap&&(y.matcap.value=_.matcap)}function x(y,_){y.referencePosition.value.copy(_.referencePosition),y.nearDistance.value=_.nearDistance,y.farDistance.value=_.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function Aj(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(w,M){const C=M.program;r.uniformBlockBinding(w,C)}function u(w,M){let C=i[w.id];C===void 0&&(x(w),C=c(w),i[w.id]=C,w.addEventListener("dispose",_));const R=M.program;r.updateUBOMapping(w,R);const O=e.render.frame;s[w.id]!==O&&(g(w),s[w.id]=O)}function c(w){const M=h();w.__bindingPointIndex=M;const C=t.createBuffer(),R=w.__size,O=w.usage;return t.bindBuffer(35345,C),t.bufferData(35345,R,O),t.bindBuffer(35345,null),t.bindBufferBase(35345,M,C),C}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(w){const M=i[w.id],C=w.uniforms,R=w.__cache;t.bindBuffer(35345,M);for(let O=0,k=C.length;O<k;O++){const P=C[O];if(v(P,O,R)===!0){const z=P.__offset,B=Array.isArray(P.value)?P.value:[P.value];let q=0;for(let Q=0;Q<B.length;Q++){const W=B[Q],X=y(W);typeof W=="number"?(P.__data[0]=W,t.bufferSubData(35345,z+q,P.__data)):W.isMatrix3?(P.__data[0]=W.elements[0],P.__data[1]=W.elements[1],P.__data[2]=W.elements[2],P.__data[3]=W.elements[0],P.__data[4]=W.elements[3],P.__data[5]=W.elements[4],P.__data[6]=W.elements[5],P.__data[7]=W.elements[0],P.__data[8]=W.elements[6],P.__data[9]=W.elements[7],P.__data[10]=W.elements[8],P.__data[11]=W.elements[0]):(W.toArray(P.__data,q),q+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,z,P.__data)}}t.bindBuffer(35345,null)}function v(w,M,C){const R=w.value;if(C[M]===void 0){if(typeof R=="number")C[M]=R;else{const O=Array.isArray(R)?R:[R],k=[];for(let P=0;P<O.length;P++)k.push(O[P].clone());C[M]=k}return!0}else if(typeof R=="number"){if(C[M]!==R)return C[M]=R,!0}else{const O=Array.isArray(C[M])?C[M]:[C[M]],k=Array.isArray(R)?R:[R];for(let P=0;P<O.length;P++){const z=O[P];if(z.equals(k[P])===!1)return z.copy(k[P]),!0}}return!1}function x(w){const M=w.uniforms;let C=0;const R=16;let O=0;for(let k=0,P=M.length;k<P;k++){const z=M[k],B={boundary:0,storage:0},q=Array.isArray(z.value)?z.value:[z.value];for(let Q=0,W=q.length;Q<W;Q++){const X=q[Q],ne=y(X);B.boundary+=ne.boundary,B.storage+=ne.storage}if(z.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=C,k>0){O=C%R;const Q=R-O;O!==0&&Q-B.boundary<0&&(C+=R-O,z.__offset=C)}C+=B.storage}return O=C%R,O>0&&(C+=R-O),w.__size=C,w.__cache={},this}function y(w){const M={boundary:0,storage:0};return typeof w=="number"?(M.boundary=4,M.storage=4):w.isVector2?(M.boundary=8,M.storage=8):w.isVector3||w.isColor?(M.boundary=16,M.storage=12):w.isVector4?(M.boundary=16,M.storage=16):w.isMatrix3?(M.boundary=48,M.storage=48):w.isMatrix4?(M.boundary=64,M.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),M}function _(w){const M=w.target;M.removeEventListener("dispose",_);const C=o.indexOf(M.__bindingPointIndex);o.splice(C,1),t.deleteBuffer(i[M.id]),delete i[M.id],delete s[M.id]}function E(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:u,dispose:E}}function Mj(){const t=Ov("canvas");return t.style.display="block",t}function ib(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:Mj(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;n!==null?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let h=null,g=null;const v=[],x=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Fa,this.physicallyCorrectLights=!1,this.toneMapping=Na,this.toneMappingExposure=1;const y=this;let _=!1,E=0,w=0,M=null,C=-1,R=null;const O=new En,k=new En;let P=null,z=e.width,B=e.height,q=1,Q=null,W=null;const X=new En(0,0,z,B),ne=new En(0,0,z,B);let se=!1;const de=new J2;let G=!1,te=!1,re=null;const V=new Xt,J=new xe,he=new j,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function be(){return M===null?q:1}let pe=n;function Ke(Y,ge){for(let Ie=0;Ie<Y.length;Ie++){const me=Y[Ie],ke=e.getContext(me,ge);if(ke!==null)return ke}return null}try{const Y={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Du}`),e.addEventListener("webglcontextlost",Ue,!1),e.addEventListener("webglcontextrestored",Ye,!1),e.addEventListener("webglcontextcreationerror",wt,!1),pe===null){const ge=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&ge.shift(),pe=Ke(ge,Y),pe===null)throw Ke(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}pe.getShaderPrecisionFormat===void 0&&(pe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let We,rt,Qe,ut,Pe,ye,De,Je,He,St,gt,ft,Lt,qt,Z,U,ae,Ee,ze,qe,xt,$e,Le,mt;function ie(){We=new HG(pe),rt=new kG(pe,We,t),We.init(rt),$e=new pL(pe,We,rt),Qe=new xj(pe,We,rt),ut=new GG,Pe=new aj,ye=new _j(pe,We,Qe,Pe,rt,$e,ut),De=new zG(y),Je=new UG(y),He=new JH(pe,rt),Le=new OG(pe,We,He,rt),St=new qG(pe,He,ut,Le),gt=new QG(pe,St,He,ut),ze=new YG(pe,rt,ye),U=new NG(Pe),ft=new oj(y,De,Je,We,rt,Le,U),Lt=new Sj(y,Pe),qt=new uj,Z=new mj(We,rt),Ee=new IG(y,De,Je,Qe,gt,c,o),ae=new yj(y,gt,rt),mt=new Aj(pe,ut,rt,Qe),qe=new LG(pe,We,ut,rt),xt=new VG(pe,We,ut,rt),ut.programs=ft.programs,y.capabilities=rt,y.extensions=We,y.properties=Pe,y.renderLists=qt,y.shadowMap=ae,y.state=Qe,y.info=ut}ie();const Se=new Ej(y,pe);this.xr=Se,this.getContext=function(){return pe},this.getContextAttributes=function(){return pe.getContextAttributes()},this.forceContextLoss=function(){const Y=We.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=We.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(Y){Y!==void 0&&(q=Y,this.setSize(z,B,!1))},this.getSize=function(Y){return Y.set(z,B)},this.setSize=function(Y,ge,Ie){if(Se.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=Y,B=ge,e.width=Math.floor(Y*q),e.height=Math.floor(ge*q),Ie!==!1&&(e.style.width=Y+"px",e.style.height=ge+"px"),this.setViewport(0,0,Y,ge)},this.getDrawingBufferSize=function(Y){return Y.set(z*q,B*q).floor()},this.setDrawingBufferSize=function(Y,ge,Ie){z=Y,B=ge,q=Ie,e.width=Math.floor(Y*Ie),e.height=Math.floor(ge*Ie),this.setViewport(0,0,Y,ge)},this.getCurrentViewport=function(Y){return Y.copy(O)},this.getViewport=function(Y){return Y.copy(X)},this.setViewport=function(Y,ge,Ie,me){Y.isVector4?X.set(Y.x,Y.y,Y.z,Y.w):X.set(Y,ge,Ie,me),Qe.viewport(O.copy(X).multiplyScalar(q).floor())},this.getScissor=function(Y){return Y.copy(ne)},this.setScissor=function(Y,ge,Ie,me){Y.isVector4?ne.set(Y.x,Y.y,Y.z,Y.w):ne.set(Y,ge,Ie,me),Qe.scissor(k.copy(ne).multiplyScalar(q).floor())},this.getScissorTest=function(){return se},this.setScissorTest=function(Y){Qe.setScissorTest(se=Y)},this.setOpaqueSort=function(Y){Q=Y},this.setTransparentSort=function(Y){W=Y},this.getClearColor=function(Y){return Y.copy(Ee.getClearColor())},this.setClearColor=function(){Ee.setClearColor.apply(Ee,arguments)},this.getClearAlpha=function(){return Ee.getClearAlpha()},this.setClearAlpha=function(){Ee.setClearAlpha.apply(Ee,arguments)},this.clear=function(Y=!0,ge=!0,Ie=!0){let me=0;Y&&(me|=16384),ge&&(me|=256),Ie&&(me|=1024),pe.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ue,!1),e.removeEventListener("webglcontextrestored",Ye,!1),e.removeEventListener("webglcontextcreationerror",wt,!1),qt.dispose(),Z.dispose(),Pe.dispose(),De.dispose(),Je.dispose(),gt.dispose(),Le.dispose(),mt.dispose(),ft.dispose(),Se.dispose(),Se.removeEventListener("sessionstart",at),Se.removeEventListener("sessionend",_t),re&&(re.dispose(),re=null),vn.stop()};function Ue(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Ye(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const Y=ut.autoReset,ge=ae.enabled,Ie=ae.autoUpdate,me=ae.needsUpdate,ke=ae.type;ie(),ut.autoReset=Y,ae.enabled=ge,ae.autoUpdate=Ie,ae.needsUpdate=me,ae.type=ke}function wt(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Gt(Y){const ge=Y.target;ge.removeEventListener("dispose",Gt),In(ge)}function In(Y){le(Y),Pe.remove(Y)}function le(Y){const ge=Pe.get(Y).programs;ge!==void 0&&(ge.forEach(function(Ie){ft.releaseProgram(Ie)}),Y.isShaderMaterial&&ft.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,ge,Ie,me,ke,bt){ge===null&&(ge=we);const Ft=ke.isMesh&&ke.matrixWorld.determinant()<0,jt=Mh(Y,ge,Ie,me,ke);Qe.setMaterial(me,Ft);let Zt=Ie.index,on=1;me.wireframe===!0&&(Zt=St.getWireframeAttribute(Ie),on=2);const Kt=Ie.drawRange,en=Ie.attributes.position;let Gn=Kt.start*on,$r=(Kt.start+Kt.count)*on;bt!==null&&(Gn=Math.max(Gn,bt.start*on),$r=Math.min($r,(bt.start+bt.count)*on)),Zt!==null?(Gn=Math.max(Gn,0),$r=Math.min($r,Zt.count)):en!=null&&(Gn=Math.max(Gn,0),$r=Math.min($r,en.count));const vi=$r-Gn;if(vi<0||vi===1/0)return;Le.setup(ke,me,jt,Ie,Zt);let yi,kt=qe;if(Zt!==null&&(yi=He.get(Zt),kt=xt,kt.setIndex(yi)),ke.isMesh)me.wireframe===!0?(Qe.setLineWidth(me.wireframeLinewidth*be()),kt.setMode(1)):kt.setMode(4);else if(ke.isLine){let vt=me.linewidth;vt===void 0&&(vt=1),Qe.setLineWidth(vt*be()),ke.isLineSegments?kt.setMode(1):ke.isLineLoop?kt.setMode(2):kt.setMode(3)}else ke.isPoints?kt.setMode(0):ke.isSprite&&kt.setMode(4);if(ke.isInstancedMesh)kt.renderInstances(Gn,vi,ke.count);else if(Ie.isInstancedBufferGeometry){const vt=Ie._maxInstanceCount!==void 0?Ie._maxInstanceCount:1/0,$i=Math.min(Ie.instanceCount,vt);kt.renderInstances(Gn,vi,$i)}else kt.render(Gn,vi)},this.compile=function(Y,ge){function Ie(me,ke,bt){me.transparent===!0&&me.side===O0?(me.side=Di,me.needsUpdate=!0,ki(me,ke,bt),me.side=Mu,me.needsUpdate=!0,ki(me,ke,bt),me.side=O0):ki(me,ke,bt)}g=Z.get(Y),g.init(),x.push(g),Y.traverseVisible(function(me){me.isLight&&me.layers.test(ge.layers)&&(g.pushLight(me),me.castShadow&&g.pushShadow(me))}),g.setupLights(y.physicallyCorrectLights),Y.traverse(function(me){const ke=me.material;if(ke)if(Array.isArray(ke))for(let bt=0;bt<ke.length;bt++){const Ft=ke[bt];Ie(Ft,Y,me)}else Ie(ke,Y,me)}),x.pop(),g=null};let Te=null;function Fe(Y){Te&&Te(Y)}function at(){vn.stop()}function _t(){vn.start()}const vn=new uL;vn.setAnimationLoop(Fe),typeof self<"u"&&vn.setContext(self),this.setAnimationLoop=function(Y){Te=Y,Se.setAnimationLoop(Y),Y===null?vn.stop():vn.start()},Se.addEventListener("sessionstart",at),Se.addEventListener("sessionend",_t),this.render=function(Y,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),Se.enabled===!0&&Se.isPresenting===!0&&(Se.cameraAutoUpdate===!0&&Se.updateCamera(ge),ge=Se.getCamera()),Y.isScene===!0&&Y.onBeforeRender(y,Y,ge,M),g=Z.get(Y,x.length),g.init(),x.push(g),V.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),de.setFromProjectionMatrix(V),te=this.localClippingEnabled,G=U.init(this.clippingPlanes,te,ge),h=qt.get(Y,v.length),h.init(),v.push(h),tr(Y,ge,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(Q,W),G===!0&&U.beginShadows();const Ie=g.state.shadowsArray;if(ae.render(Ie,Y,ge),G===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ee.render(h,Y),g.setupLights(y.physicallyCorrectLights),ge.isArrayCamera){const me=ge.cameras;for(let ke=0,bt=me.length;ke<bt;ke++){const Ft=me[ke];Vr(h,Y,Ft,Ft.viewport)}}else Vr(h,Y,ge);M!==null&&(ye.updateMultisampleRenderTarget(M),ye.updateRenderTargetMipmap(M)),Y.isScene===!0&&Y.onAfterRender(y,Y,ge),Le.resetDefaultState(),C=-1,R=null,x.pop(),x.length>0?g=x[x.length-1]:g=null,v.pop(),v.length>0?h=v[v.length-1]:h=null};function tr(Y,ge,Ie,me){if(Y.visible===!1)return;if(Y.layers.test(ge.layers)){if(Y.isGroup)Ie=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(ge);else if(Y.isLight)g.pushLight(Y),Y.castShadow&&g.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||de.intersectsSprite(Y)){me&&he.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(V);const Ft=gt.update(Y),jt=Y.material;jt.visible&&h.push(Y,Ft,jt,Ie,he.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(Y.isSkinnedMesh&&Y.skeleton.frame!==ut.render.frame&&(Y.skeleton.update(),Y.skeleton.frame=ut.render.frame),!Y.frustumCulled||de.intersectsObject(Y))){me&&he.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(V);const Ft=gt.update(Y),jt=Y.material;if(Array.isArray(jt)){const Zt=Ft.groups;for(let on=0,Kt=Zt.length;on<Kt;on++){const en=Zt[on],Gn=jt[en.materialIndex];Gn&&Gn.visible&&h.push(Y,Ft,Gn,Ie,he.z,en)}}else jt.visible&&h.push(Y,Ft,jt,Ie,he.z,null)}}const bt=Y.children;for(let Ft=0,jt=bt.length;Ft<jt;Ft++)tr(bt[Ft],ge,Ie,me)}function Vr(Y,ge,Ie,me){const ke=Y.opaque,bt=Y.transmissive,Ft=Y.transparent;g.setupLightsView(Ie),bt.length>0&&so(ke,ge,Ie),me&&Qe.viewport(O.copy(me)),ke.length>0&&Pn(ke,ge,Ie),bt.length>0&&Pn(bt,ge,Ie),Ft.length>0&&Pn(Ft,ge,Ie),Qe.buffers.depth.setTest(!0),Qe.buffers.depth.setMask(!0),Qe.buffers.color.setMask(!0),Qe.setPolygonOffset(!1)}function so(Y,ge,Ie){const me=rt.isWebGL2;re===null&&(re=new Dn(1,1,{generateMipmaps:!0,type:We.has("EXT_color_buffer_half_float")?$c:Li,minFilter:bu,samples:me&&s===!0?4:0})),y.getDrawingBufferSize(J),me?re.setSize(J.x,J.y):re.setSize($_(J.x),$_(J.y));const ke=y.getRenderTarget();y.setRenderTarget(re),y.clear();const bt=y.toneMapping;y.toneMapping=Na,Pn(Y,ge,Ie),y.toneMapping=bt,ye.updateMultisampleRenderTarget(re),ye.updateRenderTargetMipmap(re),y.setRenderTarget(ke)}function Pn(Y,ge,Ie){const me=ge.isScene===!0?ge.overrideMaterial:null;for(let ke=0,bt=Y.length;ke<bt;ke++){const Ft=Y[ke],jt=Ft.object,Zt=Ft.geometry,on=me===null?Ft.material:me,Kt=Ft.group;jt.layers.test(Ie.layers)&&Us(jt,ge,Ie,Zt,on,Kt)}}function Us(Y,ge,Ie,me,ke,bt){Y.onBeforeRender(y,ge,Ie,me,ke,bt),Y.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),ke.onBeforeRender(y,ge,Ie,me,Y,bt),ke.transparent===!0&&ke.side===O0?(ke.side=Di,ke.needsUpdate=!0,y.renderBufferDirect(Ie,ge,me,ke,Y,bt),ke.side=Mu,ke.needsUpdate=!0,y.renderBufferDirect(Ie,ge,me,ke,Y,bt),ke.side=O0):y.renderBufferDirect(Ie,ge,me,ke,Y,bt),Y.onAfterRender(y,ge,Ie,me,ke,bt)}function ki(Y,ge,Ie){ge.isScene!==!0&&(ge=we);const me=Pe.get(Y),ke=g.state.lights,bt=g.state.shadowsArray,Ft=ke.state.version,jt=ft.getParameters(Y,ke.state,bt,ge,Ie),Zt=ft.getProgramCacheKey(jt);let on=me.programs;me.environment=Y.isMeshStandardMaterial?ge.environment:null,me.fog=ge.fog,me.envMap=(Y.isMeshStandardMaterial?Je:De).get(Y.envMap||me.environment),on===void 0&&(Y.addEventListener("dispose",Gt),on=new Map,me.programs=on);let Kt=on.get(Zt);if(Kt!==void 0){if(me.currentProgram===Kt&&me.lightsStateVersion===Ft)return yf(Y,jt),Kt}else jt.uniforms=ft.getUniforms(Y),Y.onBuild(Ie,jt,y),Y.onBeforeCompile(jt,y),Kt=ft.acquireProgram(jt,Zt),on.set(Zt,Kt),me.uniforms=jt.uniforms;const en=me.uniforms;(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(en.clippingPlanes=U.uniform),yf(Y,jt),me.needsLights=xf(Y),me.lightsStateVersion=Ft,me.needsLights&&(en.ambientLightColor.value=ke.state.ambient,en.lightProbe.value=ke.state.probe,en.directionalLights.value=ke.state.directional,en.directionalLightShadows.value=ke.state.directionalShadow,en.spotLights.value=ke.state.spot,en.spotLightShadows.value=ke.state.spotShadow,en.rectAreaLights.value=ke.state.rectArea,en.ltc_1.value=ke.state.rectAreaLTC1,en.ltc_2.value=ke.state.rectAreaLTC2,en.pointLights.value=ke.state.point,en.pointLightShadows.value=ke.state.pointShadow,en.hemisphereLights.value=ke.state.hemi,en.directionalShadowMap.value=ke.state.directionalShadowMap,en.directionalShadowMatrix.value=ke.state.directionalShadowMatrix,en.spotShadowMap.value=ke.state.spotShadowMap,en.spotLightMatrix.value=ke.state.spotLightMatrix,en.spotLightMap.value=ke.state.spotLightMap,en.pointShadowMap.value=ke.state.pointShadowMap,en.pointShadowMatrix.value=ke.state.pointShadowMatrix);const Gn=Kt.getUniforms(),$r=f_.seqWithValue(Gn.seq,en);return me.currentProgram=Kt,me.uniformsList=$r,Kt}function yf(Y,ge){const Ie=Pe.get(Y);Ie.outputEncoding=ge.outputEncoding,Ie.instancing=ge.instancing,Ie.skinning=ge.skinning,Ie.morphTargets=ge.morphTargets,Ie.morphNormals=ge.morphNormals,Ie.morphColors=ge.morphColors,Ie.morphTargetsCount=ge.morphTargetsCount,Ie.numClippingPlanes=ge.numClippingPlanes,Ie.numIntersection=ge.numClipIntersection,Ie.vertexAlphas=ge.vertexAlphas,Ie.vertexTangents=ge.vertexTangents,Ie.toneMapping=ge.toneMapping}function Mh(Y,ge,Ie,me,ke){ge.isScene!==!0&&(ge=we),ye.resetTextureUnits();const bt=ge.fog,Ft=me.isMeshStandardMaterial?ge.environment:null,jt=M===null?y.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:Fa,Zt=(me.isMeshStandardMaterial?Je:De).get(me.envMap||Ft),on=me.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,Kt=!!me.normalMap&&!!Ie.attributes.tangent,en=!!Ie.morphAttributes.position,Gn=!!Ie.morphAttributes.normal,$r=!!Ie.morphAttributes.color,vi=me.toneMapped?y.toneMapping:Na,yi=Ie.morphAttributes.position||Ie.morphAttributes.normal||Ie.morphAttributes.color,kt=yi!==void 0?yi.length:0,vt=Pe.get(me),$i=g.state.lights;if(G===!0&&(te===!0||Y!==R)){const yn=Y===R&&me.id===C;U.setState(me,Y,yn)}let an=!1;me.version===vt.__version?(vt.needsLights&&vt.lightsStateVersion!==$i.state.version||vt.outputEncoding!==jt||ke.isInstancedMesh&&vt.instancing===!1||!ke.isInstancedMesh&&vt.instancing===!0||ke.isSkinnedMesh&&vt.skinning===!1||!ke.isSkinnedMesh&&vt.skinning===!0||vt.envMap!==Zt||me.fog===!0&&vt.fog!==bt||vt.numClippingPlanes!==void 0&&(vt.numClippingPlanes!==U.numPlanes||vt.numIntersection!==U.numIntersection)||vt.vertexAlphas!==on||vt.vertexTangents!==Kt||vt.morphTargets!==en||vt.morphNormals!==Gn||vt.morphColors!==$r||vt.toneMapping!==vi||rt.isWebGL2===!0&&vt.morphTargetsCount!==kt)&&(an=!0):(an=!0,vt.__version=me.version);let lr=vt.currentProgram;an===!0&&(lr=ki(me,ge,ke));let Hs=!1,Zr=!1,Wn=!1;const Ut=lr.getUniforms(),cn=vt.uniforms;if(Qe.useProgram(lr.program)&&(Hs=!0,Zr=!0,Wn=!0),me.id!==C&&(C=me.id,Zr=!0),Hs||R!==Y){if(Ut.setValue(pe,"projectionMatrix",Y.projectionMatrix),rt.logarithmicDepthBuffer&&Ut.setValue(pe,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),R!==Y&&(R=Y,Zr=!0,Wn=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){const yn=Ut.map.cameraPosition;yn!==void 0&&yn.setValue(pe,he.setFromMatrixPosition(Y.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&Ut.setValue(pe,"isOrthographic",Y.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||ke.isSkinnedMesh)&&Ut.setValue(pe,"viewMatrix",Y.matrixWorldInverse)}if(ke.isSkinnedMesh){Ut.setOptional(pe,ke,"bindMatrix"),Ut.setOptional(pe,ke,"bindMatrixInverse");const yn=ke.skeleton;yn&&(rt.floatVertexTextures?(yn.boneTexture===null&&yn.computeBoneTexture(),Ut.setValue(pe,"boneTexture",yn.boneTexture,ye),Ut.setValue(pe,"boneTextureSize",yn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const gs=Ie.morphAttributes;if((gs.position!==void 0||gs.normal!==void 0||gs.color!==void 0&&rt.isWebGL2===!0)&&ze.update(ke,Ie,me,lr),(Zr||vt.receiveShadow!==ke.receiveShadow)&&(vt.receiveShadow=ke.receiveShadow,Ut.setValue(pe,"receiveShadow",ke.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(cn.envMap.value=Zt,cn.flipEnvMap.value=Zt.isCubeTexture&&Zt.isRenderTargetTexture===!1?-1:1),Zr&&(Ut.setValue(pe,"toneMappingExposure",y.toneMappingExposure),vt.needsLights&&bh(cn,Wn),bt&&me.fog===!0&&Lt.refreshFogUniforms(cn,bt),Lt.refreshMaterialUniforms(cn,me,q,B,re),f_.upload(pe,vt.uniformsList,cn,ye)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(f_.upload(pe,vt.uniformsList,cn,ye),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&Ut.setValue(pe,"center",ke.center),Ut.setValue(pe,"modelViewMatrix",ke.modelViewMatrix),Ut.setValue(pe,"normalMatrix",ke.normalMatrix),Ut.setValue(pe,"modelMatrix",ke.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const yn=me.uniformsGroups;for(let Or=0,oo=yn.length;Or<oo;Or++)if(rt.isWebGL2){const Ni=yn[Or];mt.update(Ni,lr),mt.bind(Ni,lr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return lr}function bh(Y,ge){Y.ambientLightColor.needsUpdate=ge,Y.lightProbe.needsUpdate=ge,Y.directionalLights.needsUpdate=ge,Y.directionalLightShadows.needsUpdate=ge,Y.pointLights.needsUpdate=ge,Y.pointLightShadows.needsUpdate=ge,Y.spotLights.needsUpdate=ge,Y.spotLightShadows.needsUpdate=ge,Y.rectAreaLights.needsUpdate=ge,Y.hemisphereLights.needsUpdate=ge}function xf(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(Y,ge,Ie){Pe.get(Y.texture).__webglTexture=ge,Pe.get(Y.depthTexture).__webglTexture=Ie;const me=Pe.get(Y);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=Ie===void 0,me.__autoAllocateDepthBuffer||We.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Y,ge){const Ie=Pe.get(Y);Ie.__webglFramebuffer=ge,Ie.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(Y,ge=0,Ie=0){M=Y,E=ge,w=Ie;let me=!0,ke=null,bt=!1,Ft=!1;if(Y){const Zt=Pe.get(Y);Zt.__useDefaultFramebuffer!==void 0?(Qe.bindFramebuffer(36160,null),me=!1):Zt.__webglFramebuffer===void 0?ye.setupRenderTarget(Y):Zt.__hasExternalTextures&&ye.rebindTextures(Y,Pe.get(Y.texture).__webglTexture,Pe.get(Y.depthTexture).__webglTexture);const on=Y.texture;(on.isData3DTexture||on.isDataArrayTexture||on.isCompressedArrayTexture)&&(Ft=!0);const Kt=Pe.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(ke=Kt[ge],bt=!0):rt.isWebGL2&&Y.samples>0&&ye.useMultisampledRTT(Y)===!1?ke=Pe.get(Y).__webglMultisampledFramebuffer:ke=Kt,O.copy(Y.viewport),k.copy(Y.scissor),P=Y.scissorTest}else O.copy(X).multiplyScalar(q).floor(),k.copy(ne).multiplyScalar(q).floor(),P=se;if(Qe.bindFramebuffer(36160,ke)&&rt.drawBuffers&&me&&Qe.drawBuffers(Y,ke),Qe.viewport(O),Qe.scissor(k),Qe.setScissorTest(P),bt){const Zt=Pe.get(Y.texture);pe.framebufferTexture2D(36160,36064,34069+ge,Zt.__webglTexture,Ie)}else if(Ft){const Zt=Pe.get(Y.texture),on=ge||0;pe.framebufferTextureLayer(36160,36064,Zt.__webglTexture,Ie||0,on)}C=-1},this.readRenderTargetPixels=function(Y,ge,Ie,me,ke,bt,Ft){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let jt=Pe.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&Ft!==void 0&&(jt=jt[Ft]),jt){Qe.bindFramebuffer(36160,jt);try{const Zt=Y.texture,on=Zt.format,Kt=Zt.type;if(on!==cs&&$e.convert(on)!==pe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const en=Kt===$c&&(We.has("EXT_color_buffer_half_float")||rt.isWebGL2&&We.has("EXT_color_buffer_float"));if(Kt!==Li&&$e.convert(Kt)!==pe.getParameter(35738)&&!(Kt===Ia&&(rt.isWebGL2||We.has("OES_texture_float")||We.has("WEBGL_color_buffer_float")))&&!en){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=Y.width-me&&Ie>=0&&Ie<=Y.height-ke&&pe.readPixels(ge,Ie,me,ke,$e.convert(on),$e.convert(Kt),bt)}finally{const Zt=M!==null?Pe.get(M).__webglFramebuffer:null;Qe.bindFramebuffer(36160,Zt)}}},this.copyFramebufferToTexture=function(Y,ge,Ie=0){const me=Math.pow(2,-Ie),ke=Math.floor(ge.image.width*me),bt=Math.floor(ge.image.height*me);ye.setTexture2D(ge,0),pe.copyTexSubImage2D(3553,Ie,0,0,Y.x,Y.y,ke,bt),Qe.unbindTexture()},this.copyTextureToTexture=function(Y,ge,Ie,me=0){const ke=ge.image.width,bt=ge.image.height,Ft=$e.convert(Ie.format),jt=$e.convert(Ie.type);ye.setTexture2D(Ie,0),pe.pixelStorei(37440,Ie.flipY),pe.pixelStorei(37441,Ie.premultiplyAlpha),pe.pixelStorei(3317,Ie.unpackAlignment),ge.isDataTexture?pe.texSubImage2D(3553,me,Y.x,Y.y,ke,bt,Ft,jt,ge.image.data):ge.isCompressedTexture?pe.compressedTexSubImage2D(3553,me,Y.x,Y.y,ge.mipmaps[0].width,ge.mipmaps[0].height,Ft,ge.mipmaps[0].data):pe.texSubImage2D(3553,me,Y.x,Y.y,Ft,jt,ge.image),me===0&&Ie.generateMipmaps&&pe.generateMipmap(3553),Qe.unbindTexture()},this.copyTextureToTexture3D=function(Y,ge,Ie,me,ke=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const bt=Y.max.x-Y.min.x+1,Ft=Y.max.y-Y.min.y+1,jt=Y.max.z-Y.min.z+1,Zt=$e.convert(me.format),on=$e.convert(me.type);let Kt;if(me.isData3DTexture)ye.setTexture3D(me,0),Kt=32879;else if(me.isDataArrayTexture)ye.setTexture2DArray(me,0),Kt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}pe.pixelStorei(37440,me.flipY),pe.pixelStorei(37441,me.premultiplyAlpha),pe.pixelStorei(3317,me.unpackAlignment);const en=pe.getParameter(3314),Gn=pe.getParameter(32878),$r=pe.getParameter(3316),vi=pe.getParameter(3315),yi=pe.getParameter(32877),kt=Ie.isCompressedTexture?Ie.mipmaps[0]:Ie.image;pe.pixelStorei(3314,kt.width),pe.pixelStorei(32878,kt.height),pe.pixelStorei(3316,Y.min.x),pe.pixelStorei(3315,Y.min.y),pe.pixelStorei(32877,Y.min.z),Ie.isDataTexture||Ie.isData3DTexture?pe.texSubImage3D(Kt,ke,ge.x,ge.y,ge.z,bt,Ft,jt,Zt,on,kt.data):Ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),pe.compressedTexSubImage3D(Kt,ke,ge.x,ge.y,ge.z,bt,Ft,jt,Zt,kt.data)):pe.texSubImage3D(Kt,ke,ge.x,ge.y,ge.z,bt,Ft,jt,Zt,on,kt),pe.pixelStorei(3314,en),pe.pixelStorei(32878,Gn),pe.pixelStorei(3316,$r),pe.pixelStorei(3315,vi),pe.pixelStorei(32877,yi),ke===0&&me.generateMipmaps&&pe.generateMipmap(Kt),Qe.unbindTexture()},this.initTexture=function(Y){Y.isCubeTexture?ye.setTextureCube(Y,0):Y.isData3DTexture?ye.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?ye.setTexture2DArray(Y,0):ye.setTexture2D(Y,0),Qe.unbindTexture()},this.resetState=function(){E=0,w=0,M=null,Qe.reset(),Le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class gL extends ib{}gL.prototype.isWebGL1Renderer=!0;class t3{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new tt(e),this.density=n}clone(){return new t3(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class n3{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new tt(e),this.near=n,this.far=r}clone(){return new n3(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Dm extends Cn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class r3{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Dv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=So()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const As=new j;class sh{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyMatrix4(e),this.setXYZ(n,As.x,As.y,As.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyNormalMatrix(e),this.setXYZ(n,As.x,As.y,As.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.transformDirection(e),this.setXYZ(n,As.x,As.y,As.z);return this}setX(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=hu(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=hu(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=hu(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=hu(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yn(n,this.array),r=Yn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yn(n,this.array),r=Yn(r,this.array),i=Yn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yn(n,this.array),r=Yn(r,this.array),i=Yn(i,this.array),s=Yn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new An(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new sh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sb extends gi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ap;const a0=new j,Mp=new j,bp=new j,Tp=new xe,l0=new xe,vL=new Xt,Qy=new j,u0=new j,Xy=new j,JC=new xe,jw=new xe,e6=new xe;class yL extends Cn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ap===void 0){Ap=new Jt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new r3(n,5);Ap.setIndex([0,1,2,0,2,3]),Ap.setAttribute("position",new sh(r,3,0,!1)),Ap.setAttribute("uv",new sh(r,2,3,!1))}this.geometry=Ap,this.material=e!==void 0?e:new sb,this.center=new xe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mp.setFromMatrixScale(this.matrixWorld),vL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Mp.multiplyScalar(-bp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Ky(Qy.set(-.5,-.5,0),bp,o,Mp,i,s),Ky(u0.set(.5,-.5,0),bp,o,Mp,i,s),Ky(Xy.set(.5,.5,0),bp,o,Mp,i,s),JC.set(0,0),jw.set(1,0),e6.set(1,1);let a=e.ray.intersectTriangle(Qy,u0,Xy,!1,a0);if(a===null&&(Ky(u0.set(-.5,.5,0),bp,o,Mp,i,s),jw.set(0,1),a=e.ray.intersectTriangle(Qy,Xy,u0,!1,a0),a===null))return;const l=e.ray.origin.distanceTo(a0);l<e.near||l>e.far||n.push({distance:l,point:a0.clone(),uv:$o.getUV(a0,Qy,u0,Xy,JC,jw,e6,new xe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ky(t,e,n,r,i,s){Tp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(l0.x=s*Tp.x-i*Tp.y,l0.y=i*Tp.x+s*Tp.y):l0.copy(Tp),t.copy(e),t.x+=l0.x,t.y+=l0.y,t.applyMatrix4(vL)}const $y=new j,t6=new j;class xL extends Cn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){$y.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo($y);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){$y.setFromMatrixPosition(e.matrixWorld),t6.setFromMatrixPosition(this.matrixWorld);const r=$y.distanceTo(t6)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const n6=new j,r6=new En,i6=new En,bj=new j,s6=new Xt;class _L extends di{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new En,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;r6.fromBufferAttribute(i.attributes.skinIndex,e),i6.fromBufferAttribute(i.attributes.skinWeight,e),n6.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=i6.getComponent(s);if(o!==0){const a=r6.getComponent(s);s6.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(bj.copy(n6).applyMatrix4(s6),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class ob extends Cn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Wd extends Xn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=Rn,c=Rn,h,g){super(null,o,a,l,u,c,i,s,h,g),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const o6=new Xt,Tj=new Xt;class i3{constructor(e=[],n=[]){this.uuid=So(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Xt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Tj;o6.multiplyMatrices(a,n[s]),o6.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new i3(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=rL(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Wd(n,e,e,cs,Ia);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ob),this.bones.push(o),this.boneInverses.push(new Xt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Im extends An{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const a6=new Xt,l6=new Xt,Zy=[],Cj=new Xt,c0=new di;class wL extends di{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Im(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,Cj)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(c0.geometry=this.geometry,c0.material=this.material,c0.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,a6),l6.multiplyMatrices(r,a6),c0.matrixWorld=l6,c0.raycast(e,Zy);for(let o=0,a=Zy.length;o<a;o++){const l=Zy[o];l.instanceId=s,l.object=this,n.push(l)}Zy.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Im(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ns extends gi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const u6=new j,c6=new j,f6=new Xt,Yw=new l1,Jy=new ff;class Jc extends Cn{constructor(e=new Jt,n=new Ns){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)u6.fromBufferAttribute(n,i-1),c6.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=u6.distanceTo(c6);e.setAttribute("lineDistance",new yt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Jy.copy(r.boundingSphere),Jy.applyMatrix4(i),Jy.radius+=s,e.ray.intersectsSphere(Jy)===!1)return;f6.copy(i).invert(),Yw.copy(e.ray).applyMatrix4(f6);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new j,c=new j,h=new j,g=new j,v=this.isLineSegments?2:1,x=r.index,_=r.attributes.position;if(x!==null){const E=Math.max(0,o.start),w=Math.min(x.count,o.start+o.count);for(let M=E,C=w-1;M<C;M+=v){const R=x.getX(M),O=x.getX(M+1);if(u.fromBufferAttribute(_,R),c.fromBufferAttribute(_,O),Yw.distanceSqToSegment(u,c,g,h)>l)continue;g.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(g);P<e.near||P>e.far||n.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const E=Math.max(0,o.start),w=Math.min(_.count,o.start+o.count);for(let M=E,C=w-1;M<C;M+=v){if(u.fromBufferAttribute(_,M),c.fromBufferAttribute(_,M+1),Yw.distanceSqToSegment(u,c,g,h)>l)continue;g.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(g);O<e.near||O>e.far||n.push({distance:O,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const d6=new j,h6=new j;class Sl extends Jc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)d6.fromBufferAttribute(n,i),h6.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+d6.distanceTo(h6);e.setAttribute("lineDistance",new yt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EL extends Jc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class ab extends gi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const p6=new Xt,IA=new l1,ex=new ff,tx=new j;class SL extends Cn{constructor(e=new Jt,n=new ab){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ex.copy(r.boundingSphere),ex.applyMatrix4(i),ex.radius+=s,e.ray.intersectsSphere(ex)===!1)return;p6.copy(i).invert(),IA.copy(e.ray).applyMatrix4(p6);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,h=r.attributes.position;if(u!==null){const g=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let x=g,y=v;x<y;x++){const _=u.getX(x);tx.fromBufferAttribute(h,_),m6(tx,_,l,i,e,n,this)}}else{const g=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let x=g,y=v;x<y;x++)tx.fromBufferAttribute(h,x),m6(tx,x,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function m6(t,e,n,r,i,s,o){const a=IA.distanceSqToPoint(t);if(a<n){const l=new j;IA.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Pj extends Xn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:zn,this.magFilter=s!==void 0?s:zn,this.generateMipmaps=!1;const c=this;function h(){c.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Rj extends Xn{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Rn,this.minFilter=Rn,this.generateMipmaps=!1,this.needsUpdate=!0}}class lb extends Xn{constructor(e,n,r,i,s,o,a,l,u,c,h,g){super(null,o,a,l,u,c,i,s,h,g),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Dj extends lb{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=us}}class Ij extends Xn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ha{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],g=r[i+1]-c,v=(o-c)/g;return(i+v)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new xe:new j);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new j,i=[],s=[],o=[],a=new j,l=new Xt;for(let v=0;v<=e;v++){const x=v/e;i[v]=this.getTangentAt(x,new j)}s[0]=new j,o[0]=new j;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),h=Math.abs(i[0].y),g=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),g<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(Hr(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,x))}o[v].crossVectors(i[v],s[v])}if(n===!0){let v=Math.acos(Hr(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(i[x],v*x)),o[x].crossVectors(i[x],s[x])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class s3 extends Ha{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new xe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),g=l-this.aX,v=u-this.aY;l=g*c-v*h+this.aX,u=g*h+v*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class AL extends s3{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function ub(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,h){let g=(o-s)/u-(a-s)/(u+c)+(a-o)/c,v=(a-o)/c-(l-o)/(c+h)+(l-a)/h;g*=c,v*=c,i(o,a,g,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const nx=new j,Qw=new ub,Xw=new ub,Kw=new ub;class ML extends Ha{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new j){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(nx.subVectors(i[0],i[1]).add(i[0]),u=nx);const h=i[a%s],g=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(nx.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=nx),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(u.distanceToSquared(h),v),y=Math.pow(h.distanceToSquared(g),v),_=Math.pow(g.distanceToSquared(c),v);y<1e-4&&(y=1),x<1e-4&&(x=y),_<1e-4&&(_=y),Qw.initNonuniformCatmullRom(u.x,h.x,g.x,c.x,x,y,_),Xw.initNonuniformCatmullRom(u.y,h.y,g.y,c.y,x,y,_),Kw.initNonuniformCatmullRom(u.z,h.z,g.z,c.z,x,y,_)}else this.curveType==="catmullrom"&&(Qw.initCatmullRom(u.x,h.x,g.x,c.x,this.tension),Xw.initCatmullRom(u.y,h.y,g.y,c.y,this.tension),Kw.initCatmullRom(u.z,h.z,g.z,c.z,this.tension));return r.set(Qw.calc(l),Xw.calc(l),Kw.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new j().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function g6(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Oj(t,e){const n=1-t;return n*n*e}function Lj(t,e){return 2*(1-t)*t*e}function kj(t,e){return t*t*e}function K0(t,e,n,r){return Oj(t,e)+Lj(t,n)+kj(t,r)}function Nj(t,e){const n=1-t;return n*n*n*e}function zj(t,e){const n=1-t;return 3*n*n*t*e}function Bj(t,e){return 3*(1-t)*t*t*e}function Fj(t,e){return t*t*t*e}function $0(t,e,n,r,i){return Nj(t,e)+zj(t,n)+Bj(t,r)+Fj(t,i)}class cb extends Ha{constructor(e=new xe,n=new xe,r=new xe,i=new xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new xe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set($0(e,i.x,s.x,o.x,a.x),$0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bL extends Ha{constructor(e=new j,n=new j,r=new j,i=new j){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new j){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set($0(e,i.x,s.x,o.x,a.x),$0(e,i.y,s.y,o.y,a.y),$0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class o3 extends Ha{constructor(e=new xe,n=new xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new xe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new xe;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TL extends Ha{constructor(e=new j,n=new j){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new j){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fb extends Ha{constructor(e=new xe,n=new xe,r=new xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new xe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(K0(e,i.x,s.x,o.x),K0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class db extends Ha{constructor(e=new j,n=new j,r=new j){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new j){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(K0(e,i.x,s.x,o.x),K0(e,i.y,s.y,o.y),K0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hb extends Ha{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new xe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(g6(a,l.x,u.x,c.x,h.x),g6(a,l.y,u.y,c.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new xe().fromArray(i))}return this}}var pb=Object.freeze({__proto__:null,ArcCurve:AL,CatmullRomCurve3:ML,CubicBezierCurve:cb,CubicBezierCurve3:bL,EllipseCurve:s3,LineCurve:o3,LineCurve3:TL,QuadraticBezierCurve:fb,QuadraticBezierCurve3:db,SplineCurve:hb});class CL extends Ha{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new o3(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new pb[i.type]().fromJSON(i))}return this}}class Lv extends CL{constructor(e){super(),this.type="Path",this.currentPoint=new xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new o3(this.currentPoint.clone(),new xe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new fb(this.currentPoint.clone(),new xe(e,n),new xe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new cb(this.currentPoint.clone(),new xe(e,n),new xe(r,i),new xe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new hb(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new s3(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Jm extends Jt{constructor(e=[new xe(0,-.5),new xe(.5,0),new xe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Hr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,h=new j,g=new xe,v=new j,x=new j,y=new j;let _=0,E=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:_=e[w+1].x-e[w].x,E=e[w+1].y-e[w].y,v.x=E*1,v.y=-_,v.z=E*0,y.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[w+1].x-e[w].x,E=e[w+1].y-e[w].y,v.x=E*1,v.y=-_,v.z=E*0,x.copy(v),v.x+=y.x,v.y+=y.y,v.z+=y.z,v.normalize(),l.push(v.x,v.y,v.z),y.copy(x)}for(let w=0;w<=n;w++){const M=r+w*c*i,C=Math.sin(M),R=Math.cos(M);for(let O=0;O<=e.length-1;O++){h.x=e[O].x*C,h.y=e[O].y,h.z=e[O].x*R,o.push(h.x,h.y,h.z),g.x=w/n,g.y=O/(e.length-1),a.push(g.x,g.y);const k=l[3*O+0]*C,P=l[3*O+1],z=l[3*O+0]*R;u.push(k,P,z)}}for(let w=0;w<n;w++)for(let M=0;M<e.length-1;M++){const C=M+w*e.length,R=C,O=C+e.length,k=C+e.length+1,P=C+1;s.push(R,O,P),s.push(k,P,O)}this.setIndex(s),this.setAttribute("position",new yt(o,3)),this.setAttribute("uv",new yt(a,2)),this.setAttribute("normal",new yt(u,3))}static fromJSON(e){return new Jm(e.points,e.segments,e.phiStart,e.phiLength)}}class f1 extends Jm{constructor(e=1,n=1,r=4,i=8){const s=new Lv;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new f1(e.radius,e.length,e.capSegments,e.radialSegments)}}class d1 extends Jt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new j,c=new xe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,g=3;h<=n;h++,g+=3){const v=r+h/n*i;u.x=e*Math.cos(v),u.y=e*Math.sin(v),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[g]/e+1)/2,c.y=(o[g+1]/e+1)/2,l.push(c.x,c.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new yt(o,3)),this.setAttribute("normal",new yt(a,3)),this.setAttribute("uv",new yt(l,2))}static fromJSON(e){return new d1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class mh extends Jt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],h=[],g=[],v=[];let x=0;const y=[],_=r/2;let E=0;w(),o===!1&&(e>0&&M(!0),n>0&&M(!1)),this.setIndex(c),this.setAttribute("position",new yt(h,3)),this.setAttribute("normal",new yt(g,3)),this.setAttribute("uv",new yt(v,2));function w(){const C=new j,R=new j;let O=0;const k=(n-e)/r;for(let P=0;P<=s;P++){const z=[],B=P/s,q=B*(n-e)+e;for(let Q=0;Q<=i;Q++){const W=Q/i,X=W*l+a,ne=Math.sin(X),se=Math.cos(X);R.x=q*ne,R.y=-B*r+_,R.z=q*se,h.push(R.x,R.y,R.z),C.set(ne,k,se).normalize(),g.push(C.x,C.y,C.z),v.push(W,1-B),z.push(x++)}y.push(z)}for(let P=0;P<i;P++)for(let z=0;z<s;z++){const B=y[z][P],q=y[z+1][P],Q=y[z+1][P+1],W=y[z][P+1];c.push(B,q,W),c.push(q,Q,W),O+=6}u.addGroup(E,O,0),E+=O}function M(C){const R=x,O=new xe,k=new j;let P=0;const z=C===!0?e:n,B=C===!0?1:-1;for(let Q=1;Q<=i;Q++)h.push(0,_*B,0),g.push(0,B,0),v.push(.5,.5),x++;const q=x;for(let Q=0;Q<=i;Q++){const X=Q/i*l+a,ne=Math.cos(X),se=Math.sin(X);k.x=z*se,k.y=_*B,k.z=z*ne,h.push(k.x,k.y,k.z),g.push(0,B,0),O.x=ne*.5+.5,O.y=se*.5*B+.5,v.push(O.x,O.y),x++}for(let Q=0;Q<i;Q++){const W=R+Q,X=q+Q;C===!0?c.push(X,X+1,W):c.push(X+1,X,W),P+=3}u.addGroup(E,P,C===!0?1:2),E+=P}}static fromJSON(e){return new mh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class h1 extends mh{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new h1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lu extends Jt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new yt(s,3)),this.setAttribute("normal",new yt(s.slice(),3)),this.setAttribute("uv",new yt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const M=new j,C=new j,R=new j;for(let O=0;O<n.length;O+=3)v(n[O+0],M),v(n[O+1],C),v(n[O+2],R),l(M,C,R,w)}function l(w,M,C,R){const O=R+1,k=[];for(let P=0;P<=O;P++){k[P]=[];const z=w.clone().lerp(C,P/O),B=M.clone().lerp(C,P/O),q=O-P;for(let Q=0;Q<=q;Q++)Q===0&&P===O?k[P][Q]=z:k[P][Q]=z.clone().lerp(B,Q/q)}for(let P=0;P<O;P++)for(let z=0;z<2*(O-P)-1;z++){const B=Math.floor(z/2);z%2===0?(g(k[P][B+1]),g(k[P+1][B]),g(k[P][B])):(g(k[P][B+1]),g(k[P+1][B+1]),g(k[P+1][B]))}}function u(w){const M=new j;for(let C=0;C<s.length;C+=3)M.x=s[C+0],M.y=s[C+1],M.z=s[C+2],M.normalize().multiplyScalar(w),s[C+0]=M.x,s[C+1]=M.y,s[C+2]=M.z}function c(){const w=new j;for(let M=0;M<s.length;M+=3){w.x=s[M+0],w.y=s[M+1],w.z=s[M+2];const C=_(w)/2/Math.PI+.5,R=E(w)/Math.PI+.5;o.push(C,1-R)}x(),h()}function h(){for(let w=0;w<o.length;w+=6){const M=o[w+0],C=o[w+2],R=o[w+4],O=Math.max(M,C,R),k=Math.min(M,C,R);O>.9&&k<.1&&(M<.2&&(o[w+0]+=1),C<.2&&(o[w+2]+=1),R<.2&&(o[w+4]+=1))}}function g(w){s.push(w.x,w.y,w.z)}function v(w,M){const C=w*3;M.x=e[C+0],M.y=e[C+1],M.z=e[C+2]}function x(){const w=new j,M=new j,C=new j,R=new j,O=new xe,k=new xe,P=new xe;for(let z=0,B=0;z<s.length;z+=9,B+=6){w.set(s[z+0],s[z+1],s[z+2]),M.set(s[z+3],s[z+4],s[z+5]),C.set(s[z+6],s[z+7],s[z+8]),O.set(o[B+0],o[B+1]),k.set(o[B+2],o[B+3]),P.set(o[B+4],o[B+5]),R.copy(w).add(M).add(C).divideScalar(3);const q=_(R);y(O,B+0,w,q),y(k,B+2,M,q),y(P,B+4,C,q)}}function y(w,M,C,R){R<0&&w.x===1&&(o[M]=w.x-1),C.x===0&&C.z===0&&(o[M]=R/2/Math.PI+.5)}function _(w){return Math.atan2(w.z,-w.x)}function E(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new Lu(e.vertices,e.indices,e.radius,e.details)}}class p1 extends Lu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new p1(e.radius,e.detail)}}const rx=new j,ix=new j,$w=new j,sx=new $o;class mb extends Jt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Vd*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],h=new Array(3),g={},v=[];for(let x=0;x<l;x+=3){o?(u[0]=o.getX(x),u[1]=o.getX(x+1),u[2]=o.getX(x+2)):(u[0]=x,u[1]=x+1,u[2]=x+2);const{a:y,b:_,c:E}=sx;if(y.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),E.fromBufferAttribute(a,u[2]),sx.getNormal($w),h[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,h[2]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const M=(w+1)%3,C=h[w],R=h[M],O=sx[c[w]],k=sx[c[M]],P=`${C}_${R}`,z=`${R}_${C}`;z in g&&g[z]?($w.dot(g[z].normal)<=s&&(v.push(O.x,O.y,O.z),v.push(k.x,k.y,k.z)),g[z]=null):P in g||(g[P]={index0:u[w],index1:u[M],normal:$w.clone()})}}for(const x in g)if(g[x]){const{index0:y,index1:_}=g[x];rx.fromBufferAttribute(a,y),ix.fromBufferAttribute(a,_),v.push(rx.x,rx.y,rx.z),v.push(ix.x,ix.y,ix.z)}this.setAttribute("position",new yt(v,3))}}}class jd extends Lv{constructor(e){super(e),this.uuid=So(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Lv().fromJSON(i))}return this}}const Uj={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=PL(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,h,g,v;if(r&&(s=Wj(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let x=n;x<i;x+=n)h=t[x],g=t[x+1],h<a&&(a=h),g<l&&(l=g),h>u&&(u=h),g>c&&(c=g);v=Math.max(u-a,c-l),v=v!==0?32767/v:0}return kv(s,o,n,a,l,v,0),o}};function PL(t,e,n,r,i){let s,o;if(i===nY(t,e,n,r)>0)for(s=e;s<n;s+=r)o=v6(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=v6(s,t[s],t[s+1],o);return o&&a3(o,o.next)&&(zv(o),o=o.next),o}function oh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(a3(n,n.next)||_r(n.prev,n,n.next)===0)){if(zv(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function kv(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Kj(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?qj(t,r,i,s):Hj(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),zv(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Vj(oh(t),e,n),kv(t,e,n,r,i,s,2)):o===2&&Gj(t,e,n,r,i,s):kv(oh(t),e,n,r,i,s,1);break}}}function Hj(t){const e=t.prev,n=t,r=t.next;if(_r(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,g=i>s?i>o?i:o:s>o?s:o,v=a>l?a>u?a:u:l>u?l:u;let x=r.next;for(;x!==e;){if(x.x>=c&&x.x<=g&&x.y>=h&&x.y<=v&&um(i,a,s,l,o,u,x.x,x.y)&&_r(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function qj(t,e,n,r){const i=t.prev,s=t,o=t.next;if(_r(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,g=o.y,v=a<l?a<u?a:u:l<u?l:u,x=c<h?c<g?c:g:h<g?h:g,y=a>l?a>u?a:u:l>u?l:u,_=c>h?c>g?c:g:h>g?h:g,E=OA(v,x,e,n,r),w=OA(y,_,e,n,r);let M=t.prevZ,C=t.nextZ;for(;M&&M.z>=E&&C&&C.z<=w;){if(M.x>=v&&M.x<=y&&M.y>=x&&M.y<=_&&M!==i&&M!==o&&um(a,c,l,h,u,g,M.x,M.y)&&_r(M.prev,M,M.next)>=0||(M=M.prevZ,C.x>=v&&C.x<=y&&C.y>=x&&C.y<=_&&C!==i&&C!==o&&um(a,c,l,h,u,g,C.x,C.y)&&_r(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;M&&M.z>=E;){if(M.x>=v&&M.x<=y&&M.y>=x&&M.y<=_&&M!==i&&M!==o&&um(a,c,l,h,u,g,M.x,M.y)&&_r(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;C&&C.z<=w;){if(C.x>=v&&C.x<=y&&C.y>=x&&C.y<=_&&C!==i&&C!==o&&um(a,c,l,h,u,g,C.x,C.y)&&_r(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Vj(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!a3(i,s)&&RL(i,r,r.next,s)&&Nv(i,s)&&Nv(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),zv(r),zv(r.next),r=t=s),r=r.next}while(r!==t);return oh(r)}function Gj(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Jj(o,a)){let l=DL(o,a);o=oh(o,o.next),l=oh(l,l.next),kv(o,e,n,r,i,s,0),kv(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Wj(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=PL(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Zj(u));for(i.sort(jj),s=0;s<i.length;s++)n=Yj(i[s],n);return n}function jj(t,e){return t.x-e.x}function Yj(t,e){const n=Qj(t,e);if(!n)return e;const r=DL(n,t);return oh(r,r.next),oh(n,n.next)}function Qj(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const g=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=s&&g>r&&(r=g,i=n.x<n.next.x?n:n.next,g===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,h;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&um(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),Nv(n,t)&&(h<c||h===c&&(n.x>i.x||n.x===i.x&&Xj(i,n)))&&(i=n,c=h)),n=n.next;while(n!==a);return i}function Xj(t,e){return _r(t.prev,t,e.prev)<0&&_r(e.next,t,t.next)<0}function Kj(t,e,n,r){let i=t;do i.z===0&&(i.z=OA(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,$j(i)}function $j(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function OA(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Zj(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function um(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Jj(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!eY(t,e)&&(Nv(t,e)&&Nv(e,t)&&tY(t,e)&&(_r(t.prev,t,e.prev)||_r(t,e.prev,e))||a3(t,e)&&_r(t.prev,t,t.next)>0&&_r(e.prev,e,e.next)>0)}function _r(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function a3(t,e){return t.x===e.x&&t.y===e.y}function RL(t,e,n,r){const i=ax(_r(t,e,n)),s=ax(_r(t,e,r)),o=ax(_r(n,r,t)),a=ax(_r(n,r,e));return!!(i!==s&&o!==a||i===0&&ox(t,n,e)||s===0&&ox(t,r,e)||o===0&&ox(n,t,r)||a===0&&ox(n,e,r))}function ox(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ax(t){return t>0?1:t<0?-1:0}function eY(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&RL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Nv(t,e){return _r(t.prev,t,t.next)<0?_r(t,e,t.next)>=0&&_r(t,t.prev,e)>=0:_r(t,e,t.prev)<0||_r(t,t.next,e)<0}function tY(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function DL(t,e){const n=new LA(t.i,t.x,t.y),r=new LA(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function v6(t,e,n,r){const i=new LA(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function LA(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nY(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class vl{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return vl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];y6(e),x6(r,e);let o=e.length;n.forEach(y6);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,x6(r,n[l]);const a=Uj.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function y6(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function x6(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class eg extends Jt{constructor(e=new jd([new xe(.5,.5),new xe(-.5,.5),new xe(-.5,-.5),new xe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new yt(i,3)),this.setAttribute("uv",new yt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:v-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,_=n.bevelSegments!==void 0?n.bevelSegments:3;const E=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:rY;let M,C=!1,R,O,k,P;E&&(M=E.getSpacedPoints(c),C=!0,g=!1,R=E.computeFrenetFrames(c,!1),O=new j,k=new j,P=new j),g||(_=0,v=0,x=0,y=0);const z=a.extractPoints(u);let B=z.shape;const q=z.holes;if(!vl.isClockWise(B)){B=B.reverse();for(let Pe=0,ye=q.length;Pe<ye;Pe++){const De=q[Pe];vl.isClockWise(De)&&(q[Pe]=De.reverse())}}const W=vl.triangulateShape(B,q),X=B;for(let Pe=0,ye=q.length;Pe<ye;Pe++){const De=q[Pe];B=B.concat(De)}function ne(Pe,ye,De){return ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),ye.clone().multiplyScalar(De).add(Pe)}const se=B.length,de=W.length;function G(Pe,ye,De){let Je,He,St;const gt=Pe.x-ye.x,ft=Pe.y-ye.y,Lt=De.x-Pe.x,qt=De.y-Pe.y,Z=gt*gt+ft*ft,U=gt*qt-ft*Lt;if(Math.abs(U)>Number.EPSILON){const ae=Math.sqrt(Z),Ee=Math.sqrt(Lt*Lt+qt*qt),ze=ye.x-ft/ae,qe=ye.y+gt/ae,xt=De.x-qt/Ee,$e=De.y+Lt/Ee,Le=((xt-ze)*qt-($e-qe)*Lt)/(gt*qt-ft*Lt);Je=ze+gt*Le-Pe.x,He=qe+ft*Le-Pe.y;const mt=Je*Je+He*He;if(mt<=2)return new xe(Je,He);St=Math.sqrt(mt/2)}else{let ae=!1;gt>Number.EPSILON?Lt>Number.EPSILON&&(ae=!0):gt<-Number.EPSILON?Lt<-Number.EPSILON&&(ae=!0):Math.sign(ft)===Math.sign(qt)&&(ae=!0),ae?(Je=-ft,He=gt,St=Math.sqrt(Z)):(Je=gt,He=ft,St=Math.sqrt(Z/2))}return new xe(Je/St,He/St)}const te=[];for(let Pe=0,ye=X.length,De=ye-1,Je=Pe+1;Pe<ye;Pe++,De++,Je++)De===ye&&(De=0),Je===ye&&(Je=0),te[Pe]=G(X[Pe],X[De],X[Je]);const re=[];let V,J=te.concat();for(let Pe=0,ye=q.length;Pe<ye;Pe++){const De=q[Pe];V=[];for(let Je=0,He=De.length,St=He-1,gt=Je+1;Je<He;Je++,St++,gt++)St===He&&(St=0),gt===He&&(gt=0),V[Je]=G(De[Je],De[St],De[gt]);re.push(V),J=J.concat(V)}for(let Pe=0;Pe<_;Pe++){const ye=Pe/_,De=v*Math.cos(ye*Math.PI/2),Je=x*Math.sin(ye*Math.PI/2)+y;for(let He=0,St=X.length;He<St;He++){const gt=ne(X[He],te[He],Je);Ke(gt.x,gt.y,-De)}for(let He=0,St=q.length;He<St;He++){const gt=q[He];V=re[He];for(let ft=0,Lt=gt.length;ft<Lt;ft++){const qt=ne(gt[ft],V[ft],Je);Ke(qt.x,qt.y,-De)}}}const he=x+y;for(let Pe=0;Pe<se;Pe++){const ye=g?ne(B[Pe],J[Pe],he):B[Pe];C?(k.copy(R.normals[0]).multiplyScalar(ye.x),O.copy(R.binormals[0]).multiplyScalar(ye.y),P.copy(M[0]).add(k).add(O),Ke(P.x,P.y,P.z)):Ke(ye.x,ye.y,0)}for(let Pe=1;Pe<=c;Pe++)for(let ye=0;ye<se;ye++){const De=g?ne(B[ye],J[ye],he):B[ye];C?(k.copy(R.normals[Pe]).multiplyScalar(De.x),O.copy(R.binormals[Pe]).multiplyScalar(De.y),P.copy(M[Pe]).add(k).add(O),Ke(P.x,P.y,P.z)):Ke(De.x,De.y,h/c*Pe)}for(let Pe=_-1;Pe>=0;Pe--){const ye=Pe/_,De=v*Math.cos(ye*Math.PI/2),Je=x*Math.sin(ye*Math.PI/2)+y;for(let He=0,St=X.length;He<St;He++){const gt=ne(X[He],te[He],Je);Ke(gt.x,gt.y,h+De)}for(let He=0,St=q.length;He<St;He++){const gt=q[He];V=re[He];for(let ft=0,Lt=gt.length;ft<Lt;ft++){const qt=ne(gt[ft],V[ft],Je);C?Ke(qt.x,qt.y+M[c-1].y,M[c-1].x+De):Ke(qt.x,qt.y,h+De)}}}we(),be();function we(){const Pe=i.length/3;if(g){let ye=0,De=se*ye;for(let Je=0;Je<de;Je++){const He=W[Je];We(He[2]+De,He[1]+De,He[0]+De)}ye=c+_*2,De=se*ye;for(let Je=0;Je<de;Je++){const He=W[Je];We(He[0]+De,He[1]+De,He[2]+De)}}else{for(let ye=0;ye<de;ye++){const De=W[ye];We(De[2],De[1],De[0])}for(let ye=0;ye<de;ye++){const De=W[ye];We(De[0]+se*c,De[1]+se*c,De[2]+se*c)}}r.addGroup(Pe,i.length/3-Pe,0)}function be(){const Pe=i.length/3;let ye=0;pe(X,ye),ye+=X.length;for(let De=0,Je=q.length;De<Je;De++){const He=q[De];pe(He,ye),ye+=He.length}r.addGroup(Pe,i.length/3-Pe,1)}function pe(Pe,ye){let De=Pe.length;for(;--De>=0;){const Je=De;let He=De-1;He<0&&(He=Pe.length-1);for(let St=0,gt=c+_*2;St<gt;St++){const ft=se*St,Lt=se*(St+1),qt=ye+Je+ft,Z=ye+He+ft,U=ye+He+Lt,ae=ye+Je+Lt;rt(qt,Z,U,ae)}}}function Ke(Pe,ye,De){l.push(Pe),l.push(ye),l.push(De)}function We(Pe,ye,De){Qe(Pe),Qe(ye),Qe(De);const Je=i.length/3,He=w.generateTopUV(r,i,Je-3,Je-2,Je-1);ut(He[0]),ut(He[1]),ut(He[2])}function rt(Pe,ye,De,Je){Qe(Pe),Qe(ye),Qe(Je),Qe(ye),Qe(De),Qe(Je);const He=i.length/3,St=w.generateSideWallUV(r,i,He-6,He-3,He-2,He-1);ut(St[0]),ut(St[1]),ut(St[3]),ut(St[1]),ut(St[2]),ut(St[3])}function Qe(Pe){i.push(l[Pe*3+0]),i.push(l[Pe*3+1]),i.push(l[Pe*3+2])}function ut(Pe){s.push(Pe.x),s.push(Pe.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return iY(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new pb[i.type]().fromJSON(i)),new eg(r,e.options)}}const rY={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new xe(s,o),new xe(a,l),new xe(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],h=e[r*3+2],g=e[i*3],v=e[i*3+1],x=e[i*3+2],y=e[s*3],_=e[s*3+1],E=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new xe(o,1-l),new xe(u,1-h),new xe(g,1-x),new xe(y,1-E)]:[new xe(a,1-l),new xe(c,1-h),new xe(v,1-x),new xe(_,1-E)]}};function iY(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class m1 extends Lu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new m1(e.radius,e.detail)}}class tg extends Lu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new tg(e.radius,e.detail)}}class g1 extends Jt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let h=e;const g=(n-e)/i,v=new j,x=new xe;for(let y=0;y<=i;y++){for(let _=0;_<=r;_++){const E=s+_/r*o;v.x=h*Math.cos(E),v.y=h*Math.sin(E),l.push(v.x,v.y,v.z),u.push(0,0,1),x.x=(v.x/n+1)/2,x.y=(v.y/n+1)/2,c.push(x.x,x.y)}h+=g}for(let y=0;y<i;y++){const _=y*(r+1);for(let E=0;E<r;E++){const w=E+_,M=w,C=w+r+1,R=w+r+2,O=w+1;a.push(M,C,O),a.push(C,R,O)}}this.setIndex(a),this.setAttribute("position",new yt(l,3)),this.setAttribute("normal",new yt(u,3)),this.setAttribute("uv",new yt(c,2))}static fromJSON(e){return new g1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class v1 extends Jt{constructor(e=new jd([new xe(0,.5),new xe(-.5,-.5),new xe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new yt(i,3)),this.setAttribute("normal",new yt(s,3)),this.setAttribute("uv",new yt(o,2));function u(c){const h=i.length/3,g=c.extractPoints(n);let v=g.shape;const x=g.holes;vl.isClockWise(v)===!1&&(v=v.reverse());for(let _=0,E=x.length;_<E;_++){const w=x[_];vl.isClockWise(w)===!0&&(x[_]=w.reverse())}const y=vl.triangulateShape(v,x);for(let _=0,E=x.length;_<E;_++){const w=x[_];v=v.concat(w)}for(let _=0,E=v.length;_<E;_++){const w=v[_];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let _=0,E=y.length;_<E;_++){const w=y[_],M=w[0]+h,C=w[1]+h,R=w[2]+h;r.push(M,C,R),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return sY(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new v1(r,e.curveSegments)}}function sY(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class gh extends Jt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],h=new j,g=new j,v=[],x=[],y=[],_=[];for(let E=0;E<=r;E++){const w=[],M=E/r;let C=0;E==0&&o==0?C=.5/n:E==r&&l==Math.PI&&(C=-.5/n);for(let R=0;R<=n;R++){const O=R/n;h.x=-e*Math.cos(i+O*s)*Math.sin(o+M*a),h.y=e*Math.cos(o+M*a),h.z=e*Math.sin(i+O*s)*Math.sin(o+M*a),x.push(h.x,h.y,h.z),g.copy(h).normalize(),y.push(g.x,g.y,g.z),_.push(O+C,1-M),w.push(u++)}c.push(w)}for(let E=0;E<r;E++)for(let w=0;w<n;w++){const M=c[E][w+1],C=c[E][w],R=c[E+1][w],O=c[E+1][w+1];(E!==0||o>0)&&v.push(M,C,O),(E!==r-1||l<Math.PI)&&v.push(C,R,O)}this.setIndex(v),this.setAttribute("position",new yt(x,3)),this.setAttribute("normal",new yt(y,3)),this.setAttribute("uv",new yt(_,2))}static fromJSON(e){return new gh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class y1 extends Lu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new y1(e.radius,e.detail)}}class x1 extends Jt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new j,h=new j,g=new j;for(let v=0;v<=r;v++)for(let x=0;x<=i;x++){const y=x/i*s,_=v/r*Math.PI*2;h.x=(e+n*Math.cos(_))*Math.cos(y),h.y=(e+n*Math.cos(_))*Math.sin(y),h.z=n*Math.sin(_),a.push(h.x,h.y,h.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),g.subVectors(h,c).normalize(),l.push(g.x,g.y,g.z),u.push(x/i),u.push(v/r)}for(let v=1;v<=r;v++)for(let x=1;x<=i;x++){const y=(i+1)*v+x-1,_=(i+1)*(v-1)+x-1,E=(i+1)*(v-1)+x,w=(i+1)*v+x;o.push(y,_,w),o.push(_,E,w)}this.setIndex(o),this.setAttribute("position",new yt(a,3)),this.setAttribute("normal",new yt(l,3)),this.setAttribute("uv",new yt(u,2))}static fromJSON(e){return new x1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class _1 extends Jt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],h=new j,g=new j,v=new j,x=new j,y=new j,_=new j,E=new j;for(let M=0;M<=r;++M){const C=M/r*s*Math.PI*2;w(C,s,o,e,v),w(C+.01,s,o,e,x),_.subVectors(x,v),E.addVectors(x,v),y.crossVectors(_,E),E.crossVectors(y,_),y.normalize(),E.normalize();for(let R=0;R<=i;++R){const O=R/i*Math.PI*2,k=-n*Math.cos(O),P=n*Math.sin(O);h.x=v.x+(k*E.x+P*y.x),h.y=v.y+(k*E.y+P*y.y),h.z=v.z+(k*E.z+P*y.z),l.push(h.x,h.y,h.z),g.subVectors(h,v).normalize(),u.push(g.x,g.y,g.z),c.push(M/r),c.push(R/i)}}for(let M=1;M<=r;M++)for(let C=1;C<=i;C++){const R=(i+1)*(M-1)+(C-1),O=(i+1)*M+(C-1),k=(i+1)*M+C,P=(i+1)*(M-1)+C;a.push(R,O,P),a.push(O,k,P)}this.setIndex(a),this.setAttribute("position",new yt(l,3)),this.setAttribute("normal",new yt(u,3)),this.setAttribute("uv",new yt(c,2));function w(M,C,R,O,k){const P=Math.cos(M),z=Math.sin(M),B=R/C*M,q=Math.cos(B);k.x=O*(2+q)*.5*P,k.y=O*(2+q)*z*.5,k.z=O*Math.sin(B)*.5}}static fromJSON(e){return new _1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class w1 extends Jt{constructor(e=new db(new j(-1,-1,0),new j(-1,1,0),new j(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new j,l=new j,u=new xe;let c=new j;const h=[],g=[],v=[],x=[];y(),this.setIndex(x),this.setAttribute("position",new yt(h,3)),this.setAttribute("normal",new yt(g,3)),this.setAttribute("uv",new yt(v,2));function y(){for(let M=0;M<n;M++)_(M);_(s===!1?n:0),w(),E()}function _(M){c=e.getPointAt(M/n,c);const C=o.normals[M],R=o.binormals[M];for(let O=0;O<=i;O++){const k=O/i*Math.PI*2,P=Math.sin(k),z=-Math.cos(k);l.x=z*C.x+P*R.x,l.y=z*C.y+P*R.y,l.z=z*C.z+P*R.z,l.normalize(),g.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,h.push(a.x,a.y,a.z)}}function E(){for(let M=1;M<=n;M++)for(let C=1;C<=i;C++){const R=(i+1)*(M-1)+(C-1),O=(i+1)*M+(C-1),k=(i+1)*M+C,P=(i+1)*(M-1)+C;x.push(R,O,P),x.push(O,k,P)}}function w(){for(let M=0;M<=n;M++)for(let C=0;C<=i;C++)u.x=M/n,u.y=C/i,v.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new w1(new pb[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class IL extends Jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new j,s=new j;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const h=l[u],g=h.start,v=h.count;for(let x=g,y=g+v;x<y;x+=3)for(let _=0;_<3;_++){const E=a.getX(x+_),w=a.getX(x+(_+1)%3);i.fromBufferAttribute(o,E),s.fromBufferAttribute(o,w),_6(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,h),_6(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new yt(n,3))}}}function _6(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var w6=Object.freeze({__proto__:null,BoxGeometry:Ou,CapsuleGeometry:f1,CircleGeometry:d1,ConeGeometry:h1,CylinderGeometry:mh,DodecahedronGeometry:p1,EdgesGeometry:mb,ExtrudeGeometry:eg,IcosahedronGeometry:m1,LatheGeometry:Jm,OctahedronGeometry:tg,PlaneGeometry:$m,PolyhedronGeometry:Lu,RingGeometry:g1,ShapeGeometry:v1,SphereGeometry:gh,TetrahedronGeometry:y1,TorusGeometry:x1,TorusKnotGeometry:_1,TubeGeometry:w1,WireframeGeometry:IL});class OL extends gi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class LL extends ar{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class gb extends gi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kL extends gb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Hr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class NL extends gi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tt(16777215),this.specular=new tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=o1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zL extends gi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class vb extends gi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class BL extends gi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=o1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FL extends gi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UL extends Ns{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yo(t,e,n){return yb(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function kd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function yb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HL(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function kA(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function xb(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function oY(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),h=[],g=[];for(let v=0;v<u.times.length;++v){const x=u.times[v]*i;if(!(x<n||x>=r)){h.push(u.times[v]);for(let y=0;y<c;++y)g.push(u.values[v*c+y])}}h.length!==0&&(u.times=kd(h,u.times.constructor),u.values=kd(g,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function aY(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(E){return E.name===a.name&&E.ValueTypeName===l});if(u===void 0)continue;let c=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);let g=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);const x=a.times.length-1;let y;if(s<=a.times[0]){const E=c,w=h-c;y=Yo(a.values,E,w)}else if(s>=a.times[x]){const E=x*h+c,w=E+h-c;y=Yo(a.values,E,w)}else{const E=a.createInterpolant(),w=c,M=h-c;E.evaluate(s),y=Yo(E.resultBuffer,w,M)}l==="quaternion"&&new ds().fromArray(y).normalize().conjugate().toArray(y);const _=u.times.length;for(let E=0;E<_;++E){const w=E*v+g;if(l==="quaternion")ds.multiplyQuaternionsFlat(u.values,w,y,0,u.values,w);else{const M=v-g*2;for(let C=0;C<M;++C)u.values[w+C]-=y[C]}}}return t.blendMode=KM,t}var lY=Object.freeze({__proto__:null,arraySlice:Yo,convertArray:kd,isTypedArray:yb,getKeyframeOrder:HL,sortedArray:kA,flattenJSON:xb,subclip:oY,makeClipAdditive:aY});class E1{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class qL extends E1{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Id,endingEnd:Id}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Od:s=e,a=2*n-r;break;case Rv:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Od:o=e,l=2*r-n;break;case Rv:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,h=this._offsetNext,g=this._weightPrev,v=this._weightNext,x=(r-n)/(i-n),y=x*x,_=y*x,E=-g*_+2*g*y-g*x,w=(1+g)*_+(-1.5-2*g)*y+(-.5+g)*x+1,M=(-1-v)*_+(1.5+v)*y+.5*x,C=v*_-v*y;for(let R=0;R!==a;++R)s[R]=E*o[c+R]+w*o[u+R]+M*o[l+R]+C*o[h+R];return s}}class _b extends E1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),h=1-c;for(let g=0;g!==a;++g)s[g]=o[u+g]*h+o[l+g]*c;return s}}class VL extends E1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class qa{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=kd(n,this.TimeBufferType),this.values=kd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:kd(e.times,Array),values:kd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new VL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _b(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new qL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Cv:n=this.InterpolantFactoryMethodDiscrete;break;case Pv:n=this.InterpolantFactoryMethodLinear;break;case l_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Cv;case this.InterpolantFactoryMethodLinear:return Pv;case this.InterpolantFactoryMethodSmooth:return l_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Yo(r,s,o),this.values=Yo(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&yb(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Yo(this.times),n=Yo(this.values),r=this.getValueSize(),i=this.getInterpolation()===l_,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,g=h-r,v=h+r;for(let x=0;x!==r;++x){const y=n[h+x];if(y!==n[g+x]||y!==n[v+x]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,g=o*r;for(let v=0;v!==r;++v)n[g+v]=n[h+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Yo(e,0,o),this.values=Yo(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Yo(this.times,0),n=Yo(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}qa.prototype.TimeBufferType=Float32Array;qa.prototype.ValueBufferType=Float32Array;qa.prototype.DefaultInterpolation=Pv;class vh extends qa{}vh.prototype.ValueTypeName="bool";vh.prototype.ValueBufferType=Array;vh.prototype.DefaultInterpolation=Cv;vh.prototype.InterpolantFactoryMethodLinear=void 0;vh.prototype.InterpolantFactoryMethodSmooth=void 0;class wb extends qa{}wb.prototype.ValueTypeName="color";class Bv extends qa{}Bv.prototype.ValueTypeName="number";class GL extends E1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)ds.slerpFlat(s,0,o,u-a,o,u,l);return s}}class ng extends qa{InterpolantFactoryMethodLinear(e){return new GL(this.times,this.values,this.getValueSize(),e)}}ng.prototype.ValueTypeName="quaternion";ng.prototype.DefaultInterpolation=Pv;ng.prototype.InterpolantFactoryMethodSmooth=void 0;class yh extends qa{}yh.prototype.ValueTypeName="string";yh.prototype.ValueBufferType=Array;yh.prototype.DefaultInterpolation=Cv;yh.prototype.InterpolantFactoryMethodLinear=void 0;yh.prototype.InterpolantFactoryMethodSmooth=void 0;class Fv extends qa{}Fv.prototype.ValueTypeName="vector";class Uv{constructor(e,n=-1,r,i=K2){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=So(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(cY(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(qa.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=HL(l);l=kA(l,1,c),u=kA(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Bv(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const h=c[1];let g=i[h];g||(i[h]=g=[]),g.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,g,v,x,y){if(v.length!==0){const _=[],E=[];xb(v,_,E,x),_.length!==0&&y.push(new h(g,_,E))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const g=u[h].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const v={};let x;for(x=0;x<g.length;x++)if(g[x].morphTargets)for(let y=0;y<g[x].morphTargets.length;y++)v[g[x].morphTargets[y]]=-1;for(const y in v){const _=[],E=[];for(let w=0;w!==g[x].morphTargets.length;++w){const M=g[x];_.push(M.time),E.push(M.morphTarget===y?1:0)}i.push(new Bv(".morphTargetInfluence["+y+"]",_,E))}l=v.length*o}else{const v=".bones["+n[h].name+"]";r(Fv,v+".position",g,"pos",i),r(ng,v+".quaternion",g,"rot",i),r(Fv,v+".scale",g,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function uY(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bv;case"vector":case"vector2":case"vector3":case"vector4":return Fv;case"color":return wb;case"quaternion":return ng;case"bool":case"boolean":return vh;case"string":return yh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function cY(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=uY(t.type);if(t.times===void 0){const n=[],r=[];xb(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ah={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class S1{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,h){return u.push(c,h),this},this.removeHandler=function(c){const h=u.indexOf(c);return h!==-1&&u.splice(h,2),this},this.getHandler=function(c){for(let h=0,g=u.length;h<g;h+=2){const v=u[h],x=u[h+1];if(v.global&&(v.lastIndex=0),v.test(c))return x}return null}}}const WL=new S1;class zs{constructor(e){this.manager=e!==void 0?e:WL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Zl={};class fY extends Error{constructor(e,n){super(e),this.response=n}}class _l extends zs{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ah.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Zl[e]!==void 0){Zl[e].push({onLoad:n,onProgress:r,onError:i});return}Zl[e]=[],Zl[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Zl[e],h=u.body.getReader(),g=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),v=g?parseInt(g):0,x=v!==0;let y=0;const _=new ReadableStream({start(E){w();function w(){h.read().then(({done:M,value:C})=>{if(M)E.close();else{y+=C.byteLength;const R=new ProgressEvent("progress",{lengthComputable:x,loaded:y,total:v});for(let O=0,k=c.length;O<k;O++){const P=c[O];P.onProgress&&P.onProgress(R)}E.enqueue(C),w()}})}}});return new Response(_)}else throw new fY(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),g=h&&h[1]?h[1].toLowerCase():void 0,v=new TextDecoder(g);return u.arrayBuffer().then(x=>v.decode(x))}}}).then(u=>{ah.add(e,u);const c=Zl[e];delete Zl[e];for(let h=0,g=c.length;h<g;h++){const v=c[h];v.onLoad&&v.onLoad(u)}}).catch(u=>{const c=Zl[e];if(c===void 0)throw this.manager.itemError(e),u;delete Zl[e];for(let h=0,g=c.length;h<g;h++){const v=c[h];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class dY extends zs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _l(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Uv.parse(e[r]);n.push(i)}return n}}class hY extends zs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new lb,l=new _l(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(h){l.load(e[h],function(g){const v=s.parse(g,!0);o[h]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(a.minFilter=zn),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,g=e.length;h<g;++h)c(h);else l.load(e,function(h){const g=s.parse(h,!0);if(g.isCubemap){const v=g.mipmaps.length/g.mipmapCount;for(let x=0;x<v;x++){o[x]={mipmaps:[]};for(let y=0;y<g.mipmapCount;y++)o[x].mipmaps.push(g.mipmaps[x*g.mipmapCount+y]),o[x].format=g.format,o[x].width=g.width,o[x].height=g.height}a.image=o}else a.image.width=g.width,a.image.height=g.height,a.mipmaps=g.mipmaps;g.mipmapCount===1&&(a.minFilter=zn),a.format=g.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Hv extends zs{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ah.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Ov("img");function l(){c(),ah.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(h){c(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class pY extends zs{constructor(e){super(e)}load(e,n,r,i){const s=new u1,o=new Hv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class mY extends zs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Wd,a=new _l(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:us,o.wrapT=u.wrapT!==void 0?u.wrapT:us,o.magFilter=u.magFilter!==void 0?u.magFilter:zn,o.minFilter=u.minFilter!==void 0?u.minFilter:zn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=bu),u.mipmapCount===1&&(o.minFilter=zn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class A1 extends zs{constructor(e){super(e)}load(e,n,r,i){const s=new Xn,o=new Hv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class df extends Cn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new tt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class jL extends df{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.groundColor=new tt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Zw=new Xt,E6=new j,S6=new j;class Eb{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xe(512,512),this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new J2,this._frameExtents=new xe(1,1),this._viewportCount=1,this._viewports=[new En(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;E6.setFromMatrixPosition(e.matrixWorld),n.position.copy(E6),S6.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(S6),n.updateMatrixWorld(),Zw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Zw),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Zw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class gY extends Eb{constructor(){super(new Zn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Iv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class YL extends df{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.target=new Cn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new gY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const A6=new Xt,f0=new j,Jw=new j;class vY extends Eb{constructor(){super(new Zn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xe(4,2),this._viewportCount=6,this._viewports=[new En(2,1,1,1),new En(0,1,1,1),new En(3,1,1,1),new En(1,1,1,1),new En(3,0,1,1),new En(1,0,1,1)],this._cubeDirections=[new j(1,0,0),new j(-1,0,0),new j(0,0,1),new j(0,0,-1),new j(0,1,0),new j(0,-1,0)],this._cubeUps=[new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,0,1),new j(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),f0.setFromMatrixPosition(e.matrixWorld),r.position.copy(f0),Jw.copy(r.position),Jw.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(Jw),r.updateMatrixWorld(),i.makeTranslation(-f0.x,-f0.y,-f0.z),A6.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(A6)}}class QL extends df{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new vY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class yY extends Eb{constructor(){super(new jc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class XL extends df{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.target=new Cn,this.shadow=new yY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class KL extends df{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class $L extends df{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class ZL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new j)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class l3 extends df{constructor(e=new ZL,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class u3 extends zs{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new _l(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=u3.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new tt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new tt().setHex(o.value);break;case"v2":i.uniforms[s].value=new xe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new j().fromArray(o.value);break;case"v4":i.uniforms[s].value=new En().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Ps().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Xt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new xe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:OL,SpriteMaterial:sb,RawShaderMaterial:LL,ShaderMaterial:ar,PointsMaterial:ab,MeshPhysicalMaterial:kL,MeshStandardMaterial:gb,MeshPhongMaterial:NL,MeshToonMaterial:zL,MeshNormalMaterial:vb,MeshLambertMaterial:BL,MeshDepthMaterial:nb,MeshDistanceMaterial:rb,MeshBasicMaterial:Iu,MeshMatcapMaterial:FL,LineDashedMaterial:UL,LineBasicMaterial:Ns,Material:gi};return new n[e]}}class NA{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class JL extends Jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class e7 extends zs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _l(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,x){if(n[x]!==void 0)return n[x];const _=v.interleavedBuffers[x],E=s(v,_.buffer),w=om(_.type,E),M=new r3(w,_.stride);return M.uuid=_.uuid,n[x]=M,M}function s(v,x){if(r[x]!==void 0)return r[x];const _=v.arrayBuffers[x],E=new Uint32Array(_).buffer;return r[x]=E,E}const o=e.isInstancedBufferGeometry?new JL:new Jt,a=e.data.index;if(a!==void 0){const v=om(a.type,a.array);o.setIndex(new An(v,1))}const l=e.data.attributes;for(const v in l){const x=l[v];let y;if(x.isInterleavedBufferAttribute){const _=i(e.data,x.data);y=new sh(_,x.itemSize,x.offset,x.normalized)}else{const _=om(x.type,x.array),E=x.isInstancedBufferAttribute?Im:An;y=new E(_,x.itemSize,x.normalized)}x.name!==void 0&&(y.name=x.name),x.usage!==void 0&&y.setUsage(x.usage),x.updateRange!==void 0&&(y.updateRange.offset=x.updateRange.offset,y.updateRange.count=x.updateRange.count),o.setAttribute(v,y)}const u=e.data.morphAttributes;if(u)for(const v in u){const x=u[v],y=[];for(let _=0,E=x.length;_<E;_++){const w=x[_];let M;if(w.isInterleavedBufferAttribute){const C=i(e.data,w.data);M=new sh(C,w.itemSize,w.offset,w.normalized)}else{const C=om(w.type,w.array);M=new An(C,w.itemSize,w.normalized)}w.name!==void 0&&(M.name=w.name),y.push(M)}o.morphAttributes[v]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let v=0,x=h.length;v!==x;++v){const y=h[v];o.addGroup(y.start,y.count,y.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const v=new j;g.center!==void 0&&v.fromArray(g.center),o.boundingSphere=new ff(v,g.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class xY extends zs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?NA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new _l(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?NA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new _l(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let h=!1;for(const g in o)if(o[g].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new jd().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new i3().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new e7;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in w6?a=w6[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new u3;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Uv.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:om(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new S1(n);s=new Hv(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const h=e[u],g=h.url;if(Array.isArray(g)){const v=[];for(let x=0,y=g.length;x<y;x++){const _=g[x],E=a(_);E!==null&&(E instanceof HTMLImageElement?v.push(E):v.push(new Wd(E.data,E.width,E.height)))}i[h.uuid]=new Ld(v)}else{const v=a(h.url);i[h.uuid]=new Ld(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:om(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Hv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let h=0,g=u.length;h<g;h++){const v=u[h],x=await s(v);x!==null&&(x instanceof HTMLImageElement?c.push(x):c.push(new Wd(x.data,x.width,x.height)))}r[l.uuid]=new Ld(c)}else{const c=await s(l.url);r[l.uuid]=new Ld(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new u1,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Wd:c=new Xn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,_Y)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],M6),c.wrapT=r(a.wrap[1],M6)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,b6)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,b6)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(g){return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),n[g]}function l(g){if(g!==void 0){if(Array.isArray(g)){const v=[];for(let x=0,y=g.length;x<y;x++){const _=g[x];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),v.push(r[_])}return v}return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),r[g]}}function u(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let c,h;switch(e.type){case"Scene":o=new Dm,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new tt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new n3(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new t3(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new Zn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new jc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new KL(e.color,e.intensity);break;case"DirectionalLight":o=new XL(e.color,e.intensity);break;case"PointLight":o=new QL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new $L(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new YL(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new jL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new l3().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),h=l(e.material),o=new _L(c,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),h=l(e.material),o=new di(c,h);break;case"InstancedMesh":c=a(e.geometry),h=l(e.material);const g=e.count,v=e.instanceMatrix,x=e.instanceColor;o=new wL(c,h,g),o.instanceMatrix=new Im(new Float32Array(v.array),16),x!==void 0&&(o.instanceColor=new Im(new Float32Array(x.array),x.itemSize));break;case"LOD":o=new xL;break;case"Line":o=new Jc(a(e.geometry),l(e.material));break;case"LineLoop":o=new EL(a(e.geometry),l(e.material));break;case"LineSegments":o=new Sl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new SL(a(e.geometry),l(e.material));break;case"Sprite":o=new yL(l(e.material));break;case"Group":o=new lm;break;case"Bone":o=new ob;break;default:o=new Cn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let v=0;v<g.length;v++)o.add(this.parseObject(g[v],n,r,i,s))}if(e.animations!==void 0){const g=e.animations;for(let v=0;v<g.length;v++){const x=g[v];o.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const g=e.levels;for(let v=0;v<g.length;v++){const x=g[v],y=o.getObjectByProperty("uuid",x.object);y!==void 0&&o.addLevel(y,x.distance,x.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const _Y={UVMapping:Q2,CubeReflectionMapping:Xc,CubeRefractionMapping:Kc,EquirectangularReflectionMapping:Mv,EquirectangularRefractionMapping:bv,CubeUVReflectionMapping:Qm},M6={RepeatWrapping:Cm,ClampToEdgeWrapping:us,MirroredRepeatWrapping:Tv},b6={NearestFilter:Rn,NearestMipmapNearestFilter:X_,NearestMipmapLinearFilter:Q0,LinearFilter:zn,LinearMipmapNearestFilter:jM,LinearMipmapLinearFilter:bu};class wY extends zs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ah.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ah.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let lx;class Sb{static getContext(){return lx===void 0&&(lx=new(window.AudioContext||window.webkitAudioContext)),lx}static setContext(e){lx=e}}class EY extends zs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _l(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);Sb.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class SY extends l3{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new tt().set(e),s=new tt().set(n),o=new j(i.r,i.g,i.b),a=new j(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class AY extends l3{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new tt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const T6=new Xt,C6=new Xt,dd=new Xt;class MY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Zn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Zn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,dd.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Vd*n.fov*.5)/n.zoom;let a,l;C6.elements[12]=-i,T6.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,dd.elements[0]=2*n.near/(l-a),dd.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(dd),a=-o*n.aspect-s,l=o*n.aspect-s,dd.elements[0]=2*n.near/(l-a),dd.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(dd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(C6),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(T6)}}class Ab{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=P6(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=P6();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function P6(){return(typeof performance>"u"?Date:performance).now()}const hd=new j,R6=new ds,bY=new j,pd=new j;class TY extends Cn{constructor(){super(),this.type="AudioListener",this.context=Sb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ab}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hd,R6,bY),pd.set(0,0,-1).applyQuaternion(R6),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(hd.x,i),n.positionY.linearRampToValueAtTime(hd.y,i),n.positionZ.linearRampToValueAtTime(hd.z,i),n.forwardX.linearRampToValueAtTime(pd.x,i),n.forwardY.linearRampToValueAtTime(pd.y,i),n.forwardZ.linearRampToValueAtTime(pd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(hd.x,hd.y,hd.z),n.setOrientation(pd.x,pd.y,pd.z,r.x,r.y,r.z)}}class t7 extends Cn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const md=new j,D6=new ds,CY=new j,gd=new j;class PY extends t7{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(md,D6,CY),gd.set(0,0,1).applyQuaternion(D6);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(md.x,r),n.positionY.linearRampToValueAtTime(md.y,r),n.positionZ.linearRampToValueAtTime(md.z,r),n.orientationX.linearRampToValueAtTime(gd.x,r),n.orientationY.linearRampToValueAtTime(gd.y,r),n.orientationZ.linearRampToValueAtTime(gd.z,r)}else n.setPosition(md.x,md.y,md.z),n.setOrientation(gd.x,gd.y,gd.z)}}class RY{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class n7{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){ds.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;ds.multiplyQuaternionsFlat(e,o,e,n,e,r),ds.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const Mb="\\[\\]\\.:\\/",DY=new RegExp("["+Mb+"]","g"),bb="[^"+Mb+"]",IY="[^"+Mb.replace("\\.","")+"]",OY=/((?:WC+[\/:])*)/.source.replace("WC",bb),LY=/(WCOD+)?/.source.replace("WCOD",IY),kY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bb),NY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bb),zY=new RegExp("^"+OY+LY+kY+NY+"$"),BY=["material","materials","bones","map"];class FY{constructor(e,n,r){const i=r||_n.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class _n{constructor(e,n,r){this.path=n,this.parsedPath=r||_n.parseTrackName(n),this.node=_n.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new _n.Composite(e,n,r):new _n(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(DY,"")}static parseTrackName(e){const n=zY.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);BY.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=_n.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_n.Composite=FY;_n.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};_n.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};_n.prototype.GetterByBindingType=[_n.prototype._getValue_direct,_n.prototype._getValue_array,_n.prototype._getValue_arrayElement,_n.prototype._getValue_toArray];_n.prototype.SetterByBindingTypeAndVersioning=[[_n.prototype._setValue_direct,_n.prototype._setValue_direct_setNeedsUpdate,_n.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_n.prototype._setValue_array,_n.prototype._setValue_array_setNeedsUpdate,_n.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_n.prototype._setValue_arrayElement,_n.prototype._setValue_arrayElement_setNeedsUpdate,_n.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_n.prototype._setValue_fromArray,_n.prototype._setValue_fromArray_setNeedsUpdate,_n.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class UY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=So(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const g=arguments[c],v=g.uuid;let x=n[v];if(x===void 0){x=l++,n[v]=x,e.push(g);for(let y=0,_=o;y!==_;++y)s[y].push(new _n(g,r[y],i[y]))}else if(x<u){a=e[x];const y=--u,_=e[y];n[_.uuid]=x,e[x]=_,n[v]=y,e[y]=g;for(let E=0,w=o;E!==w;++E){const M=s[E],C=M[y];let R=M[x];M[x]=C,R===void 0&&(R=new _n(g,r[E],i[E])),M[y]=R}}else e[x]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const h=s++,g=e[h];n[g.uuid]=c,e[c]=g,n[u]=h,e[h]=l;for(let v=0,x=i;v!==x;++v){const y=r[v],_=y[h],E=y[c];y[c]=_,y[h]=E}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,h=n[c];if(h!==void 0)if(delete n[c],h<s){const g=--s,v=e[g],x=--o,y=e[x];n[v.uuid]=h,e[h]=v,n[y.uuid]=g,e[g]=y,e.pop();for(let _=0,E=i;_!==E;++_){const w=r[_],M=w[g],C=w[x];w[h]=M,w[g]=C,w.pop()}}else{const g=--o,v=e[g];g>0&&(n[v.uuid]=h),e[h]=v,e.pop();for(let x=0,y=i;x!==y;++x){const _=r[x];_[h]=_[g],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let g=c,v=l.length;g!==v;++g){const x=l[g];h[g]=new _n(x,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class HY{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Id,endingEnd:Id};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case KM:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case K2:default:for(let c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===JO;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===$O){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Od,i.endingEnd=Od):(e?i.endingStart=this.zeroSlopeAtStart?Od:Id:i.endingStart=Rv,n?i.endingEnd=this.zeroSlopeAtEnd?Od:Id:i.endingEnd=Rv)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const qY=new Float32Array(1);class VY extends Do{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let h=0;h!==s;++h){const g=i[h],v=g.name;let x=c[v];if(x!==void 0)++x.referenceCount,o[h]=x;else{if(x=o[h],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,v));continue}const y=n&&n._propertyBindings[h].binding.parsedPath;x=new n7(_n.create(r,v,y),g.ValueTypeName,g.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,v),o[h]=x}a[h].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,g=(e._localRoot||this._root).uuid;delete h[g],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new _b(new Float32Array(2),new Float32Array(2),1,qY),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Uv.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=K2),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new HY(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Uv.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=c,n[c]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Ge{constructor(e){this.value=e}clone(){return new Ge(this.value.clone===void 0?this.value:this.value.clone())}}let GY=0;class WY extends Do{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:GY++}),this.name="",this.usage=Dv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class jY extends r3{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class YY{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class r7{constructor(e,n,r=0,i=1/0){this.ray=new l1(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Wc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return zA(e,this,r,n),r.sort(I6),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)zA(e[i],this,r,n);return r.sort(I6),r}}function I6(t,e){return t.distance-e.distance}function zA(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)zA(i[s],e,n,!0)}}class Z_{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Hr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class QY{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const O6=new xe;class XY{constructor(e=new xe(1/0,1/0),n=new xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=O6.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return O6.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const L6=new j,ux=new j;class KY{constructor(e=new j,n=new j){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){L6.subVectors(e,this.start),ux.subVectors(this.end,this.start);const r=ux.dot(ux);let s=ux.dot(L6)/r;return n&&(s=Hr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const k6=new j;class $Y extends Cn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Jt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new yt(i,3));const s=new Ns({fog:!1,toneMapped:!1});this.cone=new Sl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),k6.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(k6),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mc=new j,cx=new Xt,eE=new Xt;class ZY extends Sl{constructor(e){const n=i7(e),r=new Jt,i=[],s=[],o=new tt(0,0,1),a=new tt(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new yt(i,3)),r.setAttribute("color",new yt(s,3));const l=new Ns({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");eE.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(cx.multiplyMatrices(eE,a.matrixWorld),mc.setFromMatrixPosition(cx),i.setXYZ(o,mc.x,mc.y,mc.z),cx.multiplyMatrices(eE,a.parent.matrixWorld),mc.setFromMatrixPosition(cx),i.setXYZ(o+1,mc.x,mc.y,mc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function i7(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,i7(t.children[n]));return e}class JY extends di{constructor(e,n,r){const i=new gh(n,4,2),s=new Iu({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const eQ=new j,N6=new tt,z6=new tt;class tQ extends Cn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new tg(n);i.rotateY(Math.PI*.5),this.material=new Iu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new An(o,3)),this.add(new di(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");N6.copy(this.light.color),z6.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?N6:z6;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(eQ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nQ extends Sl{constructor(e=10,n=10,r=4473924,i=8947848){r=new tt(r),i=new tt(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let g=0,v=0,x=-a;g<=n;g++,x+=o){l.push(-a,0,x,a,0,x),l.push(x,0,-a,x,0,a);const y=g===s?r:i;y.toArray(u,v),v+=3,y.toArray(u,v),v+=3,y.toArray(u,v),v+=3,y.toArray(u,v),v+=3}const c=new Jt;c.setAttribute("position",new yt(l,3)),c.setAttribute("color",new yt(u,3));const h=new Ns({vertexColors:!0,toneMapped:!1});super(c,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rQ extends Sl{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new tt(s),o=new tt(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const g=h/n*(Math.PI*2),v=Math.sin(g)*e,x=Math.cos(g)*e;a.push(0,0,0),a.push(v,0,x);const y=h&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<r;h++){const g=h&1?s:o,v=e-e/r*h;for(let x=0;x<i;x++){let y=x/i*(Math.PI*2),_=Math.sin(y)*v,E=Math.cos(y)*v;a.push(_,0,E),l.push(g.r,g.g,g.b),y=(x+1)/i*(Math.PI*2),_=Math.sin(y)*v,E=Math.cos(y)*v,a.push(_,0,E),l.push(g.r,g.g,g.b)}}const u=new Jt;u.setAttribute("position",new yt(a,3)),u.setAttribute("color",new yt(l,3));const c=new Ns({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const B6=new j,fx=new j,F6=new j;class iQ extends Cn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Jt;i.setAttribute("position",new yt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ns({fog:!1,toneMapped:!1});this.lightPlane=new Jc(i,s),this.add(this.lightPlane),i=new Jt,i.setAttribute("position",new yt([0,0,0,0,0,1],3)),this.targetLine=new Jc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),B6.setFromMatrixPosition(this.light.matrixWorld),fx.setFromMatrixPosition(this.light.target.matrixWorld),F6.subVectors(fx,B6),this.lightPlane.lookAt(fx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(fx),this.targetLine.scale.z=F6.length()}}const dx=new j,Cr=new Km;class sQ extends Sl{constructor(e){const n=new Jt,r=new Ns({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(x,y){l(x),l(y)}function l(x){i.push(0,0,0),s.push(0,0,0),o[x]===void 0&&(o[x]=[]),o[x].push(i.length/3-1)}n.setAttribute("position",new yt(i,3)),n.setAttribute("color",new yt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new tt(16755200),c=new tt(16711680),h=new tt(43775),g=new tt(16777215),v=new tt(3355443);this.setColors(u,c,h,g,v)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fr("c",n,e,Cr,0,0,-1),Fr("t",n,e,Cr,0,0,1),Fr("n1",n,e,Cr,-r,-i,-1),Fr("n2",n,e,Cr,r,-i,-1),Fr("n3",n,e,Cr,-r,i,-1),Fr("n4",n,e,Cr,r,i,-1),Fr("f1",n,e,Cr,-r,-i,1),Fr("f2",n,e,Cr,r,-i,1),Fr("f3",n,e,Cr,-r,i,1),Fr("f4",n,e,Cr,r,i,1),Fr("u1",n,e,Cr,r*.7,i*1.1,-1),Fr("u2",n,e,Cr,-r*.7,i*1.1,-1),Fr("u3",n,e,Cr,0,i*2,-1),Fr("cf1",n,e,Cr,-r,0,1),Fr("cf2",n,e,Cr,r,0,1),Fr("cf3",n,e,Cr,0,-i,1),Fr("cf4",n,e,Cr,0,i,1),Fr("cn1",n,e,Cr,-r,0,-1),Fr("cn2",n,e,Cr,r,0,-1),Fr("cn3",n,e,Cr,0,-i,-1),Fr("cn4",n,e,Cr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fr(t,e,n,r,i,s,o){dx.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],dx.x,dx.y,dx.z)}}const hx=new cf;class oQ extends Sl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Jt;s.setIndex(new An(r,1)),s.setAttribute("position",new An(i,3)),super(s,new Ns({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&hx.setFromObject(this.object),hx.isEmpty())return;const n=hx.min,r=hx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class aQ extends Sl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Jt;s.setIndex(new An(r,1)),s.setAttribute("position",new yt(i,3)),super(s,new Ns({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lQ extends Jc{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Jt;o.setAttribute("position",new yt(s,3)),o.computeBoundingSphere(),super(o,new Ns({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Jt;l.setAttribute("position",new yt(a,3)),l.computeBoundingSphere(),this.add(new di(l,new Iu({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const U6=new j;let px,tE;class uQ extends Cn{constructor(e=new j(0,0,1),n=new j(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",px===void 0&&(px=new Jt,px.setAttribute("position",new yt([0,0,0,0,1,0],3)),tE=new mh(0,.5,1,5,1),tE.translate(0,-.5,0)),this.position.copy(n),this.line=new Jc(px,new Ns({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new di(tE,new Iu({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{U6.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(U6,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class cQ extends Sl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Jt;i.setAttribute("position",new yt(n,3)),i.setAttribute("color",new yt(r,3));const s=new Ns({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new tt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class s7{constructor(){this.type="ShapePath",this.color=new tt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Lv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(E){const w=[];for(let M=0,C=E.length;M<C;M++){const R=E[M],O=new jd;O.curves=R.curves,w.push(O)}return w}function r(E,w){const M=w.length;let C=!1;for(let R=M-1,O=0;O<M;R=O++){let k=w[R],P=w[O],z=P.x-k.x,B=P.y-k.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(k=w[O],z=-z,P=w[R],B=-B),E.y<k.y||E.y>P.y)continue;if(E.y===k.y){if(E.x===k.x)return!0}else{const q=B*(E.x-k.x)-z*(E.y-k.y);if(q===0)return!0;if(q<0)continue;C=!C}}else{if(E.y!==k.y)continue;if(P.x<=E.x&&E.x<=k.x||k.x<=E.x&&E.x<=P.x)return!0}}return C}const i=vl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new jd,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const h=[],g=[];let v=[],x=0,y;g[x]=void 0,v[x]=[];for(let E=0,w=s.length;E<w;E++)a=s[E],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!c&&g[x]&&x++,g[x]={s:new jd,p:y},g[x].s.curves=a.curves,c&&x++,v[x]=[]):v[x].push({h:a,p:y[0]});if(!g[0])return n(s);if(g.length>1){let E=!1,w=0;for(let M=0,C=g.length;M<C;M++)h[M]=[];for(let M=0,C=g.length;M<C;M++){const R=v[M];for(let O=0;O<R.length;O++){const k=R[O];let P=!0;for(let z=0;z<g.length;z++)r(k.p,g[z].p)&&(M!==z&&w++,P?(P=!1,h[z].push(k)):E=!0);P&&h[M].push(k)}}w>0&&E===!1&&(v=h)}let _;for(let E=0,w=g.length;E<w;E++){l=g[E].s,u.push(l),_=v[E];for(let M=0,C=_.length;M<C;M++)l.holes.push(_[M].h)}return u}}const iu=fQ();function fQ(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function dQ(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Hr(t,-65504,65504),iu.floatView[0]=t;const e=iu.uint32View[0],n=e>>23&511;return iu.baseTable[n]+((e&8388607)>>iu.shiftTable[n])}function hQ(t){const e=t>>10;return iu.uint32View[0]=iu.mantissaTable[iu.offsetTable[e]+(t&1023)]+iu.exponentTable[e],iu.floatView[0]}var pQ=Object.freeze({__proto__:null,toHalfFloat:dQ,fromHalfFloat:hQ});function mQ(){console.error("THREE.ImmediateRenderObject has been removed.")}class o7 extends Dn{constructor(e,n,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,n,r),this.samples=4}}class gQ extends a1{constructor(e,n,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,n,r,i)}}class vQ extends $2{constructor(e,n,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,n,r,i)}}class yQ extends Ou{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class xQ extends f1{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class _Q extends d1{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class wQ extends h1{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class EQ extends mh{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class SQ extends p1{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class AQ extends eg{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class MQ extends m1{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class bQ extends Jm{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class TQ extends tg{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class CQ extends $m{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class PQ extends Lu{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class RQ extends g1{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class DQ extends v1{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class IQ extends gh{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class OQ extends y1{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class LQ extends x1{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class kQ extends _1{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class NQ extends w1{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Du}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Du);const lh=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:WM,AddEquation:bd,AddOperation:LO,AdditiveAnimationBlendMode:KM,AdditiveBlending:Y_,AlphaFormat:GO,AlwaysDepth:UM,AlwaysStencilFunc:nL,AmbientLight:KL,AmbientLightProbe:AY,AnimationClip:Uv,AnimationLoader:dY,AnimationMixer:VY,AnimationObjectGroup:UY,AnimationUtils:lY,ArcCurve:AL,ArrayCamera:mL,ArrowHelper:uQ,Audio:t7,AudioAnalyser:RY,AudioContext:Sb,AudioListener:TY,AudioLoader:EY,AxesHelper:cQ,BackSide:Di,BasicDepthPacking:bo,BasicShadowMap:_O,Bone:ob,BooleanKeyframeTrack:vh,Box2:XY,Box3:cf,Box3Helper:aQ,BoxBufferGeometry:yQ,BoxGeometry:Ou,BoxHelper:oQ,BufferAttribute:An,BufferGeometry:Jt,BufferGeometryLoader:e7,ByteType:FO,Cache:ah,Camera:Km,CameraHelper:sQ,CanvasTexture:Ij,CapsuleBufferGeometry:xQ,CapsuleGeometry:f1,CatmullRomCurve3:ML,CineonToneMapping:zO,CircleBufferGeometry:_Q,CircleGeometry:d1,ClampToEdgeWrapping:us,Clock:Ab,Color:tt,ColorKeyframeTrack:wb,ColorManagement:as,CompressedArrayTexture:Dj,CompressedTexture:lb,CompressedTextureLoader:hY,ConeBufferGeometry:wQ,ConeGeometry:h1,CubeCamera:aL,CubeReflectionMapping:Xc,CubeRefractionMapping:Kc,CubeTexture:u1,CubeTextureLoader:pY,CubeUVReflectionMapping:Qm,CubicBezierCurve:cb,CubicBezierCurve3:bL,CubicInterpolant:qL,CullFaceBack:nA,CullFaceFront:xO,CullFaceFrontBack:kU,CullFaceNone:yO,Curve:Ha,CurvePath:CL,CustomBlending:wO,CustomToneMapping:BO,CylinderBufferGeometry:EQ,CylinderGeometry:mh,Cylindrical:QY,Data3DTexture:$2,DataArrayTexture:a1,DataTexture:Wd,DataTexture2DArray:gQ,DataTexture3D:vQ,DataTextureLoader:mY,DataUtils:pQ,DecrementStencilOp:YU,DecrementWrapStencilOp:XU,DefaultLoadingManager:WL,DepthFormat:Gc,DepthStencilFormat:Zc,DepthTexture:c1,DirectionalLight:XL,DirectionalLightHelper:iQ,DiscreteInterpolant:VL,DodecahedronBufferGeometry:SQ,DodecahedronGeometry:p1,DoubleSide:Dc,DstAlphaFactor:CO,DstColorFactor:RO,DynamicCopyUsage:cH,DynamicDrawUsage:iH,DynamicReadUsage:aH,EdgesGeometry:mb,EllipseCurve:s3,EqualDepth:HM,EqualStencilFunc:JU,EquirectangularReflectionMapping:Mv,EquirectangularRefractionMapping:bv,Euler:Xm,EventDispatcher:Do,ExtrudeBufferGeometry:AQ,ExtrudeGeometry:eg,FileLoader:_l,Float16BufferAttribute:GH,Float32BufferAttribute:yt,Float64BufferAttribute:WH,FloatType:Ia,Fog:n3,FogExp2:t3,FramebufferTexture:Rj,FrontSide:Mu,Frustum:J2,GLBufferAttribute:YY,GLSL1:dH,GLSL3:CA,GreaterDepth:VM,GreaterEqualDepth:qM,GreaterEqualStencilFunc:rH,GreaterStencilFunc:tH,GridHelper:nQ,Group:lm,HalfFloatType:$c,HemisphereLight:jL,HemisphereLightHelper:tQ,HemisphereLightProbe:SY,IcosahedronBufferGeometry:MQ,IcosahedronGeometry:m1,ImageBitmapLoader:wY,ImageLoader:Hv,ImageUtils:ZM,ImmediateRenderObject:mQ,IncrementStencilOp:jU,IncrementWrapStencilOp:QU,InstancedBufferAttribute:Im,InstancedBufferGeometry:JL,InstancedInterleavedBuffer:jY,InstancedMesh:wL,Int16BufferAttribute:qH,Int32BufferAttribute:VH,Int8BufferAttribute:FH,IntType:HO,InterleavedBuffer:r3,InterleavedBufferAttribute:sh,Interpolant:E1,InterpolateDiscrete:Cv,InterpolateLinear:Pv,InterpolateSmooth:l_,InvertStencilOp:KU,KeepStencilOp:u_,KeyframeTrack:qa,LOD:xL,LatheBufferGeometry:bQ,LatheGeometry:Jm,Layers:Wc,LessDepth:Q_,LessEqualDepth:Av,LessEqualStencilFunc:eH,LessStencilFunc:ZU,Light:df,LightProbe:l3,Line:Jc,Line3:KY,LineBasicMaterial:Ns,LineCurve:o3,LineCurve3:TL,LineDashedMaterial:UL,LineLoop:EL,LineSegments:Sl,LinearEncoding:Fa,LinearFilter:zn,LinearInterpolant:_b,LinearMipMapLinearFilter:FU,LinearMipMapNearestFilter:BU,LinearMipmapLinearFilter:bu,LinearMipmapNearestFilter:jM,LinearSRGBColorSpace:Pm,LinearToneMapping:kO,Loader:zs,LoaderUtils:NA,LoadingManager:S1,LoopOnce:$O,LoopPingPong:JO,LoopRepeat:ZO,LuminanceAlphaFormat:jO,LuminanceFormat:X2,MOUSE:Ed,Material:gi,MaterialLoader:u3,MathUtils:ih,Matrix3:Ps,Matrix4:Xt,MaxEquation:oA,Mesh:di,MeshBasicMaterial:Iu,MeshDepthMaterial:nb,MeshDistanceMaterial:rb,MeshLambertMaterial:BL,MeshMatcapMaterial:FL,MeshNormalMaterial:vb,MeshPhongMaterial:NL,MeshPhysicalMaterial:kL,MeshStandardMaterial:gb,MeshToonMaterial:zL,MinEquation:sA,MirroredRepeatWrapping:Tv,MixOperation:OO,MultiplyBlending:iA,MultiplyOperation:o1,NearestFilter:Rn,NearestMipMapLinearFilter:zU,NearestMipMapNearestFilter:NU,NearestMipmapLinearFilter:Q0,NearestMipmapNearestFilter:X_,NeverDepth:FM,NeverStencilFunc:$U,NoBlending:qr,NoColorSpace:VU,NoToneMapping:Na,NormalAnimationBlendMode:K2,NormalBlending:qd,NotEqualDepth:GM,NotEqualStencilFunc:nH,NumberKeyframeTrack:Bv,Object3D:Cn,ObjectLoader:xY,ObjectSpaceNormalMap:tL,OctahedronBufferGeometry:TQ,OctahedronGeometry:tg,OneFactor:MO,OneMinusDstAlphaFactor:PO,OneMinusDstColorFactor:DO,OneMinusSrcAlphaFactor:BM,OneMinusSrcColorFactor:TO,OrthographicCamera:jc,PCFShadowMap:Y2,PCFSoftShadowMap:Y0,PMREMGenerator:RA,Path:Lv,PerspectiveCamera:Zn,Plane:Ac,PlaneBufferGeometry:CQ,PlaneGeometry:$m,PlaneHelper:lQ,PointLight:QL,PointLightHelper:JY,Points:SL,PointsMaterial:ab,PolarGridHelper:rQ,PolyhedronBufferGeometry:PQ,PolyhedronGeometry:Lu,PositionalAudio:PY,PropertyBinding:_n,PropertyMixer:n7,QuadraticBezierCurve:fb,QuadraticBezierCurve3:db,Quaternion:ds,QuaternionKeyframeTrack:ng,QuaternionLinearInterpolant:GL,REVISION:Du,RGBADepthPacking:eL,RGBAFormat:cs,RGBAIntegerFormat:XO,RGBA_ASTC_10x10_Format:AA,RGBA_ASTC_10x5_Format:wA,RGBA_ASTC_10x6_Format:EA,RGBA_ASTC_10x8_Format:SA,RGBA_ASTC_12x10_Format:MA,RGBA_ASTC_12x12_Format:bA,RGBA_ASTC_4x4_Format:hA,RGBA_ASTC_5x4_Format:pA,RGBA_ASTC_5x5_Format:mA,RGBA_ASTC_6x5_Format:gA,RGBA_ASTC_6x6_Format:vA,RGBA_ASTC_8x5_Format:yA,RGBA_ASTC_8x6_Format:xA,RGBA_ASTC_8x8_Format:_A,RGBA_BPTC_Format:TA,RGBA_ETC2_EAC_Format:dA,RGBA_PVRTC_2BPPV1_Format:cA,RGBA_PVRTC_4BPPV1_Format:uA,RGBA_S3TC_DXT1_Format:s_,RGBA_S3TC_DXT3_Format:o_,RGBA_S3TC_DXT5_Format:a_,RGBFormat:WO,RGB_ETC1_Format:KO,RGB_ETC2_Format:fA,RGB_PVRTC_2BPPV1_Format:lA,RGB_PVRTC_4BPPV1_Format:aA,RGB_S3TC_DXT1_Format:i_,RGFormat:XM,RGIntegerFormat:QO,RawShaderMaterial:LL,Ray:l1,Raycaster:r7,RectAreaLight:$L,RedFormat:QM,RedIntegerFormat:YO,ReinhardToneMapping:NO,RepeatWrapping:Cm,ReplaceStencilOp:WU,ReverseSubtractEquation:SO,RingBufferGeometry:RQ,RingGeometry:g1,SRGBColorSpace:Ca,Scene:Dm,ShaderChunk:rn,ShaderLib:Ra,ShaderMaterial:ar,ShadowMaterial:OL,Shape:jd,ShapeBufferGeometry:DQ,ShapeGeometry:v1,ShapePath:s7,ShapeUtils:vl,ShortType:UO,Skeleton:i3,SkeletonHelper:ZY,SkinnedMesh:_L,Source:Ld,Sphere:ff,SphereBufferGeometry:IQ,SphereGeometry:gh,Spherical:Z_,SphericalHarmonics3:ZL,SplineCurve:hb,SpotLight:YL,SpotLightHelper:$Y,Sprite:yL,SpriteMaterial:sb,SrcAlphaFactor:zM,SrcAlphaSaturateFactor:IO,SrcColorFactor:bO,StaticCopyUsage:uH,StaticDrawUsage:Dv,StaticReadUsage:oH,StereoCamera:MY,StreamCopyUsage:fH,StreamDrawUsage:sH,StreamReadUsage:lH,StringKeyframeTrack:yh,SubtractEquation:EO,SubtractiveBlending:rA,TOUCH:Sd,TangentSpaceNormalMap:uf,TetrahedronBufferGeometry:OQ,TetrahedronGeometry:y1,Texture:Xn,TextureLoader:A1,TorusBufferGeometry:LQ,TorusGeometry:x1,TorusKnotBufferGeometry:kQ,TorusKnotGeometry:_1,Triangle:$o,TriangleFanDrawMode:qU,TriangleStripDrawMode:HU,TrianglesDrawMode:UU,TubeBufferGeometry:NQ,TubeGeometry:w1,TwoPassDoubleSide:O0,UVMapping:Q2,Uint16BufferAttribute:JM,Uint32BufferAttribute:eb,Uint8BufferAttribute:UH,Uint8ClampedBufferAttribute:HH,Uniform:Ge,UniformsGroup:WY,UniformsLib:nt,UniformsUtils:Z2,UnsignedByteType:Li,UnsignedInt248Type:Vc,UnsignedIntType:du,UnsignedShort4444Type:qO,UnsignedShort5551Type:VO,UnsignedShortType:YM,VSMShadowMap:Dd,Vector2:xe,Vector3:j,Vector4:En,VectorKeyframeTrack:Fv,VideoTexture:Pj,WebGL1Renderer:gL,WebGL3DRenderTarget:PH,WebGLArrayRenderTarget:CH,WebGLCubeRenderTarget:lL,WebGLMultipleRenderTargets:RH,WebGLMultisampleRenderTarget:o7,WebGLRenderTarget:Dn,WebGLRenderer:ib,WebGLUtils:pL,WireframeGeometry:IL,WrapAroundEnding:Rv,ZeroCurvatureEnding:Id,ZeroFactor:AO,ZeroSlopeEnding:Od,ZeroStencilOp:GU,_SRGBAFormat:K_,sRGBEncoding:Rt},Symbol.toStringTag,{value:"Module"}));var Ic={},zQ={get exports(){return Ic},set exports(t){Ic=t}},xh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */xh.ConcurrentRoot=1;xh.ContinuousEventPriority=4;xh.DefaultEventPriority=16;xh.DiscreteEventPriority=1;xh.IdleEventPriority=536870912;xh.LegacyRoot=0;(function(t){t.exports=xh})(zQ);function BQ(t){let e;const n=new Set,r=(u,c)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const g=e;e=c?h:Object.assign({},e,h),n.forEach(v=>v(e,g))}},i=()=>e,s=(u,c=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=c(e);function v(){const x=c(e);if(!h(g,x)){const y=g;u(g=x,y)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(u,c,h)=>c||h?s(u,c,h):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const FQ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),H6=FQ?b.useEffect:b.useLayoutEffect;function a7(t){const e=typeof t=="function"?BQ(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=b.useReducer(_=>_+1,0),o=e.getState(),a=b.useRef(o),l=b.useRef(r),u=b.useRef(i),c=b.useRef(!1),h=b.useRef();h.current===void 0&&(h.current=r(o));let g,v=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(g=r(o),v=!i(h.current,g)),H6(()=>{v&&(h.current=g),a.current=o,l.current=r,u.current=i,c.current=!1});const x=b.useRef(o);H6(()=>{const _=()=>{try{const w=e.getState(),M=l.current(w);u.current(h.current,M)||(a.current=w,h.current=M,s())}catch{c.current=!0,s()}},E=e.subscribe(_);return e.getState()!==x.current&&_(),E},[]);const y=v?g:h.current;return b.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var BA={},UQ={get exports(){return BA},set exports(t){BA=t}},qv={},HQ={get exports(){return qv},set exports(t){qv=t}},l7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,te){var re=G.length;G.push(te);e:for(;0<re;){var V=re-1>>>1,J=G[V];if(0<i(J,te))G[V]=te,G[re]=J,re=V;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],re=G.pop();if(re!==te){G[0]=re;e:for(var V=0,J=G.length,he=J>>>1;V<he;){var we=2*(V+1)-1,be=G[we],pe=we+1,Ke=G[pe];if(0>i(be,re))pe<J&&0>i(Ke,be)?(G[V]=Ke,G[pe]=re,V=pe):(G[V]=be,G[we]=re,V=we);else if(pe<J&&0>i(Ke,re))G[V]=Ke,G[pe]=re,V=pe;else break e}}return te}function i(G,te){var re=G.sortIndex-te.sortIndex;return re!==0?re:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,g=3,v=!1,x=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=G)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function C(G){if(y=!1,M(G),!x)if(n(l)!==null)x=!0,se(R);else{var te=n(u);te!==null&&de(C,te.startTime-G)}}function R(G,te){x=!1,y&&(y=!1,E(P),P=-1),v=!0;var re=g;try{for(M(te),h=n(l);h!==null&&(!(h.expirationTime>te)||G&&!q());){var V=h.callback;if(typeof V=="function"){h.callback=null,g=h.priorityLevel;var J=V(h.expirationTime<=te);te=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),M(te)}else r(l);h=n(l)}if(h!==null)var he=!0;else{var we=n(u);we!==null&&de(C,we.startTime-te),he=!1}return he}finally{h=null,g=re,v=!1}}var O=!1,k=null,P=-1,z=5,B=-1;function q(){return!(t.unstable_now()-B<z)}function Q(){if(k!==null){var G=t.unstable_now();B=G;var te=!0;try{te=k(!0,G)}finally{te?W():(O=!1,k=null)}}else O=!1}var W;if(typeof w=="function")W=function(){w(Q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=Q,W=function(){ne.postMessage(null)}}else W=function(){_(Q,0)};function se(G){k=G,O||(O=!0,W())}function de(G,te){P=_(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,se(R))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var re=g;g=te;try{return G()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=g;g=G;try{return te()}finally{g=re}},t.unstable_scheduleCallback=function(G,te,re){var V=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,G={id:c++,callback:te,priorityLevel:G,startTime:re,expirationTime:J,sortIndex:-1},re>V?(G.sortIndex=re,e(u,G),n(l)===null&&G===n(u)&&(y?(E(P),P=-1):y=!0,de(C,re-V))):(G.sortIndex=J,e(l,G),x||v||(x=!0,se(R))),G},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(G){var te=g;return function(){var re=g;g=te;try{return G.apply(this,arguments)}finally{g=re}}}})(l7);(function(t){t.exports=l7})(HQ);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qQ=function(e){var n={},r=b,i=qv,s=Object.assign;function o(f){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+f,A=1;A<arguments.length;A++)d+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),R=Symbol.iterator;function O(f){return f===null||typeof f!="object"?null:(f=R&&f[R]||f["@@iterator"],typeof f=="function"?f:null)}function k(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case u:return"Portal";case g:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case E:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case x:return(f.displayName||"Context")+".Consumer";case v:return(f._context.displayName||"Context")+".Provider";case y:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case w:return d=f.displayName||null,d!==null?d:k(f.type)||"Memo";case M:d=f._payload,f=f._init;try{return k(f(d))}catch{}}return null}function P(f){var d=f.type;switch(f.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=d.render,f=f.displayName||f.name||"",d.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function z(f){var d=f,A=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,d.flags&4098&&(A=d.return),f=d.return;while(f)}return d.tag===3?A:null}function B(f){if(z(f)!==f)throw Error(o(188))}function q(f){var d=f.alternate;if(!d){if(d=z(f),d===null)throw Error(o(188));return d!==f?null:f}for(var A=f,T=d;;){var D=A.return;if(D===null)break;var N=D.alternate;if(N===null){if(T=D.return,T!==null){A=T;continue}break}if(D.child===N.child){for(N=D.child;N;){if(N===A)return B(D),f;if(N===T)return B(D),d;N=N.sibling}throw Error(o(188))}if(A.return!==T.return)A=D,T=N;else{for(var $=!1,ue=D.child;ue;){if(ue===A){$=!0,A=D,T=N;break}if(ue===T){$=!0,T=D,A=N;break}ue=ue.sibling}if(!$){for(ue=N.child;ue;){if(ue===A){$=!0,A=N,T=D;break}if(ue===T){$=!0,T=N,A=D;break}ue=ue.sibling}if(!$)throw Error(o(189))}}if(A.alternate!==T)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?f:d}function Q(f){return f=q(f),f!==null?W(f):null}function W(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var d=W(f);if(d!==null)return d;f=f.sibling}return null}function X(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var d=X(f);if(d!==null)return d}f=f.sibling}return null}var ne=Array.isArray,se=e.getPublicInstance,de=e.getRootHostContext,G=e.getChildHostContext,te=e.prepareForCommit,re=e.resetAfterCommit,V=e.createInstance,J=e.appendInitialChild,he=e.finalizeInitialChildren,we=e.prepareUpdate,be=e.shouldSetTextContent,pe=e.createTextInstance,Ke=e.scheduleTimeout,We=e.cancelTimeout,rt=e.noTimeout,Qe=e.isPrimaryRenderer,ut=e.supportsMutation,Pe=e.supportsPersistence,ye=e.supportsHydration,De=e.getInstanceFromNode,Je=e.preparePortalMount,He=e.getCurrentEventPriority,St=e.detachDeletedInstance,gt=e.supportsMicrotasks,ft=e.scheduleMicrotask,Lt=e.supportsTestSelectors,qt=e.findFiberRoot,Z=e.getBoundingRect,U=e.getTextContent,ae=e.isHiddenSubtree,Ee=e.matchAccessibilityRole,ze=e.setFocusIfFocusable,qe=e.setupIntersectionObserver,xt=e.appendChild,$e=e.appendChildToContainer,Le=e.commitTextUpdate,mt=e.commitMount,ie=e.commitUpdate,Se=e.insertBefore,Ue=e.insertInContainerBefore,Ye=e.removeChild,wt=e.removeChildFromContainer,Gt=e.resetTextContent,In=e.hideInstance,le=e.hideTextInstance,Te=e.unhideInstance,Fe=e.unhideTextInstance,at=e.clearContainer,_t=e.cloneInstance,vn=e.createContainerChildSet,tr=e.appendChildToContainerChildSet,Vr=e.finalizeContainerChildren,so=e.replaceContainerChildren,Pn=e.cloneHiddenInstance,Us=e.cloneHiddenTextInstance,ki=e.canHydrateInstance,yf=e.canHydrateTextInstance,Mh=e.canHydrateSuspenseInstance,bh=e.isSuspenseInstancePending,xf=e.isSuspenseInstanceFallback,Y=e.registerSuspenseInstanceRetry,ge=e.getNextHydratableSibling,Ie=e.getFirstHydratableChild,me=e.getFirstHydratableChildWithinContainer,ke=e.getFirstHydratableChildWithinSuspenseInstance,bt=e.hydrateInstance,Ft=e.hydrateTextInstance,jt=e.hydrateSuspenseInstance,Zt=e.getNextHydratableInstanceAfterSuspenseInstance,on=e.commitHydratedContainer,Kt=e.commitHydratedSuspenseInstance,en=e.clearSuspenseBoundary,Gn=e.clearSuspenseBoundaryFromContainer,$r=e.shouldDeleteUnhydratedTailInstances,vi=e.didNotMatchHydratedContainerTextInstance,yi=e.didNotMatchHydratedTextInstance,kt;function vt(f){if(kt===void 0)try{throw Error()}catch(A){var d=A.stack.trim().match(/\n( *(at )?)/);kt=d&&d[1]||""}return`
`+kt+f}var $i=!1;function an(f,d){if(!f||$i)return"";$i=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Xe){var T=Xe}Reflect.construct(f,[],d)}else{try{d.call()}catch(Xe){T=Xe}f.call(d.prototype)}else{try{throw Error()}catch(Xe){T=Xe}f()}}catch(Xe){if(Xe&&T&&typeof Xe.stack=="string"){for(var D=Xe.stack.split(`
`),N=T.stack.split(`
`),$=D.length-1,ue=N.length-1;1<=$&&0<=ue&&D[$]!==N[ue];)ue--;for(;1<=$&&0<=ue;$--,ue--)if(D[$]!==N[ue]){if($!==1||ue!==1)do if($--,ue--,0>ue||D[$]!==N[ue]){var Re=`
`+D[$].replace(" at new "," at ");return f.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",f.displayName)),Re}while(1<=$&&0<=ue);break}}}finally{$i=!1,Error.prepareStackTrace=A}return(f=f?f.displayName||f.name:"")?vt(f):""}var lr=Object.prototype.hasOwnProperty,Hs=[],Zr=-1;function Wn(f){return{current:f}}function Ut(f){0>Zr||(f.current=Hs[Zr],Hs[Zr]=null,Zr--)}function cn(f,d){Zr++,Hs[Zr]=f.current,f.current=d}var gs={},yn=Wn(gs),Or=Wn(!1),oo=gs;function Ni(f,d){var A=f.type.contextTypes;if(!A)return gs;var T=f.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var D={},N;for(N in A)D[N]=d[N];return T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=d,f.__reactInternalMemoizedMaskedChildContext=D),D}function Zi(f){return f=f.childContextTypes,f!=null}function Ml(){Ut(Or),Ut(yn)}function On(f,d,A){if(yn.current!==gs)throw Error(o(168));cn(yn,d),cn(Or,A)}function ja(f,d,A){var T=f.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return A;T=T.getChildContext();for(var D in T)if(!(D in d))throw Error(o(108,P(f)||"Unknown",D));return s({},A,T)}function Th(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||gs,oo=yn.current,cn(yn,f),cn(Or,Or.current),!0}function j1(f,d,A){var T=f.stateNode;if(!T)throw Error(o(169));A?(f=ja(f,d,oo),T.__reactInternalMemoizedMergedChildContext=f,Ut(Or),Ut(yn),cn(yn,f)):Ut(Or),cn(Or,A)}var zi=Math.clz32?Math.clz32:Fu,Y1=Math.log,Ch=Math.LN2;function Fu(f){return f>>>=0,f===0?32:31-(Y1(f)/Ch|0)|0}var Uu=64,bl=4194304;function qs(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Ph(f,d){var A=f.pendingLanes;if(A===0)return 0;var T=0,D=f.suspendedLanes,N=f.pingedLanes,$=A&268435455;if($!==0){var ue=$&~D;ue!==0?T=qs(ue):(N&=$,N!==0&&(T=qs(N)))}else $=A&~D,$!==0?T=qs($):N!==0&&(T=qs(N));if(T===0)return 0;if(d!==0&&d!==T&&!(d&D)&&(D=T&-T,N=d&-d,D>=N||D===16&&(N&4194240)!==0))return d;if(T&4&&(T|=A&16),d=f.entangledLanes,d!==0)for(f=f.entanglements,d&=T;0<d;)A=31-zi(d),D=1<<A,T|=f[A],d&=~D;return T}function U3(f,d){switch(f){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H3(f,d){for(var A=f.suspendedLanes,T=f.pingedLanes,D=f.expirationTimes,N=f.pendingLanes;0<N;){var $=31-zi(N),ue=1<<$,Re=D[$];Re===-1?(!(ue&A)||ue&T)&&(D[$]=U3(ue,d)):Re<=d&&(f.expiredLanes|=ue),N&=~ue}}function yg(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function _f(f){for(var d=[],A=0;31>A;A++)d.push(f);return d}function Tl(f,d,A){f.pendingLanes|=d,d!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,d=31-zi(d),f[d]=A}function q3(f,d){var A=f.pendingLanes&~d;f.pendingLanes=d,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=d,f.mutableReadLanes&=d,f.entangledLanes&=d,d=f.entanglements;var T=f.eventTimes;for(f=f.expirationTimes;0<A;){var D=31-zi(A),N=1<<D;d[D]=0,T[D]=-1,f[D]=-1,A&=~N}}function Rh(f,d){var A=f.entangledLanes|=d;for(f=f.entanglements;A;){var T=31-zi(A),D=1<<T;D&d|f[T]&d&&(f[T]|=d),A&=~D}}var dn=0;function Q1(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Hu=i.unstable_scheduleCallback,xg=i.unstable_cancelCallback,X1=i.unstable_shouldYield,K1=i.unstable_requestPaint,Lr=i.unstable_now,wf=i.unstable_ImmediatePriority,V3=i.unstable_UserBlockingPriority,ao=i.unstable_NormalPriority,Dh=i.unstable_IdlePriority,qu=null,lo=null;function Jr(f){if(lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(qu,f,void 0,(f.current.flags&128)===128)}catch{}}function Vu(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var uo=typeof Object.is=="function"?Object.is:Vu,ei=null,Ya=!1,Ji=!1;function _g(f){ei===null?ei=[f]:ei.push(f)}function G3(f){Ya=!0,_g(f)}function Oo(){if(!Ji&&ei!==null){Ji=!0;var f=0,d=dn;try{var A=ei;for(dn=1;f<A.length;f++){var T=A[f];do T=T(!0);while(T!==null)}ei=null,Ya=!1}catch(D){throw ei!==null&&(ei=ei.slice(f+1)),Hu(wf,Oo),D}finally{dn=d,Ji=!1}}return null}var Vs=a.ReactCurrentBatchConfig;function Ih(f,d){if(uo(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var A=Object.keys(f),T=Object.keys(d);if(A.length!==T.length)return!1;for(T=0;T<A.length;T++){var D=A[T];if(!lr.call(d,D)||!uo(f[D],d[D]))return!1}return!0}function Oh(f){switch(f.tag){case 5:return vt(f.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 2:case 15:return f=an(f.type,!1),f;case 11:return f=an(f.type.render,!1),f;case 1:return f=an(f.type,!0),f;default:return""}}function co(f,d){if(f&&f.defaultProps){d=s({},d),f=f.defaultProps;for(var A in f)d[A]===void 0&&(d[A]=f[A]);return d}return d}var es=Wn(null),Cl=null,ua=null,Qa=null;function Gu(){Qa=ua=Cl=null}function Lh(f,d,A){Qe?(cn(es,d._currentValue),d._currentValue=A):(cn(es,d._currentValue2),d._currentValue2=A)}function kh(f){var d=es.current;Ut(es),Qe?f._currentValue=d:f._currentValue2=d}function Ef(f,d,A){for(;f!==null;){var T=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),f===A)break;f=f.return}}function Pl(f,d){Cl=f,Qa=ua=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&d&&(Vi=!0),f.firstContext=null)}function ti(f){var d=Qe?f._currentValue:f._currentValue2;if(Qa!==f)if(f={context:f,memoizedValue:d,next:null},ua===null){if(Cl===null)throw Error(o(308));ua=f,Cl.dependencies={lanes:0,firstContext:f}}else ua=ua.next=f;return d}var dr=null,Bi=!1;function Sf(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wg(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function xi(f,d){return{eventTime:f,lane:d,tag:0,payload:null,callback:null,next:null}}function Fi(f,d){var A=f.updateQueue;A!==null&&(A=A.shared,pr!==null&&f.mode&1&&!($t&2)?(f=A.interleaved,f===null?(d.next=d,dr===null?dr=[A]:dr.push(A)):(d.next=f.next,f.next=d),A.interleaved=d):(f=A.pending,f===null?d.next=d:(d.next=f.next,f.next=d),A.pending=d))}function Af(f,d,A){if(d=d.updateQueue,d!==null&&(d=d.shared,(A&4194240)!==0)){var T=d.lanes;T&=f.pendingLanes,A|=T,d.lanes=A,Rh(f,A)}}function Wu(f,d){var A=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,A===T)){var D=null,N=null;if(A=A.firstBaseUpdate,A!==null){do{var $={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};N===null?D=N=$:N=N.next=$,A=A.next}while(A!==null);N===null?D=N=d:N=N.next=d}else D=N=d;A={baseState:T.baseState,firstBaseUpdate:D,lastBaseUpdate:N,shared:T.shared,effects:T.effects},f.updateQueue=A;return}f=A.lastBaseUpdate,f===null?A.firstBaseUpdate=d:f.next=d,A.lastBaseUpdate=d}function Mf(f,d,A,T){var D=f.updateQueue;Bi=!1;var N=D.firstBaseUpdate,$=D.lastBaseUpdate,ue=D.shared.pending;if(ue!==null){D.shared.pending=null;var Re=ue,Xe=Re.next;Re.next=null,$===null?N=Xe:$.next=Xe,$=Re;var ht=f.alternate;ht!==null&&(ht=ht.updateQueue,ue=ht.lastBaseUpdate,ue!==$&&(ue===null?ht.firstBaseUpdate=Xe:ue.next=Xe,ht.lastBaseUpdate=Re))}if(N!==null){var Yt=D.baseState;$=0,ht=Xe=Re=null,ue=N;do{var Ct=ue.lane,jn=ue.eventTime;if((T&Ct)===Ct){ht!==null&&(ht=ht.next={eventTime:jn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var At=f,rs=ue;switch(Ct=d,jn=A,rs.tag){case 1:if(At=rs.payload,typeof At=="function"){Yt=At.call(jn,Yt,Ct);break e}Yt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=rs.payload,Ct=typeof At=="function"?At.call(jn,Yt,Ct):At,Ct==null)break e;Yt=s({},Yt,Ct);break e;case 2:Bi=!0}}ue.callback!==null&&ue.lane!==0&&(f.flags|=64,Ct=D.effects,Ct===null?D.effects=[ue]:Ct.push(ue))}else jn={eventTime:jn,lane:Ct,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ht===null?(Xe=ht=jn,Re=Yt):ht=ht.next=jn,$|=Ct;if(ue=ue.next,ue===null){if(ue=D.shared.pending,ue===null)break;Ct=ue,ue=Ct.next,Ct.next=null,D.lastBaseUpdate=Ct,D.shared.pending=null}}while(1);if(ht===null&&(Re=Yt),D.baseState=Re,D.firstBaseUpdate=Xe,D.lastBaseUpdate=ht,d=D.shared.interleaved,d!==null){D=d;do $|=D.lane,D=D.next;while(D!==d)}else N===null&&(D.shared.lanes=0);lc|=$,f.lanes=$,f.memoizedState=Yt}}function Eg(f,d,A){if(f=d.effects,d.effects=null,f!==null)for(d=0;d<f.length;d++){var T=f[d],D=T.callback;if(D!==null){if(T.callback=null,T=A,typeof D!="function")throw Error(o(191,D));D.call(T)}}}var bf=new r.Component().refs;function ju(f,d,A,T){d=f.memoizedState,A=A(T,d),A=A==null?d:s({},d,A),f.memoizedState=A,f.lanes===0&&(f.updateQueue.baseState=A)}var Tf={isMounted:function(f){return(f=f._reactInternals)?z(f)===f:!1},enqueueSetState:function(f,d,A){f=f._reactInternals;var T=Wi(),D=Br(f),N=xi(T,D);N.payload=d,A!=null&&(N.callback=A),Fi(f,N),d=ns(f,D,T),d!==null&&Af(d,f,D)},enqueueReplaceState:function(f,d,A){f=f._reactInternals;var T=Wi(),D=Br(f),N=xi(T,D);N.tag=1,N.payload=d,A!=null&&(N.callback=A),Fi(f,N),d=ns(f,D,T),d!==null&&Af(d,f,D)},enqueueForceUpdate:function(f,d){f=f._reactInternals;var A=Wi(),T=Br(f),D=xi(A,T);D.tag=2,d!=null&&(D.callback=d),Fi(f,D),d=ns(f,T,A),d!==null&&Af(d,f,T)}};function Sg(f,d,A,T,D,N,$){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,N,$):d.prototype&&d.prototype.isPureReactComponent?!Ih(A,T)||!Ih(D,N):!0}function Ag(f,d,A){var T=!1,D=gs,N=d.contextType;return typeof N=="object"&&N!==null?N=ti(N):(D=Zi(d)?oo:yn.current,T=d.contextTypes,N=(T=T!=null)?Ni(f,D):gs),d=new d(A,N),f.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Tf,f.stateNode=d,d._reactInternals=f,T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=D,f.__reactInternalMemoizedMaskedChildContext=N),d}function Nh(f,d,A,T){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(A,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(A,T),d.state!==f&&Tf.enqueueReplaceState(d,d.state,null)}function Yu(f,d,A,T){var D=f.stateNode;D.props=A,D.state=f.memoizedState,D.refs=bf,Sf(f);var N=d.contextType;typeof N=="object"&&N!==null?D.context=ti(N):(N=Zi(d)?oo:yn.current,D.context=Ni(f,N)),D.state=f.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(ju(f,d,N,A),D.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(d=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),d!==D.state&&Tf.enqueueReplaceState(D,D.state,null),Mf(f,A,D,T),D.state=f.memoizedState),typeof D.componentDidMount=="function"&&(f.flags|=4194308)}var Lo=[],ca=0,Cf=null,Rl=0,vs=[],_i=0,Gr=null,ys=1,ts="";function wi(f,d){Lo[ca++]=Rl,Lo[ca++]=Cf,Cf=f,Rl=d}function zh(f,d,A){vs[_i++]=ys,vs[_i++]=ts,vs[_i++]=Gr,Gr=f;var T=ys;f=ts;var D=32-zi(T)-1;T&=~(1<<D),A+=1;var N=32-zi(d)+D;if(30<N){var $=D-D%5;N=(T&(1<<$)-1).toString(32),T>>=$,D-=$,ys=1<<32-zi(d)+D|A<<D|T,ts=N+f}else ys=1<<N|A<<D|T,ts=f}function Xa(f){f.return!==null&&(wi(f,1),zh(f,1,0))}function Bh(f){for(;f===Cf;)Cf=Lo[--ca],Lo[ca]=null,Rl=Lo[--ca],Lo[ca]=null;for(;f===Gr;)Gr=vs[--_i],vs[_i]=null,ts=vs[--_i],vs[_i]=null,ys=vs[--_i],vs[_i]=null}var Ui=null,hn=null,Ln=!1,xs=!1,ni=null;function fo(f,d){var A=Ae(5,null,null,0);A.elementType="DELETED",A.stateNode=d,A.return=f,d=f.deletions,d===null?(f.deletions=[A],f.flags|=16):d.push(A)}function Mg(f,d){switch(f.tag){case 5:return d=ki(d,f.type,f.pendingProps),d!==null?(f.stateNode=d,Ui=f,hn=Ie(d),!0):!1;case 6:return d=yf(d,f.pendingProps),d!==null?(f.stateNode=d,Ui=f,hn=null,!0):!1;case 13:if(d=Mh(d),d!==null){var A=Gr!==null?{id:ys,overflow:ts}:null;return f.memoizedState={dehydrated:d,treeContext:A,retryLane:1073741824},A=Ae(18,null,null,0),A.stateNode=d,A.return=f,f.child=A,Ui=f,hn=null,!0}return!1;default:return!1}}function Fh(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Pf(f){if(Ln){var d=hn;if(d){var A=d;if(!Mg(f,d)){if(Fh(f))throw Error(o(418));d=ge(A);var T=Ui;d&&Mg(f,d)?fo(T,A):(f.flags=f.flags&-4097|2,Ln=!1,Ui=f)}}else{if(Fh(f))throw Error(o(418));f.flags=f.flags&-4097|2,Ln=!1,Ui=f}}}function bg(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Ui=f}function Ka(f){if(!ye||f!==Ui)return!1;if(!Ln)return bg(f),Ln=!0,!1;if(f.tag!==3&&(f.tag!==5||$r(f.type)&&!be(f.type,f.memoizedProps))){var d=hn;if(d){if(Fh(f)){for(f=hn;f;)f=ge(f);throw Error(o(418))}for(;d;)fo(f,d),d=ge(d)}}if(bg(f),f.tag===13){if(!ye)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));hn=Zt(f)}else hn=Ui?ge(f.stateNode):null;return!0}function $a(){ye&&(hn=Ui=null,xs=Ln=!1)}function Za(f){ni===null?ni=[f]:ni.push(f)}function Dl(f,d,A){if(f=A.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var T=A.stateNode}if(!T)throw Error(o(147,f));var D=T,N=""+f;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===N?d.ref:(d=function($){var ue=D.refs;ue===bf&&(ue=D.refs={}),$===null?delete ue[N]:ue[N]=$},d._stringRef=N,d)}if(typeof f!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,f))}return f}function Ja(f,d){throw f=Object.prototype.toString.call(d),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f))}function _s(f){var d=f._init;return d(f._payload)}function Qu(f){function d(_e,fe){if(f){var Ce=_e.deletions;Ce===null?(_e.deletions=[fe],_e.flags|=16):Ce.push(fe)}}function A(_e,fe){if(!f)return null;for(;fe!==null;)d(_e,fe),fe=fe.sibling;return null}function T(_e,fe){for(_e=new Map;fe!==null;)fe.key!==null?_e.set(fe.key,fe):_e.set(fe.index,fe),fe=fe.sibling;return _e}function D(_e,fe){return _e=xn(_e,fe),_e.index=0,_e.sibling=null,_e}function N(_e,fe,Ce){return _e.index=Ce,f?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<fe?(_e.flags|=2,fe):Ce):(_e.flags|=2,fe)):(_e.flags|=1048576,fe)}function $(_e){return f&&_e.alternate===null&&(_e.flags|=2),_e}function ue(_e,fe,Ce,ot){return fe===null||fe.tag!==6?(fe=un(Ce,_e.mode,ot),fe.return=_e,fe):(fe=D(fe,Ce),fe.return=_e,fe)}function Re(_e,fe,Ce,ot){var Et=Ce.type;return Et===c?ht(_e,fe,Ce.props.children,ot,Ce.key):fe!==null&&(fe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===M&&_s(Et)===fe.type)?(ot=D(fe,Ce.props),ot.ref=Dl(_e,fe,Ce),ot.return=_e,ot):(ot=Nt(Ce.type,Ce.key,Ce.props,null,_e.mode,ot),ot.ref=Dl(_e,fe,Ce),ot.return=_e,ot)}function Xe(_e,fe,Ce,ot){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Ce.containerInfo||fe.stateNode.implementation!==Ce.implementation?(fe=Vo(Ce,_e.mode,ot),fe.return=_e,fe):(fe=D(fe,Ce.children||[]),fe.return=_e,fe)}function ht(_e,fe,Ce,ot,Et){return fe===null||fe.tag!==7?(fe=ln(Ce,_e.mode,ot,Et),fe.return=_e,fe):(fe=D(fe,Ce),fe.return=_e,fe)}function Yt(_e,fe,Ce){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=un(""+fe,_e.mode,Ce),fe.return=_e,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return Ce=Nt(fe.type,fe.key,fe.props,null,_e.mode,Ce),Ce.ref=Dl(_e,null,fe),Ce.return=_e,Ce;case u:return fe=Vo(fe,_e.mode,Ce),fe.return=_e,fe;case M:var ot=fe._init;return Yt(_e,ot(fe._payload),Ce)}if(ne(fe)||O(fe))return fe=ln(fe,_e.mode,Ce,null),fe.return=_e,fe;Ja(_e,fe)}return null}function Ct(_e,fe,Ce,ot){var Et=fe!==null?fe.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Et!==null?null:ue(_e,fe,""+Ce,ot);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return Ce.key===Et?Re(_e,fe,Ce,ot):null;case u:return Ce.key===Et?Xe(_e,fe,Ce,ot):null;case M:return Et=Ce._init,Ct(_e,fe,Et(Ce._payload),ot)}if(ne(Ce)||O(Ce))return Et!==null?null:ht(_e,fe,Ce,ot,null);Ja(_e,Ce)}return null}function jn(_e,fe,Ce,ot,Et){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return _e=_e.get(Ce)||null,ue(fe,_e,""+ot,Et);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return _e=_e.get(ot.key===null?Ce:ot.key)||null,Re(fe,_e,ot,Et);case u:return _e=_e.get(ot.key===null?Ce:ot.key)||null,Xe(fe,_e,ot,Et);case M:var tn=ot._init;return jn(_e,fe,Ce,tn(ot._payload),Et)}if(ne(ot)||O(ot))return _e=_e.get(Ce)||null,ht(fe,_e,ot,Et,null);Ja(fe,ot)}return null}function At(_e,fe,Ce,ot){for(var Et=null,tn=null,Qt=fe,Mn=fe=0,Mi=null;Qt!==null&&Mn<Ce.length;Mn++){Qt.index>Mn?(Mi=Qt,Qt=null):Mi=Qt.sibling;var bn=Ct(_e,Qt,Ce[Mn],ot);if(bn===null){Qt===null&&(Qt=Mi);break}f&&Qt&&bn.alternate===null&&d(_e,Qt),fe=N(bn,fe,Mn),tn===null?Et=bn:tn.sibling=bn,tn=bn,Qt=Mi}if(Mn===Ce.length)return A(_e,Qt),Ln&&wi(_e,Mn),Et;if(Qt===null){for(;Mn<Ce.length;Mn++)Qt=Yt(_e,Ce[Mn],ot),Qt!==null&&(fe=N(Qt,fe,Mn),tn===null?Et=Qt:tn.sibling=Qt,tn=Qt);return Ln&&wi(_e,Mn),Et}for(Qt=T(_e,Qt);Mn<Ce.length;Mn++)Mi=jn(Qt,_e,Mn,Ce[Mn],ot),Mi!==null&&(f&&Mi.alternate!==null&&Qt.delete(Mi.key===null?Mn:Mi.key),fe=N(Mi,fe,Mn),tn===null?Et=Mi:tn.sibling=Mi,tn=Mi);return f&&Qt.forEach(function(uc){return d(_e,uc)}),Ln&&wi(_e,Mn),Et}function rs(_e,fe,Ce,ot){var Et=O(Ce);if(typeof Et!="function")throw Error(o(150));if(Ce=Et.call(Ce),Ce==null)throw Error(o(151));for(var tn=Et=null,Qt=fe,Mn=fe=0,Mi=null,bn=Ce.next();Qt!==null&&!bn.done;Mn++,bn=Ce.next()){Qt.index>Mn?(Mi=Qt,Qt=null):Mi=Qt.sibling;var uc=Ct(_e,Qt,bn.value,ot);if(uc===null){Qt===null&&(Qt=Mi);break}f&&Qt&&uc.alternate===null&&d(_e,Qt),fe=N(uc,fe,Mn),tn===null?Et=uc:tn.sibling=uc,tn=uc,Qt=Mi}if(bn.done)return A(_e,Qt),Ln&&wi(_e,Mn),Et;if(Qt===null){for(;!bn.done;Mn++,bn=Ce.next())bn=Yt(_e,bn.value,ot),bn!==null&&(fe=N(bn,fe,Mn),tn===null?Et=bn:tn.sibling=bn,tn=bn);return Ln&&wi(_e,Mn),Et}for(Qt=T(_e,Qt);!bn.done;Mn++,bn=Ce.next())bn=jn(Qt,_e,Mn,bn.value,ot),bn!==null&&(f&&bn.alternate!==null&&Qt.delete(bn.key===null?Mn:bn.key),fe=N(bn,fe,Mn),tn===null?Et=bn:tn.sibling=bn,tn=bn);return f&&Qt.forEach(function(o9){return d(_e,o9)}),Ln&&wi(_e,Mn),Et}function Go(_e,fe,Ce,ot){if(typeof Ce=="object"&&Ce!==null&&Ce.type===c&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:e:{for(var Et=Ce.key,tn=fe;tn!==null;){if(tn.key===Et){if(Et=Ce.type,Et===c){if(tn.tag===7){A(_e,tn.sibling),fe=D(tn,Ce.props.children),fe.return=_e,_e=fe;break e}}else if(tn.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===M&&_s(Et)===tn.type){A(_e,tn.sibling),fe=D(tn,Ce.props),fe.ref=Dl(_e,tn,Ce),fe.return=_e,_e=fe;break e}A(_e,tn);break}else d(_e,tn);tn=tn.sibling}Ce.type===c?(fe=ln(Ce.props.children,_e.mode,ot,Ce.key),fe.return=_e,_e=fe):(ot=Nt(Ce.type,Ce.key,Ce.props,null,_e.mode,ot),ot.ref=Dl(_e,fe,Ce),ot.return=_e,_e=ot)}return $(_e);case u:e:{for(tn=Ce.key;fe!==null;){if(fe.key===tn)if(fe.tag===4&&fe.stateNode.containerInfo===Ce.containerInfo&&fe.stateNode.implementation===Ce.implementation){A(_e,fe.sibling),fe=D(fe,Ce.children||[]),fe.return=_e,_e=fe;break e}else{A(_e,fe);break}else d(_e,fe);fe=fe.sibling}fe=Vo(Ce,_e.mode,ot),fe.return=_e,_e=fe}return $(_e);case M:return tn=Ce._init,Go(_e,fe,tn(Ce._payload),ot)}if(ne(Ce))return At(_e,fe,Ce,ot);if(O(Ce))return rs(_e,fe,Ce,ot);Ja(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,fe!==null&&fe.tag===6?(A(_e,fe.sibling),fe=D(fe,Ce),fe.return=_e,_e=fe):(A(_e,fe),fe=un(Ce,_e.mode,ot),fe.return=_e,_e=fe),$(_e)):A(_e,fe)}return Go}var Fn=Qu(!0),ri=Qu(!1),hr={},Hi=Wn(hr),fa=Wn(hr),kr=Wn(hr);function Gs(f){if(f===hr)throw Error(o(174));return f}function Rf(f,d){cn(kr,d),cn(fa,f),cn(Hi,hr),f=de(d),Ut(Hi),cn(Hi,f)}function Ws(){Ut(Hi),Ut(fa),Ut(kr)}function el(f){var d=Gs(kr.current),A=Gs(Hi.current);d=G(A,f.type,d),A!==d&&(cn(fa,f),cn(Hi,d))}function js(f){fa.current===f&&(Ut(Hi),Ut(fa))}var kn=Wn(0);function tl(f){for(var d=f;d!==null;){if(d.tag===13){var A=d.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||bh(A)||xf(A)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Uh=[];function Hh(){for(var f=0;f<Uh.length;f++){var d=Uh[f];Qe?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Uh.length=0}var Df=a.ReactCurrentDispatcher,Ei=a.ReactCurrentBatchConfig,da=0,nr=null,Nr=null,br=null,Xu=!1,Ku=!1,nl=0,$1=0;function ii(){throw Error(o(321))}function qh(f,d){if(d===null)return!1;for(var A=0;A<d.length&&A<f.length;A++)if(!uo(f[A],d[A]))return!1;return!0}function If(f,d,A,T,D,N){if(da=N,nr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Df.current=f===null||f.memoizedState===null?Bf:W3,f=A(T,D),Ku){N=0;do{if(Ku=!1,nl=0,25<=N)throw Error(o(301));N+=1,br=Nr=null,d.updateQueue=null,Df.current=j3,f=A(T,D)}while(Ku)}if(Df.current=zf,d=Nr!==null&&Nr.next!==null,da=0,br=Nr=nr=null,Xu=!1,d)throw Error(o(300));return f}function Vh(){var f=nl!==0;return nl=0,f}function ko(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?nr.memoizedState=br=f:br=br.next=f,br}function No(){if(Nr===null){var f=nr.alternate;f=f!==null?f.memoizedState:null}else f=Nr.next;var d=br===null?nr.memoizedState:br.next;if(d!==null)br=d,Nr=f;else{if(f===null)throw Error(o(310));Nr=f,f={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},br===null?nr.memoizedState=br=f:br=br.next=f}return br}function ha(f,d){return typeof d=="function"?d(f):d}function Il(f){var d=No(),A=d.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=f;var T=Nr,D=T.baseQueue,N=A.pending;if(N!==null){if(D!==null){var $=D.next;D.next=N.next,N.next=$}T.baseQueue=D=N,A.pending=null}if(D!==null){N=D.next,T=T.baseState;var ue=$=null,Re=null,Xe=N;do{var ht=Xe.lane;if((da&ht)===ht)Re!==null&&(Re=Re.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),T=Xe.hasEagerState?Xe.eagerState:f(T,Xe.action);else{var Yt={lane:ht,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};Re===null?(ue=Re=Yt,$=T):Re=Re.next=Yt,nr.lanes|=ht,lc|=ht}Xe=Xe.next}while(Xe!==null&&Xe!==N);Re===null?$=T:Re.next=ue,uo(T,d.memoizedState)||(Vi=!0),d.memoizedState=T,d.baseState=$,d.baseQueue=Re,A.lastRenderedState=T}if(f=A.interleaved,f!==null){D=f;do N=D.lane,nr.lanes|=N,lc|=N,D=D.next;while(D!==f)}else D===null&&(A.lanes=0);return[d.memoizedState,A.dispatch]}function Gh(f){var d=No(),A=d.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=f;var T=A.dispatch,D=A.pending,N=d.memoizedState;if(D!==null){A.pending=null;var $=D=D.next;do N=f(N,$.action),$=$.next;while($!==D);uo(N,d.memoizedState)||(Vi=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),A.lastRenderedState=N}return[N,T]}function Z1(){}function J1(f,d){var A=nr,T=No(),D=d(),N=!uo(T.memoizedState,D);if(N&&(T.memoizedState=D,Vi=!0),T=T.queue,Ol(qi.bind(null,A,T,f),[f]),T.getSnapshot!==d||N||br!==null&&br.memoizedState.tag&1){if(A.flags|=2048,$u(9,Ys.bind(null,A,T,D,d),void 0,null),pr===null)throw Error(o(349));da&30||ey(A,d,D)}return D}function ey(f,d,A){f.flags|=16384,f={getSnapshot:d,value:A},d=nr.updateQueue,d===null?(d={lastEffect:null,stores:null},nr.updateQueue=d,d.stores=[f]):(A=d.stores,A===null?d.stores=[f]:A.push(f))}function Ys(f,d,A,T){d.value=A,d.getSnapshot=T,Tg(d)&&ns(f,1,-1)}function qi(f,d,A){return A(function(){Tg(d)&&ns(f,1,-1)})}function Tg(f){var d=f.getSnapshot;f=f.value;try{var A=d();return!uo(f,A)}catch{return!0}}function Wh(f){var d=ko();return typeof f=="function"&&(f=f()),d.memoizedState=d.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:f},d.queue=f,f=f.dispatch=zo.bind(null,nr,f),[d.memoizedState,f]}function $u(f,d,A,T){return f={tag:f,create:d,destroy:A,deps:T,next:null},d=nr.updateQueue,d===null?(d={lastEffect:null,stores:null},nr.updateQueue=d,d.lastEffect=f.next=f):(A=d.lastEffect,A===null?d.lastEffect=f.next=f:(T=A.next,A.next=f,f.next=T,d.lastEffect=f)),f}function jh(){return No().memoizedState}function Of(f,d,A,T){var D=ko();nr.flags|=f,D.memoizedState=$u(1|d,A,void 0,T===void 0?null:T)}function Zu(f,d,A,T){var D=No();T=T===void 0?null:T;var N=void 0;if(Nr!==null){var $=Nr.memoizedState;if(N=$.destroy,T!==null&&qh(T,$.deps)){D.memoizedState=$u(d,A,N,T);return}}nr.flags|=f,D.memoizedState=$u(1|d,A,N,T)}function Yh(f,d){return Of(8390656,8,f,d)}function Ol(f,d){return Zu(2048,8,f,d)}function Cg(f,d){return Zu(4,2,f,d)}function Lf(f,d){return Zu(4,4,f,d)}function Pg(f,d){if(typeof d=="function")return f=f(),d(f),function(){d(null)};if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Rg(f,d,A){return A=A!=null?A.concat([f]):null,Zu(4,4,Pg.bind(null,d,f),A)}function Qh(){}function Dg(f,d){var A=No();d=d===void 0?null:d;var T=A.memoizedState;return T!==null&&d!==null&&qh(d,T[1])?T[0]:(A.memoizedState=[f,d],f)}function Ig(f,d){var A=No();d=d===void 0?null:d;var T=A.memoizedState;return T!==null&&d!==null&&qh(d,T[1])?T[0]:(f=f(),A.memoizedState=[f,d],f)}function Og(f,d){var A=dn;dn=A!==0&&4>A?A:4,f(!0);var T=Ei.transition;Ei.transition={};try{f(!1),d()}finally{dn=A,Ei.transition=T}}function Lg(){return No().memoizedState}function pa(f,d,A){var T=Br(f);A={lane:T,action:A,hasEagerState:!1,eagerState:null,next:null},Ju(f)?ec(d,A):(kf(f,d,A),A=Wi(),f=ns(f,T,A),f!==null&&Nf(f,d,T))}function zo(f,d,A){var T=Br(f),D={lane:T,action:A,hasEagerState:!1,eagerState:null,next:null};if(Ju(f))ec(d,D);else{kf(f,d,D);var N=f.alternate;if(f.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var $=d.lastRenderedState,ue=N($,A);if(D.hasEagerState=!0,D.eagerState=ue,uo(ue,$))return}catch{}finally{}A=Wi(),f=ns(f,T,A),f!==null&&Nf(f,d,T)}}function Ju(f){var d=f.alternate;return f===nr||d!==null&&d===nr}function ec(f,d){Ku=Xu=!0;var A=f.pending;A===null?d.next=d:(d.next=A.next,A.next=d),f.pending=d}function kf(f,d,A){pr!==null&&f.mode&1&&!($t&2)?(f=d.interleaved,f===null?(A.next=A,dr===null?dr=[d]:dr.push(d)):(A.next=f.next,f.next=A),d.interleaved=A):(f=d.pending,f===null?A.next=A:(A.next=f.next,f.next=A),d.pending=A)}function Nf(f,d,A){if(A&4194240){var T=d.lanes;T&=f.pendingLanes,A|=T,d.lanes=A,Rh(f,A)}}var zf={readContext:ti,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},Bf={readContext:ti,useCallback:function(f,d){return ko().memoizedState=[f,d===void 0?null:d],f},useContext:ti,useEffect:Yh,useImperativeHandle:function(f,d,A){return A=A!=null?A.concat([f]):null,Of(4194308,4,Pg.bind(null,d,f),A)},useLayoutEffect:function(f,d){return Of(4194308,4,f,d)},useInsertionEffect:function(f,d){return Of(4,2,f,d)},useMemo:function(f,d){var A=ko();return d=d===void 0?null:d,f=f(),A.memoizedState=[f,d],f},useReducer:function(f,d,A){var T=ko();return d=A!==void 0?A(d):d,T.memoizedState=T.baseState=d,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:d},T.queue=f,f=f.dispatch=pa.bind(null,nr,f),[T.memoizedState,f]},useRef:function(f){var d=ko();return f={current:f},d.memoizedState=f},useState:Wh,useDebugValue:Qh,useDeferredValue:function(f){var d=Wh(f),A=d[0],T=d[1];return Yh(function(){var D=Ei.transition;Ei.transition={};try{T(f)}finally{Ei.transition=D}},[f]),A},useTransition:function(){var f=Wh(!1),d=f[0];return f=Og.bind(null,f[1]),ko().memoizedState=f,[d,f]},useMutableSource:function(){},useSyncExternalStore:function(f,d,A){var T=nr,D=ko();if(Ln){if(A===void 0)throw Error(o(407));A=A()}else{if(A=d(),pr===null)throw Error(o(349));da&30||ey(T,d,A)}D.memoizedState=A;var N={value:A,getSnapshot:d};return D.queue=N,Yh(qi.bind(null,T,N,f),[f]),T.flags|=2048,$u(9,Ys.bind(null,T,N,A,d),void 0,null),A},useId:function(){var f=ko(),d=pr.identifierPrefix;if(Ln){var A=ts,T=ys;A=(T&~(1<<32-zi(T)-1)).toString(32)+A,d=":"+d+"R"+A,A=nl++,0<A&&(d+="H"+A.toString(32)),d+=":"}else A=$1++,d=":"+d+"r"+A.toString(32)+":";return f.memoizedState=d},unstable_isNewReconciler:!1},W3={readContext:ti,useCallback:Dg,useContext:ti,useEffect:Ol,useImperativeHandle:Rg,useInsertionEffect:Cg,useLayoutEffect:Lf,useMemo:Ig,useReducer:Il,useRef:jh,useState:function(){return Il(ha)},useDebugValue:Qh,useDeferredValue:function(f){var d=Il(ha),A=d[0],T=d[1];return Ol(function(){var D=Ei.transition;Ei.transition={};try{T(f)}finally{Ei.transition=D}},[f]),A},useTransition:function(){var f=Il(ha)[0],d=No().memoizedState;return[f,d]},useMutableSource:Z1,useSyncExternalStore:J1,useId:Lg,unstable_isNewReconciler:!1},j3={readContext:ti,useCallback:Dg,useContext:ti,useEffect:Ol,useImperativeHandle:Rg,useInsertionEffect:Cg,useLayoutEffect:Lf,useMemo:Ig,useReducer:Gh,useRef:jh,useState:function(){return Gh(ha)},useDebugValue:Qh,useDeferredValue:function(f){var d=Gh(ha),A=d[0],T=d[1];return Ol(function(){var D=Ei.transition;Ei.transition={};try{T(f)}finally{Ei.transition=D}},[f]),A},useTransition:function(){var f=Gh(ha)[0],d=No().memoizedState;return[f,d]},useMutableSource:Z1,useSyncExternalStore:J1,useId:Lg,unstable_isNewReconciler:!1};function Ff(f,d){try{var A="",T=d;do A+=Oh(T),T=T.return;while(T);var D=A}catch(N){D=`
Error generating stack: `+N.message+`
`+N.stack}return{value:f,source:d,stack:D}}function Uf(f,d){try{console.error(d.value)}catch(A){setTimeout(function(){throw A})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function kg(f,d,A){A=xi(-1,A),A.tag=3,A.payload={element:null};var T=d.value;return A.callback=function(){sp||(sp=!0,Vg=T),Uf(f,d)},A}function Ng(f,d,A){A=xi(-1,A),A.tag=3;var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var D=d.value;A.payload=function(){return T(D)},A.callback=function(){Uf(f,d)}}var N=f.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){Uf(f,d),typeof T!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var $=d.stack;this.componentDidCatch(d.value,{componentStack:$!==null?$:""})}),A}function ty(f,d,A){var T=f.pingCache;if(T===null){T=f.pingCache=new Y3;var D=new Set;T.set(d,D)}else D=T.get(d),D===void 0&&(D=new Set,T.set(d,D));D.has(A)||(D.add(A),f=zt.bind(null,f,d,A),d.then(f,f))}function zg(f){do{var d;if((d=f.tag===13)&&(d=f.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return f;f=f.return}while(f!==null);return null}function ny(f,d,A,T,D){return f.mode&1?(f.flags|=65536,f.lanes=D,f):(f===d?f.flags|=65536:(f.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(d=xi(-1,1),d.tag=2,Fi(A,d))),A.lanes|=1),f)}function ho(f){f.flags|=4}function ry(f,d){if(f!==null&&f.child===d.child)return!0;if(d.flags&16)return!1;for(f=d.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var tc,nc,Hf,qf;if(ut)tc=function(f,d){for(var A=d.child;A!==null;){if(A.tag===5||A.tag===6)J(f,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},nc=function(){},Hf=function(f,d,A,T,D){if(f=f.memoizedProps,f!==T){var N=d.stateNode,$=Gs(Hi.current);A=we(N,A,f,T,D,$),(d.updateQueue=A)&&ho(d)}},qf=function(f,d,A,T){A!==T&&ho(d)};else if(Pe){tc=function(f,d,A,T){for(var D=d.child;D!==null;){if(D.tag===5){var N=D.stateNode;A&&T&&(N=Pn(N,D.type,D.memoizedProps,D)),J(f,N)}else if(D.tag===6)N=D.stateNode,A&&T&&(N=Us(N,D.memoizedProps,D)),J(f,N);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)N=D.child,N!==null&&(N.return=D),tc(f,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var Bg=function(f,d,A,T){for(var D=d.child;D!==null;){if(D.tag===5){var N=D.stateNode;A&&T&&(N=Pn(N,D.type,D.memoizedProps,D)),tr(f,N)}else if(D.tag===6)N=D.stateNode,A&&T&&(N=Us(N,D.memoizedProps,D)),tr(f,N);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)N=D.child,N!==null&&(N.return=D),Bg(f,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};nc=function(f,d){var A=d.stateNode;if(!ry(f,d)){f=A.containerInfo;var T=vn(f);Bg(T,d,!1,!1),A.pendingChildren=T,ho(d),Vr(f,T)}},Hf=function(f,d,A,T,D){var N=f.stateNode,$=f.memoizedProps;if((f=ry(f,d))&&$===T)d.stateNode=N;else{var ue=d.stateNode,Re=Gs(Hi.current),Xe=null;$!==T&&(Xe=we(ue,A,$,T,D,Re)),f&&Xe===null?d.stateNode=N:(N=_t(N,Xe,A,$,T,d,f,ue),he(N,A,T,D,Re)&&ho(d),d.stateNode=N,f?ho(d):tc(N,d,!1,!1))}},qf=function(f,d,A,T){A!==T?(f=Gs(kr.current),A=Gs(Hi.current),d.stateNode=pe(T,f,A,d),ho(d)):d.stateNode=f.stateNode}}else nc=function(){},Hf=function(){},qf=function(){};function rc(f,d){if(!Ln)switch(f.tailMode){case"hidden":d=f.tail;for(var A=null;d!==null;)d.alternate!==null&&(A=d),d=d.sibling;A===null?f.tail=null:A.sibling=null;break;case"collapsed":A=f.tail;for(var T=null;A!==null;)A.alternate!==null&&(T=A),A=A.sibling;T===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function Wr(f){var d=f.alternate!==null&&f.alternate.child===f.child,A=0,T=0;if(d)for(var D=f.child;D!==null;)A|=D.lanes|D.childLanes,T|=D.subtreeFlags&14680064,T|=D.flags&14680064,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)A|=D.lanes|D.childLanes,T|=D.subtreeFlags,T|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=T,f.childLanes=A,d}function Fg(f,d,A){var T=d.pendingProps;switch(Bh(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(d),null;case 1:return Zi(d.type)&&Ml(),Wr(d),null;case 3:return T=d.stateNode,Ws(),Ut(Or),Ut(yn),Hh(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(f===null||f.child===null)&&(Ka(d)?ho(d):f===null||f.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,ni!==null&&(ld(ni),ni=null))),nc(f,d),Wr(d),null;case 5:js(d),A=Gs(kr.current);var D=d.type;if(f!==null&&d.stateNode!=null)Hf(f,d,D,T,A),f.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(o(166));return Wr(d),null}if(f=Gs(Hi.current),Ka(d)){if(!ye)throw Error(o(175));f=bt(d.stateNode,d.type,d.memoizedProps,A,f,d,!xs),d.updateQueue=f,f!==null&&ho(d)}else{var N=V(D,T,A,f,d);tc(N,d,!1,!1),d.stateNode=N,he(N,D,T,A,f)&&ho(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Wr(d),null;case 6:if(f&&d.stateNode!=null)qf(f,d,f.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(o(166));if(f=Gs(kr.current),A=Gs(Hi.current),Ka(d)){if(!ye)throw Error(o(176));if(f=d.stateNode,T=d.memoizedProps,(A=Ft(f,T,d,!xs))&&(D=Ui,D!==null))switch(N=(D.mode&1)!==0,D.tag){case 3:vi(D.stateNode.containerInfo,f,T,N);break;case 5:yi(D.type,D.memoizedProps,D.stateNode,f,T,N)}A&&ho(d)}else d.stateNode=pe(T,f,A,d)}return Wr(d),null;case 13:if(Ut(kn),T=d.memoizedState,Ln&&hn!==null&&d.mode&1&&!(d.flags&128)){for(f=hn;f;)f=ge(f);return $a(),d.flags|=98560,d}if(T!==null&&T.dehydrated!==null){if(T=Ka(d),f===null){if(!T)throw Error(o(318));if(!ye)throw Error(o(344));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));jt(f,d)}else $a(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Wr(d),null}return ni!==null&&(ld(ni),ni=null),d.flags&128?(d.lanes=A,d):(T=T!==null,A=!1,f===null?Ka(d):A=f.memoizedState!==null,T&&!A&&(d.child.flags|=8192,d.mode&1&&(f===null||kn.current&1?Tr===0&&(Tr=3):p())),d.updateQueue!==null&&(d.flags|=4),Wr(d),null);case 4:return Ws(),nc(f,d),f===null&&Je(d.stateNode.containerInfo),Wr(d),null;case 10:return kh(d.type._context),Wr(d),null;case 17:return Zi(d.type)&&Ml(),Wr(d),null;case 19:if(Ut(kn),D=d.memoizedState,D===null)return Wr(d),null;if(T=(d.flags&128)!==0,N=D.rendering,N===null)if(T)rc(D,!1);else{if(Tr!==0||f!==null&&f.flags&128)for(f=d.child;f!==null;){if(N=tl(f),N!==null){for(d.flags|=128,rc(D,!1),f=N.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),d.subtreeFlags=0,f=A,T=d.child;T!==null;)A=T,D=f,A.flags&=14680066,N=A.alternate,N===null?(A.childLanes=0,A.lanes=D,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=N.childLanes,A.lanes=N.lanes,A.child=N.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=N.memoizedProps,A.memoizedState=N.memoizedState,A.updateQueue=N.updateQueue,A.type=N.type,D=N.dependencies,A.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),T=T.sibling;return cn(kn,kn.current&1|2),d.child}f=f.sibling}D.tail!==null&&Lr()>ip&&(d.flags|=128,T=!0,rc(D,!1),d.lanes=4194304)}else{if(!T)if(f=tl(N),f!==null){if(d.flags|=128,T=!0,f=f.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),rc(D,!0),D.tail===null&&D.tailMode==="hidden"&&!N.alternate&&!Ln)return Wr(d),null}else 2*Lr()-D.renderingStartTime>ip&&A!==1073741824&&(d.flags|=128,T=!0,rc(D,!1),d.lanes=4194304);D.isBackwards?(N.sibling=d.child,d.child=N):(f=D.last,f!==null?f.sibling=N:d.child=N,D.last=N)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=Lr(),d.sibling=null,f=kn.current,cn(kn,T?f&1|2:f&1),d):(Wr(d),null);case 22:case 23:return lp(),T=d.memoizedState!==null,f!==null&&f.memoizedState!==null!==T&&(d.flags|=8192),T&&d.mode&1?ws&1073741824&&(Wr(d),ut&&d.subtreeFlags&6&&(d.flags|=8192)):Wr(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var iy=a.ReactCurrentOwner,Vi=!1;function Si(f,d,A,T){d.child=f===null?ri(d,null,A,T):Fn(d,f.child,A,T)}function Vf(f,d,A,T,D){A=A.render;var N=d.ref;return Pl(d,D),T=If(f,d,A,T,N,D),A=Vh(),f!==null&&!Vi?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~D,rr(f,d,D)):(Ln&&A&&Xa(d),d.flags|=1,Si(f,d,T,D),d.child)}function sy(f,d,A,T,D){if(f===null){var N=A.type;return typeof N=="function"&&!it(N)&&N.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(d.tag=15,d.type=N,Gf(f,d,N,T,D)):(f=Nt(A.type,null,T,d,d.mode,D),f.ref=d.ref,f.return=d,d.child=f)}if(N=f.child,!(f.lanes&D)){var $=N.memoizedProps;if(A=A.compare,A=A!==null?A:Ih,A($,T)&&f.ref===d.ref)return rr(f,d,D)}return d.flags|=1,f=xn(N,T),f.ref=d.ref,f.return=d,d.child=f}function Gf(f,d,A,T,D){if(f!==null&&Ih(f.memoizedProps,T)&&f.ref===d.ref)if(Vi=!1,(f.lanes&D)!==0)f.flags&131072&&(Vi=!0);else return d.lanes=f.lanes,rr(f,d,D);return ic(f,d,A,T,D)}function Wf(f,d,A){var T=d.pendingProps,D=T.children,N=f!==null?f.memoizedState:null;if(T.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},cn(Vl,ws),ws|=A;else if(A&1073741824)d.memoizedState={baseLanes:0,cachePool:null},T=N!==null?N.baseLanes:A,cn(Vl,ws),ws|=T;else return f=N!==null?N.baseLanes|A:A,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:f,cachePool:null},d.updateQueue=null,cn(Vl,ws),ws|=f,null;else N!==null?(T=N.baseLanes|A,d.memoizedState=null):T=A,cn(Vl,ws),ws|=T;return Si(f,d,D,A),d.child}function jf(f,d){var A=d.ref;(f===null&&A!==null||f!==null&&f.ref!==A)&&(d.flags|=512,d.flags|=2097152)}function ic(f,d,A,T,D){var N=Zi(A)?oo:yn.current;return N=Ni(d,N),Pl(d,D),A=If(f,d,A,T,N,D),T=Vh(),f!==null&&!Vi?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~D,rr(f,d,D)):(Ln&&T&&Xa(d),d.flags|=1,Si(f,d,A,D),d.child)}function Yf(f,d,A,T,D){if(Zi(A)){var N=!0;Th(d)}else N=!1;if(Pl(d,D),d.stateNode===null)f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),Ag(d,A,T),Yu(d,A,T,D),T=!0;else if(f===null){var $=d.stateNode,ue=d.memoizedProps;$.props=ue;var Re=$.context,Xe=A.contextType;typeof Xe=="object"&&Xe!==null?Xe=ti(Xe):(Xe=Zi(A)?oo:yn.current,Xe=Ni(d,Xe));var ht=A.getDerivedStateFromProps,Yt=typeof ht=="function"||typeof $.getSnapshotBeforeUpdate=="function";Yt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ue!==T||Re!==Xe)&&Nh(d,$,T,Xe),Bi=!1;var Ct=d.memoizedState;$.state=Ct,Mf(d,T,$,D),Re=d.memoizedState,ue!==T||Ct!==Re||Or.current||Bi?(typeof ht=="function"&&(ju(d,A,ht,T),Re=d.memoizedState),(ue=Bi||Sg(d,A,ue,T,Ct,Re,Xe))?(Yt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(d.flags|=4194308)):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=Re),$.props=T,$.state=Re,$.context=Xe,T=ue):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{$=d.stateNode,wg(f,d),ue=d.memoizedProps,Xe=d.type===d.elementType?ue:co(d.type,ue),$.props=Xe,Yt=d.pendingProps,Ct=$.context,Re=A.contextType,typeof Re=="object"&&Re!==null?Re=ti(Re):(Re=Zi(A)?oo:yn.current,Re=Ni(d,Re));var jn=A.getDerivedStateFromProps;(ht=typeof jn=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ue!==Yt||Ct!==Re)&&Nh(d,$,T,Re),Bi=!1,Ct=d.memoizedState,$.state=Ct,Mf(d,T,$,D);var At=d.memoizedState;ue!==Yt||Ct!==At||Or.current||Bi?(typeof jn=="function"&&(ju(d,A,jn,T),At=d.memoizedState),(Xe=Bi||Sg(d,A,Xe,T,Ct,At,Re)||!1)?(ht||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(T,At,Re),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(T,At,Re)),typeof $.componentDidUpdate=="function"&&(d.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof $.componentDidUpdate!="function"||ue===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ue===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=At),$.props=T,$.state=At,$.context=Re,T=Xe):(typeof $.componentDidUpdate!="function"||ue===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ue===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=1024),T=!1)}return Ll(f,d,A,T,N,D)}function Ll(f,d,A,T,D,N){jf(f,d);var $=(d.flags&128)!==0;if(!T&&!$)return D&&j1(d,A,!1),rr(f,d,N);T=d.stateNode,iy.current=d;var ue=$&&typeof A.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,f!==null&&$?(d.child=Fn(d,f.child,null,N),d.child=Fn(d,null,ue,N)):Si(f,d,ue,N),d.memoizedState=T.state,D&&j1(d,A,!0),d.child}function Xh(f){var d=f.stateNode;d.pendingContext?On(f,d.pendingContext,d.pendingContext!==d.context):d.context&&On(f,d.context,!1),Rf(f,d.containerInfo)}function Kh(f,d,A,T,D){return $a(),Za(D),d.flags|=256,Si(f,d,A,T),d.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function Qf(f){return{baseLanes:f,cachePool:null}}function $h(f,d,A){var T=d.pendingProps,D=kn.current,N=!1,$=(d.flags&128)!==0,ue;if((ue=$)||(ue=f!==null&&f.memoizedState===null?!1:(D&2)!==0),ue?(N=!0,d.flags&=-129):(f===null||f.memoizedState!==null)&&(D|=1),cn(kn,D&1),f===null)return Pf(d),f=d.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(d.mode&1?xf(f)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(D=T.children,f=T.fallback,N?(T=d.mode,N=d.child,D={mode:"hidden",children:D},!(T&1)&&N!==null?(N.childLanes=0,N.pendingProps=D):N=ir(D,T,0,null),f=ln(f,T,A,null),N.return=d,f.return=d,N.sibling=f,d.child=N,d.child.memoizedState=Qf(A),d.memoizedState=sc,f):oc(d,D));if(D=f.memoizedState,D!==null){if(ue=D.dehydrated,ue!==null){if($)return d.flags&256?(d.flags&=-257,kl(f,d,A,Error(o(422)))):d.memoizedState!==null?(d.child=f.child,d.flags|=128,null):(N=T.fallback,D=d.mode,T=ir({mode:"visible",children:T.children},D,0,null),N=ln(N,D,A,null),N.flags|=2,T.return=d,N.return=d,T.sibling=N,d.child=T,d.mode&1&&Fn(d,f.child,null,A),d.child.memoizedState=Qf(A),d.memoizedState=sc,N);if(!(d.mode&1))d=kl(f,d,A,null);else if(xf(ue))d=kl(f,d,A,Error(o(419)));else if(T=(A&f.childLanes)!==0,Vi||T){if(T=pr,T!==null){switch(A&-A){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}T=N&(T.suspendedLanes|A)?0:N,T!==0&&T!==D.retryLane&&(D.retryLane=T,ns(f,T,-1))}p(),d=kl(f,d,A,Error(o(421)))}else bh(ue)?(d.flags|=128,d.child=f.child,d=Nn.bind(null,f),Y(ue,d),d=null):(A=D.treeContext,ye&&(hn=ke(ue),Ui=d,Ln=!0,ni=null,xs=!1,A!==null&&(vs[_i++]=ys,vs[_i++]=ts,vs[_i++]=Gr,ys=A.id,ts=A.overflow,Gr=d)),d=oc(d,d.pendingProps.children),d.flags|=4096);return d}return N?(T=ay(f,d,T.children,T.fallback,A),N=d.child,D=f.child.memoizedState,N.memoizedState=D===null?Qf(A):{baseLanes:D.baseLanes|A,cachePool:null},N.childLanes=f.childLanes&~A,d.memoizedState=sc,T):(A=oy(f,d,T.children,A),d.memoizedState=null,A)}return N?(T=ay(f,d,T.children,T.fallback,A),N=d.child,D=f.child.memoizedState,N.memoizedState=D===null?Qf(A):{baseLanes:D.baseLanes|A,cachePool:null},N.childLanes=f.childLanes&~A,d.memoizedState=sc,T):(A=oy(f,d,T.children,A),d.memoizedState=null,A)}function oc(f,d){return d=ir({mode:"visible",children:d},f.mode,0,null),d.return=f,f.child=d}function oy(f,d,A,T){var D=f.child;return f=D.sibling,A=xn(D,{mode:"visible",children:A}),!(d.mode&1)&&(A.lanes=T),A.return=d,A.sibling=null,f!==null&&(T=d.deletions,T===null?(d.deletions=[f],d.flags|=16):T.push(f)),d.child=A}function ay(f,d,A,T,D){var N=d.mode;f=f.child;var $=f.sibling,ue={mode:"hidden",children:A};return!(N&1)&&d.child!==f?(A=d.child,A.childLanes=0,A.pendingProps=ue,d.deletions=null):(A=xn(f,ue),A.subtreeFlags=f.subtreeFlags&14680064),$!==null?T=xn($,T):(T=ln(T,N,D,null),T.flags|=2),T.return=d,A.return=d,A.sibling=T,d.child=A,T}function kl(f,d,A,T){return T!==null&&Za(T),Fn(d,f.child,null,A),f=oc(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function Zh(f,d,A){f.lanes|=d;var T=f.alternate;T!==null&&(T.lanes|=d),Ef(f.return,d,A)}function Xf(f,d,A,T,D){var N=f.memoizedState;N===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:A,tailMode:D}:(N.isBackwards=d,N.rendering=null,N.renderingStartTime=0,N.last=T,N.tail=A,N.tailMode=D)}function Tt(f,d,A){var T=d.pendingProps,D=T.revealOrder,N=T.tail;if(Si(f,d,T.children,A),T=kn.current,T&2)T=T&1|2,d.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Zh(f,A,d);else if(f.tag===19)Zh(f,A,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}if(cn(kn,T),!(d.mode&1))d.memoizedState=null;else switch(D){case"forwards":for(A=d.child,D=null;A!==null;)f=A.alternate,f!==null&&tl(f)===null&&(D=A),A=A.sibling;A=D,A===null?(D=d.child,d.child=null):(D=A.sibling,A.sibling=null),Xf(d,!1,D,A,N);break;case"backwards":for(A=null,D=d.child,d.child=null;D!==null;){if(f=D.alternate,f!==null&&tl(f)===null){d.child=D;break}f=D.sibling,D.sibling=A,A=D,D=f}Xf(d,!0,A,null,N);break;case"together":Xf(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function rr(f,d,A){if(f!==null&&(d.dependencies=f.dependencies),lc|=d.lanes,!(A&d.childLanes))return null;if(f!==null&&d.child!==f.child)throw Error(o(153));if(d.child!==null){for(f=d.child,A=xn(f,f.pendingProps),d.child=A,A.return=d;f.sibling!==null;)f=f.sibling,A=A.sibling=xn(f,f.pendingProps),A.return=d;A.sibling=null}return d.child}function zr(f,d,A){switch(d.tag){case 3:Xh(d),$a();break;case 5:el(d);break;case 1:Zi(d.type)&&Th(d);break;case 4:Rf(d,d.stateNode.containerInfo);break;case 10:Lh(d,d.type._context,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(cn(kn,kn.current&1),d.flags|=128,null):A&d.child.childLanes?$h(f,d,A):(cn(kn,kn.current&1),f=rr(f,d,A),f!==null?f.sibling:null);cn(kn,kn.current&1);break;case 19:if(T=(A&d.childLanes)!==0,f.flags&128){if(T)return Tt(f,d,A);d.flags|=128}var D=d.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),cn(kn,kn.current),T)break;return null;case 22:case 23:return d.lanes=0,Wf(f,d,A)}return rr(f,d,A)}function Ai(f,d){switch(Bh(d),d.tag){case 1:return Zi(d.type)&&Ml(),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return Ws(),Ut(Or),Ut(yn),Hh(),f=d.flags,f&65536&&!(f&128)?(d.flags=f&-65537|128,d):null;case 5:return js(d),null;case 13:if(Ut(kn),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(o(340));$a()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return Ut(kn),null;case 4:return Ws(),null;case 10:return kh(d.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var Bo=!1,ma=!1,si=typeof WeakSet=="function"?WeakSet:Set,et=null;function ga(f,d){var A=f.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(T){lt(f,d,T)}else A.current=null}function Nl(f,d,A){try{A()}catch(T){lt(f,d,T)}}var zl=!1;function Ug(f,d){for(te(f.containerInfo),et=d;et!==null;)if(f=et,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,et=d;else for(;et!==null;){f=et;try{var A=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var T=A.memoizedProps,D=A.memoizedState,N=f.stateNode,$=N.getSnapshotBeforeUpdate(f.elementType===f.type?T:co(f.type,T),D);N.__reactInternalSnapshotBeforeUpdate=$}break;case 3:ut&&at(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ue){lt(f,f.return,ue)}if(d=f.sibling,d!==null){d.return=f.return,et=d;break}et=f.return}return A=zl,zl=!1,A}function va(f,d,A){var T=d.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var D=T=T.next;do{if((D.tag&f)===f){var N=D.destroy;D.destroy=void 0,N!==void 0&&Nl(d,A,N)}D=D.next}while(D!==T)}}function Bl(f,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var A=d=d.next;do{if((A.tag&f)===f){var T=A.create;A.destroy=T()}A=A.next}while(A!==d)}}function Kf(f){var d=f.ref;if(d!==null){var A=f.stateNode;switch(f.tag){case 5:f=se(A);break;default:f=A}typeof d=="function"?d(f):d.current=f}}function ya(f,d,A){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(qu,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var T=f=f.next;do{var D=T,N=D.destroy;D=D.tag,N!==void 0&&(D&2||D&4)&&Nl(d,A,N),T=T.next}while(T!==f)}break;case 1:if(ga(d,A),f=d.stateNode,typeof f.componentWillUnmount=="function")try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch($){lt(d,A,$)}break;case 5:ga(d,A);break;case 4:ut?ep(f,d,A):Pe&&Pe&&(d=d.stateNode.containerInfo,A=vn(d),so(d,A))}}function ct(f,d,A){for(var T=d;;)if(ya(f,T,A),T.child===null||ut&&T.tag===4){if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function $f(f){var d=f.alternate;d!==null&&(f.alternate=null,$f(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&St(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Jh(f){return f.tag===5||f.tag===3||f.tag===4}function po(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Jh(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function xa(f){if(ut){e:{for(var d=f.return;d!==null;){if(Jh(d))break e;d=d.return}throw Error(o(160))}var A=d;switch(A.tag){case 5:d=A.stateNode,A.flags&32&&(Gt(d),A.flags&=-33),A=po(f),Ul(f,A,d);break;case 3:case 4:d=A.stateNode.containerInfo,A=po(f),Fl(f,A,d);break;default:throw Error(o(161))}}}function Fl(f,d,A){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?Ue(A,f,d):$e(A,f);else if(T!==4&&(f=f.child,f!==null))for(Fl(f,d,A),f=f.sibling;f!==null;)Fl(f,d,A),f=f.sibling}function Ul(f,d,A){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?Se(A,f,d):xt(A,f);else if(T!==4&&(f=f.child,f!==null))for(Ul(f,d,A),f=f.sibling;f!==null;)Ul(f,d,A),f=f.sibling}function ep(f,d,A){for(var T=d,D=!1,N,$;;){if(!D){D=T.return;e:for(;;){if(D===null)throw Error(o(160));switch(N=D.stateNode,D.tag){case 5:$=!1;break e;case 3:N=N.containerInfo,$=!0;break e;case 4:N=N.containerInfo,$=!0;break e}D=D.return}D=!0}if(T.tag===5||T.tag===6)ct(f,T,A),$?wt(N,T.stateNode):Ye(N,T.stateNode);else if(T.tag===18)$?Gn(N,T.stateNode):en(N,T.stateNode);else if(T.tag===4){if(T.child!==null){N=T.stateNode.containerInfo,$=!0,T.child.return=T,T=T.child;continue}}else if(ya(f,T,A),T.child!==null){T.child.return=T,T=T.child;continue}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return,T.tag===4&&(D=!1)}T.sibling.return=T.return,T=T.sibling}}function Zf(f,d){if(ut){switch(d.tag){case 0:case 11:case 14:case 15:va(3,d,d.return),Bl(3,d),va(5,d,d.return);return;case 1:return;case 5:var A=d.stateNode;if(A!=null){var T=d.memoizedProps;f=f!==null?f.memoizedProps:T;var D=d.type,N=d.updateQueue;d.updateQueue=null,N!==null&&ie(A,N,D,f,T,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));A=d.memoizedProps,Le(d.stateNode,f!==null?f.memoizedProps:A,A);return;case 3:ye&&f!==null&&f.memoizedState.isDehydrated&&on(d.stateNode.containerInfo);return;case 12:return;case 13:Qs(d);return;case 19:Qs(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:va(3,d,d.return),Bl(3,d),va(5,d,d.return);return;case 12:return;case 13:Qs(d);return;case 19:Qs(d);return;case 3:ye&&f!==null&&f.memoizedState.isDehydrated&&on(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(Pe){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,so(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function Qs(f){var d=f.updateQueue;if(d!==null){f.updateQueue=null;var A=f.stateNode;A===null&&(A=f.stateNode=new si),d.forEach(function(T){var D=$n.bind(null,f,T);A.has(T)||(A.add(T),T.then(D,D))})}}function Jf(f,d){for(et=d;et!==null;){d=et;var A=d.deletions;if(A!==null)for(var T=0;T<A.length;T++){var D=A[T];try{var N=f;ut?ep(N,D,d):ct(N,D,d);var $=D.alternate;$!==null&&($.return=null),D.return=null}catch(Et){lt(D,d,Et)}}if(A=d.child,d.subtreeFlags&12854&&A!==null)A.return=d,et=A;else for(;et!==null;){d=et;try{var ue=d.flags;if(ue&32&&ut&&Gt(d.stateNode),ue&512){var Re=d.alternate;if(Re!==null){var Xe=Re.ref;Xe!==null&&(typeof Xe=="function"?Xe(null):Xe.current=null)}}if(ue&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var ht=d.alternate;(ht===null||ht.memoizedState===null)&&(qg=Lr())}break;case 22:var Yt=d.memoizedState!==null,Ct=d.alternate,jn=Ct!==null&&Ct.memoizedState!==null;if(A=d,ut){e:if(T=A,D=Yt,N=null,ut)for(var At=T;;){if(At.tag===5){if(N===null){N=At;var rs=At.stateNode;D?In(rs):Te(At.stateNode,At.memoizedProps)}}else if(At.tag===6){if(N===null){var Go=At.stateNode;D?le(Go):Fe(Go,At.memoizedProps)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===T)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===T)break;for(;At.sibling===null;){if(At.return===null||At.return===T)break e;N===At&&(N=null),At=At.return}N===At&&(N=null),At.sibling.return=At.return,At=At.sibling}}if(Yt&&!jn&&A.mode&1){et=A;for(var _e=A.child;_e!==null;){for(A=et=_e;et!==null;){T=et;var fe=T.child;switch(T.tag){case 0:case 11:case 14:case 15:va(4,T,T.return);break;case 1:ga(T,T.return);var Ce=T.stateNode;if(typeof Ce.componentWillUnmount=="function"){var ot=T.return;try{Ce.props=T.memoizedProps,Ce.state=T.memoizedState,Ce.componentWillUnmount()}catch(Et){lt(T,ot,Et)}}break;case 5:ga(T,T.return);break;case 22:if(T.memoizedState!==null){td(A);continue}}fe!==null?(fe.return=T,et=fe):td(A)}_e=_e.sibling}}}switch(ue&4102){case 2:xa(d),d.flags&=-3;break;case 6:xa(d),d.flags&=-3,Zf(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Zf(d.alternate,d);break;case 4:Zf(d.alternate,d)}}catch(Et){lt(d,d.return,Et)}if(A=d.sibling,A!==null){A.return=d.return,et=A;break}et=d.return}}}function Hg(f,d,A){et=f,ed(f)}function ed(f,d,A){for(var T=(f.mode&1)!==0;et!==null;){var D=et,N=D.child;if(D.tag===22&&T){var $=D.memoizedState!==null||Bo;if(!$){var ue=D.alternate,Re=ue!==null&&ue.memoizedState!==null||ma;ue=Bo;var Xe=ma;if(Bo=$,(ma=Re)&&!Xe)for(et=D;et!==null;)$=et,Re=$.child,$.tag===22&&$.memoizedState!==null?ac(D):Re!==null?(Re.return=$,et=Re):ac(D);for(;N!==null;)et=N,ed(N),N=N.sibling;et=D,Bo=ue,ma=Xe}Fo(f)}else D.subtreeFlags&8772&&N!==null?(N.return=D,et=N):Fo(f)}}function Fo(f){for(;et!==null;){var d=et;if(d.flags&8772){var A=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:ma||Bl(5,d);break;case 1:var T=d.stateNode;if(d.flags&4&&!ma)if(A===null)T.componentDidMount();else{var D=d.elementType===d.type?A.memoizedProps:co(d.type,A.memoizedProps);T.componentDidUpdate(D,A.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var N=d.updateQueue;N!==null&&Eg(d,N,T);break;case 3:var $=d.updateQueue;if($!==null){if(A=null,d.child!==null)switch(d.child.tag){case 5:A=se(d.child.stateNode);break;case 1:A=d.child.stateNode}Eg(d,$,A)}break;case 5:var ue=d.stateNode;A===null&&d.flags&4&&mt(ue,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&d.memoizedState===null){var Re=d.alternate;if(Re!==null){var Xe=Re.memoizedState;if(Xe!==null){var ht=Xe.dehydrated;ht!==null&&Kt(ht)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ma||d.flags&512&&Kf(d)}catch(Yt){lt(d,d.return,Yt)}}if(d===f){et=null;break}if(A=d.sibling,A!==null){A.return=d.return,et=A;break}et=d.return}}function td(f){for(;et!==null;){var d=et;if(d===f){et=null;break}var A=d.sibling;if(A!==null){A.return=d.return,et=A;break}et=d.return}}function ac(f){for(;et!==null;){var d=et;try{switch(d.tag){case 0:case 11:case 15:var A=d.return;try{Bl(4,d)}catch(Re){lt(d,A,Re)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var D=d.return;try{T.componentDidMount()}catch(Re){lt(d,D,Re)}}var N=d.return;try{Kf(d)}catch(Re){lt(d,N,Re)}break;case 5:var $=d.return;try{Kf(d)}catch(Re){lt(d,$,Re)}}}catch(Re){lt(d,d.return,Re)}if(d===f){et=null;break}var ue=d.sibling;if(ue!==null){ue.return=d.return,et=ue;break}et=d.return}}var rl=0,oi=1,mo=2,Xs=3,Hl=4;if(typeof Symbol=="function"&&Symbol.for){var ai=Symbol.for;rl=ai("selector.component"),oi=ai("selector.has_pseudo_class"),mo=ai("selector.role"),Xs=ai("selector.test_id"),Hl=ai("selector.text")}function tp(f){var d=De(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(f=qt(f),f===null)throw Error(o(362));return f.stateNode.current}function il(f,d){switch(d.$$typeof){case rl:if(f.type===d.value)return!0;break;case oi:e:{d=d.value,f=[f,0];for(var A=0;A<f.length;){var T=f[A++],D=f[A++],N=d[D];if(T.tag!==5||!ae(T)){for(;N!=null&&il(T,N);)D++,N=d[D];if(D===d.length){d=!0;break e}else for(T=T.child;T!==null;)f.push(T,D),T=T.sibling}}d=!1}return d;case mo:if(f.tag===5&&Ee(f.stateNode,d.value))return!0;break;case Hl:if((f.tag===5||f.tag===6)&&(f=U(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case Xs:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function nd(f){switch(f.$$typeof){case rl:return"<"+(k(f.value)||"Unknown")+">";case oi:return":has("+(nd(f)||"")+")";case mo:return'[role="'+f.value+'"]';case Hl:return'"'+f.value+'"';case Xs:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function ly(f,d){var A=[];f=[f,0];for(var T=0;T<f.length;){var D=f[T++],N=f[T++],$=d[N];if(D.tag!==5||!ae(D)){for(;$!=null&&il(D,$);)N++,$=d[N];if(N===d.length)A.push(D);else for(D=D.child;D!==null;)f.push(D,N),D=D.sibling}}return A}function np(f,d){if(!Lt)throw Error(o(363));f=tp(f),f=ly(f,d),d=[],f=Array.from(f);for(var A=0;A<f.length;){var T=f[A++];if(T.tag===5)ae(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)f.push(T),T=T.sibling}return d}var uy=Math.ceil,ql=a.ReactCurrentDispatcher,rd=a.ReactCurrentOwner,Un=a.ReactCurrentBatchConfig,$t=0,pr=null,Kn=null,li=0,ws=0,Vl=Wn(0),Tr=0,go=null,lc=0,rp=0,vo=0,id=null,Gi=null,qg=0,ip=1/0;function Es(){ip=Lr()+500}var sp=!1,Vg=null,_a=null,Gl=!1,Uo=null,sd=0,Wl=0,op=null,jl=-1,od=0;function Wi(){return $t&6?Lr():jl!==-1?jl:jl=Lr()}function Br(f){return f.mode&1?$t&2&&li!==0?li&-li:Vs.transition!==null?(od===0&&(f=Uu,Uu<<=1,!(Uu&4194240)&&(Uu=64),od=f),od):(f=dn,f!==0?f:He()):1}function ns(f,d,A){if(50<Wl)throw Wl=0,op=null,Error(o(185));var T=ap(f,d);return T===null?null:(Tl(T,d,A),(!($t&2)||T!==pr)&&(T===pr&&(!($t&2)&&(rp|=d),Tr===4&&Ho(T,li)),mr(T,A),d===1&&$t===0&&!(f.mode&1)&&(Es(),Ya&&Oo())),T)}function ap(f,d){f.lanes|=d;var A=f.alternate;for(A!==null&&(A.lanes|=d),A=f,f=f.return;f!==null;)f.childLanes|=d,A=f.alternate,A!==null&&(A.childLanes|=d),A=f,f=f.return;return A.tag===3?A.stateNode:null}function mr(f,d){var A=f.callbackNode;H3(f,d);var T=Ph(f,f===pr?li:0);if(T===0)A!==null&&xg(A),f.callbackNode=null,f.callbackPriority=0;else if(d=T&-T,f.callbackPriority!==d){if(A!=null&&xg(A),d===1)f.tag===0?G3(cy.bind(null,f)):_g(cy.bind(null,f)),gt?ft(function(){$t===0&&Oo()}):Hu(wf,Oo),A=null;else{switch(Q1(T)){case 1:A=wf;break;case 4:A=V3;break;case 16:A=ao;break;case 536870912:A=Dh;break;default:A=ao}A=ve(A,ad.bind(null,f))}f.callbackPriority=d,f.callbackNode=A}}function ad(f,d){if(jl=-1,od=0,$t&6)throw Error(o(327));var A=f.callbackNode;if(Me()&&f.callbackNode!==A)return null;var T=Ph(f,f===pr?li:0);if(T===0)return null;if(T&30||T&f.expiredLanes||d)d=m(f,T);else{d=T;var D=$t;$t|=2;var N=dy();(pr!==f||li!==d)&&(Es(),qo(f,d));do try{I();break}catch(ue){fy(f,ue)}while(1);Gu(),ql.current=N,$t=D,Kn!==null?d=0:(pr=null,li=0,d=Tr)}if(d!==0){if(d===2&&(D=yg(f),D!==0&&(T=D,d=sl(f,D))),d===1)throw A=go,qo(f,0),Ho(f,T),mr(f,Lr()),A;if(d===6)Ho(f,T);else{if(D=f.current.alternate,!(T&30)&&!Gg(D)&&(d=m(f,T),d===2&&(N=yg(f),N!==0&&(T=N,d=sl(f,N))),d===1))throw A=go,qo(f,0),Ho(f,T),mr(f,Lr()),A;switch(f.finishedWork=D,f.finishedLanes=T,d){case 0:case 1:throw Error(o(345));case 2:K(f,Gi);break;case 3:if(Ho(f,T),(T&130023424)===T&&(d=qg+500-Lr(),10<d)){if(Ph(f,0)!==0)break;if(D=f.suspendedLanes,(D&T)!==T){Wi(),f.pingedLanes|=f.suspendedLanes&D;break}f.timeoutHandle=Ke(K.bind(null,f,Gi),d);break}K(f,Gi);break;case 4:if(Ho(f,T),(T&4194240)===T)break;for(d=f.eventTimes,D=-1;0<T;){var $=31-zi(T);N=1<<$,$=d[$],$>D&&(D=$),T&=~N}if(T=D,T=Lr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*uy(T/1960))-T,10<T){f.timeoutHandle=Ke(K.bind(null,f,Gi),T);break}K(f,Gi);break;case 5:K(f,Gi);break;default:throw Error(o(329))}}}return mr(f,Lr()),f.callbackNode===A?ad.bind(null,f):null}function sl(f,d){var A=id;return f.current.memoizedState.isDehydrated&&(qo(f,d).flags|=256),f=m(f,d),f!==2&&(d=Gi,Gi=A,d!==null&&ld(d)),f}function ld(f){Gi===null?Gi=f:Gi.push.apply(Gi,f)}function Gg(f){for(var d=f;;){if(d.flags&16384){var A=d.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var T=0;T<A.length;T++){var D=A[T],N=D.getSnapshot;D=D.value;try{if(!uo(N(),D))return!1}catch{return!1}}}if(A=d.child,d.subtreeFlags&16384&&A!==null)A.return=d,d=A;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ho(f,d){for(d&=~vo,d&=~rp,f.suspendedLanes|=d,f.pingedLanes&=~d,f=f.expirationTimes;0<d;){var A=31-zi(d),T=1<<A;f[A]=-1,d&=~T}}function cy(f){if($t&6)throw Error(o(327));Me();var d=Ph(f,0);if(!(d&1))return mr(f,Lr()),null;var A=m(f,d);if(f.tag!==0&&A===2){var T=yg(f);T!==0&&(d=T,A=sl(f,T))}if(A===1)throw A=go,qo(f,0),Ho(f,d),mr(f,Lr()),A;if(A===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=d,K(f,Gi),mr(f,Lr()),null}function Wg(f){Uo!==null&&Uo.tag===0&&!($t&6)&&Me();var d=$t;$t|=1;var A=Un.transition,T=dn;try{if(Un.transition=null,dn=1,f)return f()}finally{dn=T,Un.transition=A,$t=d,!($t&6)&&Oo()}}function lp(){ws=Vl.current,Ut(Vl)}function qo(f,d){f.finishedWork=null,f.finishedLanes=0;var A=f.timeoutHandle;if(A!==rt&&(f.timeoutHandle=rt,We(A)),Kn!==null)for(A=Kn.return;A!==null;){var T=A;switch(Bh(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Ml();break;case 3:Ws(),Ut(Or),Ut(yn),Hh();break;case 5:js(T);break;case 4:Ws();break;case 13:Ut(kn);break;case 19:Ut(kn);break;case 10:kh(T.type._context);break;case 22:case 23:lp()}A=A.return}if(pr=f,Kn=f=xn(f.current,null),li=ws=d,Tr=0,go=null,vo=rp=lc=0,Gi=id=null,dr!==null){for(d=0;d<dr.length;d++)if(A=dr[d],T=A.interleaved,T!==null){A.interleaved=null;var D=T.next,N=A.pending;if(N!==null){var $=N.next;N.next=D,T.next=$}A.pending=T}dr=null}return f}function fy(f,d){do{var A=Kn;try{if(Gu(),Df.current=zf,Xu){for(var T=nr.memoizedState;T!==null;){var D=T.queue;D!==null&&(D.pending=null),T=T.next}Xu=!1}if(da=0,br=Nr=nr=null,Ku=!1,nl=0,rd.current=null,A===null||A.return===null){Tr=1,go=d,Kn=null;break}e:{var N=f,$=A.return,ue=A,Re=d;if(d=li,ue.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Xe=Re,ht=ue,Yt=ht.tag;if(!(ht.mode&1)&&(Yt===0||Yt===11||Yt===15)){var Ct=ht.alternate;Ct?(ht.updateQueue=Ct.updateQueue,ht.memoizedState=Ct.memoizedState,ht.lanes=Ct.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var jn=zg($);if(jn!==null){jn.flags&=-257,ny(jn,$,ue,N,d),jn.mode&1&&ty(N,Xe,d),d=jn,Re=Xe;var At=d.updateQueue;if(At===null){var rs=new Set;rs.add(Re),d.updateQueue=rs}else At.add(Re);break e}else{if(!(d&1)){ty(N,Xe,d),p();break e}Re=Error(o(426))}}else if(Ln&&ue.mode&1){var Go=zg($);if(Go!==null){!(Go.flags&65536)&&(Go.flags|=256),ny(Go,$,ue,N,d),Za(Re);break e}}N=Re,Tr!==4&&(Tr=2),id===null?id=[N]:id.push(N),Re=Ff(Re,ue),ue=$;do{switch(ue.tag){case 3:ue.flags|=65536,d&=-d,ue.lanes|=d;var _e=kg(ue,Re,d);Wu(ue,_e);break e;case 1:N=Re;var fe=ue.type,Ce=ue.stateNode;if(!(ue.flags&128)&&(typeof fe.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(_a===null||!_a.has(Ce)))){ue.flags|=65536,d&=-d,ue.lanes|=d;var ot=Ng(ue,N,d);Wu(ue,ot);break e}}ue=ue.return}while(ue!==null)}F(A)}catch(Et){d=Et,Kn===A&&A!==null&&(Kn=A=A.return);continue}break}while(1)}function dy(){var f=ql.current;return ql.current=zf,f===null?zf:f}function p(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),pr===null||!(lc&268435455)&&!(rp&268435455)||Ho(pr,li)}function m(f,d){var A=$t;$t|=2;var T=dy();pr===f&&li===d||qo(f,d);do try{S();break}catch(D){fy(f,D)}while(1);if(Gu(),$t=A,ql.current=T,Kn!==null)throw Error(o(261));return pr=null,li=0,Tr}function S(){for(;Kn!==null;)L(Kn)}function I(){for(;Kn!==null&&!X1();)L(Kn)}function L(f){var d=Ss(f.alternate,f,ws);f.memoizedProps=f.pendingProps,d===null?F(f):Kn=d,rd.current=null}function F(f){var d=f;do{var A=d.alternate;if(f=d.return,d.flags&32768){if(A=Ai(A,d),A!==null){A.flags&=32767,Kn=A;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Tr=6,Kn=null;return}}else if(A=Fg(A,d,ws),A!==null){Kn=A;return}if(d=d.sibling,d!==null){Kn=d;return}Kn=d=f}while(d!==null);Tr===0&&(Tr=5)}function K(f,d){var A=dn,T=Un.transition;try{Un.transition=null,dn=1,oe(f,d,A)}finally{Un.transition=T,dn=A}return null}function oe(f,d,A){do Me();while(Uo!==null);if($t&6)throw Error(o(327));var T=f.finishedWork,D=f.finishedLanes;if(T===null)return null;if(f.finishedWork=null,f.finishedLanes=0,T===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var N=T.lanes|T.childLanes;if(q3(f,N),f===pr&&(Kn=pr=null,li=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Gl||(Gl=!0,ve(ao,function(){return Me(),null})),N=(T.flags&15990)!==0,T.subtreeFlags&15990||N){N=Un.transition,Un.transition=null;var $=dn;dn=1;var ue=$t;$t|=4,rd.current=null,Ug(f,T),Jf(f,T),re(f.containerInfo),f.current=T,Hg(T),K1(),$t=ue,dn=$,Un.transition=N}else f.current=T;if(Gl&&(Gl=!1,Uo=f,sd=D),N=f.pendingLanes,N===0&&(_a=null),Jr(T.stateNode),mr(f,Lr()),d!==null)for(A=f.onRecoverableError,T=0;T<d.length;T++)A(d[T]);if(sp)throw sp=!1,f=Vg,Vg=null,f;return sd&1&&f.tag!==0&&Me(),N=f.pendingLanes,N&1?f===op?Wl++:(Wl=0,op=f):Wl=0,Oo(),null}function Me(){if(Uo!==null){var f=Q1(sd),d=Un.transition,A=dn;try{if(Un.transition=null,dn=16>f?16:f,Uo===null)var T=!1;else{if(f=Uo,Uo=null,sd=0,$t&6)throw Error(o(331));var D=$t;for($t|=4,et=f.current;et!==null;){var N=et,$=N.child;if(et.flags&16){var ue=N.deletions;if(ue!==null){for(var Re=0;Re<ue.length;Re++){var Xe=ue[Re];for(et=Xe;et!==null;){var ht=et;switch(ht.tag){case 0:case 11:case 15:va(8,ht,N)}var Yt=ht.child;if(Yt!==null)Yt.return=ht,et=Yt;else for(;et!==null;){ht=et;var Ct=ht.sibling,jn=ht.return;if($f(ht),ht===Xe){et=null;break}if(Ct!==null){Ct.return=jn,et=Ct;break}et=jn}}}var At=N.alternate;if(At!==null){var rs=At.child;if(rs!==null){At.child=null;do{var Go=rs.sibling;rs.sibling=null,rs=Go}while(rs!==null)}}et=N}}if(N.subtreeFlags&2064&&$!==null)$.return=N,et=$;else e:for(;et!==null;){if(N=et,N.flags&2048)switch(N.tag){case 0:case 11:case 15:va(9,N,N.return)}var _e=N.sibling;if(_e!==null){_e.return=N.return,et=_e;break e}et=N.return}}var fe=f.current;for(et=fe;et!==null;){$=et;var Ce=$.child;if($.subtreeFlags&2064&&Ce!==null)Ce.return=$,et=Ce;else e:for($=fe;et!==null;){if(ue=et,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:Bl(9,ue)}}catch(Et){lt(ue,ue.return,Et)}if(ue===$){et=null;break e}var ot=ue.sibling;if(ot!==null){ot.return=ue.return,et=ot;break e}et=ue.return}}if($t=D,Oo(),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(qu,f)}catch{}T=!0}return T}finally{dn=A,Un.transition=d}}return!1}function Ze(f,d,A){d=Ff(A,d),d=kg(f,d,1),Fi(f,d),d=Wi(),f=ap(f,1),f!==null&&(Tl(f,1,d),mr(f,d))}function lt(f,d,A){if(f.tag===3)Ze(f,f,A);else for(;d!==null;){if(d.tag===3){Ze(d,f,A);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(_a===null||!_a.has(T))){f=Ff(A,f),f=Ng(d,f,1),Fi(d,f),f=Wi(),d=ap(d,1),d!==null&&(Tl(d,1,f),mr(d,f));break}}d=d.return}}function zt(f,d,A){var T=f.pingCache;T!==null&&T.delete(d),d=Wi(),f.pingedLanes|=f.suspendedLanes&A,pr===f&&(li&A)===A&&(Tr===4||Tr===3&&(li&130023424)===li&&500>Lr()-qg?qo(f,0):vo|=A),mr(f,d)}function st(f,d){d===0&&(f.mode&1?(d=bl,bl<<=1,!(bl&130023424)&&(bl=4194304)):d=1);var A=Wi();f=ap(f,d),f!==null&&(Tl(f,d,A),mr(f,A))}function Nn(f){var d=f.memoizedState,A=0;d!==null&&(A=d.retryLane),st(f,A)}function $n(f,d){var A=0;switch(f.tag){case 13:var T=f.stateNode,D=f.memoizedState;D!==null&&(A=D.retryLane);break;case 19:T=f.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(d),st(f,A)}var Ss;Ss=function(f,d,A){if(f!==null)if(f.memoizedProps!==d.pendingProps||Or.current)Vi=!0;else{if(!(f.lanes&A)&&!(d.flags&128))return Vi=!1,zr(f,d,A);Vi=!!(f.flags&131072)}else Vi=!1,Ln&&d.flags&1048576&&zh(d,Rl,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps;var D=Ni(d,yn.current);Pl(d,A),D=If(null,d,T,f,D,A);var N=Vh();return d.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Zi(T)?(N=!0,Th(d)):N=!1,d.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Sf(d),D.updater=Tf,d.stateNode=D,D._reactInternals=d,Yu(d,T,f,A),d=Ll(null,d,T,!0,N,A)):(d.tag=0,Ln&&N&&Xa(d),Si(null,d,D,A),d=d.child),d;case 16:T=d.elementType;e:{switch(f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,D=T._init,T=D(T._payload),d.type=T,D=d.tag=Mt(T),f=co(T,f),D){case 0:d=ic(null,d,T,f,A);break e;case 1:d=Yf(null,d,T,f,A);break e;case 11:d=Vf(null,d,T,f,A);break e;case 14:d=sy(null,d,T,co(T.type,f),A);break e}throw Error(o(306,T,""))}return d;case 0:return T=d.type,D=d.pendingProps,D=d.elementType===T?D:co(T,D),ic(f,d,T,D,A);case 1:return T=d.type,D=d.pendingProps,D=d.elementType===T?D:co(T,D),Yf(f,d,T,D,A);case 3:e:{if(Xh(d),f===null)throw Error(o(387));T=d.pendingProps,N=d.memoizedState,D=N.element,wg(f,d),Mf(d,T,null,A);var $=d.memoizedState;if(T=$.element,ye&&N.isDehydrated)if(N={element:T,isDehydrated:!1,cache:$.cache,transitions:$.transitions},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){D=Error(o(423)),d=Kh(f,d,T,A,D);break e}else if(T!==D){D=Error(o(424)),d=Kh(f,d,T,A,D);break e}else for(ye&&(hn=me(d.stateNode.containerInfo),Ui=d,Ln=!0,ni=null,xs=!1),A=ri(d,null,T,A),d.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if($a(),T===D){d=rr(f,d,A);break e}Si(f,d,T,A)}d=d.child}return d;case 5:return el(d),f===null&&Pf(d),T=d.type,D=d.pendingProps,N=f!==null?f.memoizedProps:null,$=D.children,be(T,D)?$=null:N!==null&&be(T,N)&&(d.flags|=32),jf(f,d),Si(f,d,$,A),d.child;case 6:return f===null&&Pf(d),null;case 13:return $h(f,d,A);case 4:return Rf(d,d.stateNode.containerInfo),T=d.pendingProps,f===null?d.child=Fn(d,null,T,A):Si(f,d,T,A),d.child;case 11:return T=d.type,D=d.pendingProps,D=d.elementType===T?D:co(T,D),Vf(f,d,T,D,A);case 7:return Si(f,d,d.pendingProps,A),d.child;case 8:return Si(f,d,d.pendingProps.children,A),d.child;case 12:return Si(f,d,d.pendingProps.children,A),d.child;case 10:e:{if(T=d.type._context,D=d.pendingProps,N=d.memoizedProps,$=D.value,Lh(d,T,$),N!==null)if(uo(N.value,$)){if(N.children===D.children&&!Or.current){d=rr(f,d,A);break e}}else for(N=d.child,N!==null&&(N.return=d);N!==null;){var ue=N.dependencies;if(ue!==null){$=N.child;for(var Re=ue.firstContext;Re!==null;){if(Re.context===T){if(N.tag===1){Re=xi(-1,A&-A),Re.tag=2;var Xe=N.updateQueue;if(Xe!==null){Xe=Xe.shared;var ht=Xe.pending;ht===null?Re.next=Re:(Re.next=ht.next,ht.next=Re),Xe.pending=Re}}N.lanes|=A,Re=N.alternate,Re!==null&&(Re.lanes|=A),Ef(N.return,A,d),ue.lanes|=A;break}Re=Re.next}}else if(N.tag===10)$=N.type===d.type?null:N.child;else if(N.tag===18){if($=N.return,$===null)throw Error(o(341));$.lanes|=A,ue=$.alternate,ue!==null&&(ue.lanes|=A),Ef($,A,d),$=N.sibling}else $=N.child;if($!==null)$.return=N;else for($=N;$!==null;){if($===d){$=null;break}if(N=$.sibling,N!==null){N.return=$.return,$=N;break}$=$.return}N=$}Si(f,d,D.children,A),d=d.child}return d;case 9:return D=d.type,T=d.pendingProps.children,Pl(d,A),D=ti(D),T=T(D),d.flags|=1,Si(f,d,T,A),d.child;case 14:return T=d.type,D=co(T,d.pendingProps),D=co(T.type,D),sy(f,d,T,D,A);case 15:return Gf(f,d,d.type,d.pendingProps,A);case 17:return T=d.type,D=d.pendingProps,D=d.elementType===T?D:co(T,D),f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Zi(T)?(f=!0,Th(d)):f=!1,Pl(d,A),Ag(d,T,D),Yu(d,T,D,A),Ll(null,d,T,!0,f,A);case 19:return Tt(f,d,A);case 22:return Wf(f,d,A)}throw Error(o(156,d.tag))};function ve(f,d){return Hu(f,d)}function ce(f,d,A,T){this.tag=f,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ae(f,d,A,T){return new ce(f,d,A,T)}function it(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Mt(f){if(typeof f=="function")return it(f)?1:0;if(f!=null){if(f=f.$$typeof,f===y)return 11;if(f===w)return 14}return 2}function xn(f,d){var A=f.alternate;return A===null?(A=Ae(f.tag,d,f.key,f.mode),A.elementType=f.elementType,A.type=f.type,A.stateNode=f.stateNode,A.alternate=f,f.alternate=A):(A.pendingProps=d,A.type=f.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=f.flags&14680064,A.childLanes=f.childLanes,A.lanes=f.lanes,A.child=f.child,A.memoizedProps=f.memoizedProps,A.memoizedState=f.memoizedState,A.updateQueue=f.updateQueue,d=f.dependencies,A.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},A.sibling=f.sibling,A.index=f.index,A.ref=f.ref,A}function Nt(f,d,A,T,D,N){var $=2;if(T=f,typeof f=="function")it(f)&&($=1);else if(typeof f=="string")$=5;else e:switch(f){case c:return ln(A.children,D,N,d);case h:$=8,D|=8;break;case g:return f=Ae(12,A,d,D|2),f.elementType=g,f.lanes=N,f;case _:return f=Ae(13,A,d,D),f.elementType=_,f.lanes=N,f;case E:return f=Ae(19,A,d,D),f.elementType=E,f.lanes=N,f;case C:return ir(A,D,N,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case v:$=10;break e;case x:$=9;break e;case y:$=11;break e;case w:$=14;break e;case M:$=16,T=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return d=Ae($,A,d,D),d.elementType=f,d.type=T,d.lanes=N,d}function ln(f,d,A,T){return f=Ae(7,f,T,d),f.lanes=A,f}function ir(f,d,A,T){return f=Ae(22,f,T,d),f.elementType=C,f.lanes=A,f.stateNode={},f}function un(f,d,A){return f=Ae(6,f,null,d),f.lanes=A,f}function Vo(f,d,A){return d=Ae(4,f.children!==null?f.children:[],f.key,d),d.lanes=A,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function Q3(f,d,A,T,D){this.tag=d,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=rt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=T,this.onRecoverableError=D,ye&&(this.mutableSourceEagerHydrationData=null)}function l5(f,d,A,T,D,N,$,ue,Re){return f=new Q3(f,d,A,ue,Re),d===1?(d=1,N===!0&&(d|=8)):d=0,N=Ae(3,null,null,d),f.current=N,N.stateNode=f,N.memoizedState={element:T,isDehydrated:A,cache:null,transitions:null},Sf(N),f}function u5(f){if(!f)return gs;f=f._reactInternals;e:{if(z(f)!==f||f.tag!==1)throw Error(o(170));var d=f;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Zi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(f.tag===1){var A=f.type;if(Zi(A))return ja(f,A,d)}return d}function c5(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=Q(d),f===null?null:f.stateNode}function f5(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var A=f.retryLane;f.retryLane=A!==0&&A<d?A:d}}function X3(f,d){f5(f,d),(f=f.alternate)&&f5(f,d)}function i9(f){return f=Q(f),f===null?null:f.stateNode}function s9(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var d=Wi();ns(f,134217728,d),X3(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=Wi(),A=Br(f);ns(f,A,d),X3(f,A)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var d=f.stateNode;if(d.current.memoizedState.isDehydrated){var A=qs(d.pendingLanes);A!==0&&(Rh(d,A|1),mr(d,Lr()),!($t&6)&&(Es(),Oo()))}break;case 13:var T=Wi();Wg(function(){return ns(f,1,T)}),X3(f,1)}},n.batchedUpdates=function(f,d){var A=$t;$t|=1;try{return f(d)}finally{$t=A,$t===0&&(Es(),Ya&&Oo())}},n.createComponentSelector=function(f){return{$$typeof:rl,value:f}},n.createContainer=function(f,d,A,T,D,N,$){return l5(f,d,!1,null,A,T,D,N,$)},n.createHasPseudoClassSelector=function(f){return{$$typeof:oi,value:f}},n.createHydrationContainer=function(f,d,A,T,D,N,$,ue,Re){return f=l5(A,T,!0,f,D,N,$,ue,Re),f.context=u5(null),A=f.current,T=Wi(),D=Br(A),N=xi(T,D),N.callback=d??null,Fi(A,N),f.current.lanes=D,Tl(f,D,T),mr(f,T),f},n.createPortal=function(f,d,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:f,containerInfo:d,implementation:A}},n.createRoleSelector=function(f){return{$$typeof:mo,value:f}},n.createTestNameSelector=function(f){return{$$typeof:Xs,value:f}},n.createTextSelector=function(f){return{$$typeof:Hl,value:f}},n.deferredUpdates=function(f){var d=dn,A=Un.transition;try{return Un.transition=null,dn=16,f()}finally{dn=d,Un.transition=A}},n.discreteUpdates=function(f,d,A,T,D){var N=dn,$=Un.transition;try{return Un.transition=null,dn=1,f(d,A,T,D)}finally{dn=N,Un.transition=$,$t===0&&Es()}},n.findAllNodes=np,n.findBoundingRects=function(f,d){if(!Lt)throw Error(o(363));d=np(f,d),f=[];for(var A=0;A<d.length;A++)f.push(Z(d[A]));for(d=f.length-1;0<d;d--){A=f[d];for(var T=A.x,D=T+A.width,N=A.y,$=N+A.height,ue=d-1;0<=ue;ue--)if(d!==ue){var Re=f[ue],Xe=Re.x,ht=Xe+Re.width,Yt=Re.y,Ct=Yt+Re.height;if(T>=Xe&&N>=Yt&&D<=ht&&$<=Ct){f.splice(d,1);break}else if(T!==Xe||A.width!==Re.width||Ct<N||Yt>$){if(!(N!==Yt||A.height!==Re.height||ht<T||Xe>D)){Xe>T&&(Re.width+=Xe-T,Re.x=T),ht<D&&(Re.width=D-Xe),f.splice(d,1);break}}else{Yt>N&&(Re.height+=Yt-N,Re.y=N),Ct<$&&(Re.height=$-Yt),f.splice(d,1);break}}}return f},n.findHostInstance=c5,n.findHostInstanceWithNoPortals=function(f){return f=q(f),f=f!==null?X(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return c5(f)},n.flushControlled=function(f){var d=$t;$t|=1;var A=Un.transition,T=dn;try{Un.transition=null,dn=1,f()}finally{dn=T,Un.transition=A,$t=d,$t===0&&(Es(),Oo())}},n.flushPassiveEffects=Me,n.flushSync=Wg,n.focusWithin=function(f,d){if(!Lt)throw Error(o(363));for(f=tp(f),d=ly(f,d),d=Array.from(d),f=0;f<d.length;){var A=d[f++];if(!ae(A)){if(A.tag===5&&ze(A.stateNode))return!0;for(A=A.child;A!==null;)d.push(A),A=A.sibling}}return!1},n.getCurrentUpdatePriority=function(){return dn},n.getFindAllNodesFailureDescription=function(f,d){if(!Lt)throw Error(o(363));var A=0,T=[];f=[tp(f),0];for(var D=0;D<f.length;){var N=f[D++],$=f[D++],ue=d[$];if((N.tag!==5||!ae(N))&&(il(N,ue)&&(T.push(nd(ue)),$++,$>A&&(A=$)),$<d.length))for(N=N.child;N!==null;)f.push(N,$),N=N.sibling}if(A<d.length){for(f=[];A<d.length;A++)f.push(nd(d[A]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return se(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:i9,findFiberByHostInstance:f.findFiberByHostInstance||s9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{qu=d.inject(f),lo=d}catch{}f=!!d.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,d,A,T){if(!Lt)throw Error(o(363));f=np(f,d);var D=qe(f,A,T).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(f,d){var A=d._getVersion;A=A(d._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[d,A]:f.mutableSourceEagerHydrationData.push(d,A)},n.runWithPriority=function(f,d){var A=dn;try{return dn=f,d()}finally{dn=A}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,d,A,T){var D=d.current,N=Wi(),$=Br(D);return A=u5(A),d.context===null?d.context=A:d.pendingContext=A,d=xi(N,$),d.payload={element:f},T=T===void 0?null:T,T!==null&&(d.callback=T),Fi(D,d),f=ns(D,$,N),f!==null&&Af(f,D,$),$},n};(function(t){t.exports=qQ})(UQ);const VQ=R2(BA);function u7(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}const su=[];function c7(t,e,n=!1,r={}){for(const s of su)if(u7(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,promise:t(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=su.indexOf(i);s!==-1&&su.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(su.push(i),!n)throw i.promise}const Tb=(t,e,n)=>c7(t,e,!1,n),GQ=(t,e,n)=>void c7(t,e,!0,n),WQ=t=>{if(t===void 0||t.length===0)su.splice(0,su.length);else{const e=su.find(n=>u7(t,n.keys,n.equal));if(e){const n=su.indexOf(e);n!==-1&&su.splice(n,1)}}};var q6,V6;const f7=t=>t&&t.isOrthographicCamera,jQ=t=>t&&t.hasOwnProperty("current"),M1=typeof window<"u"&&((q6=window.document)!=null&&q6.createElement||((V6=window.navigator)==null?void 0:V6.product)==="ReactNative")?b.useLayoutEffect:b.useEffect;function d7(t){const e=b.useRef(t);return M1(()=>void(e.current=t),[t]),e}function YQ({set:t}){return M1(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class h7 extends b.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}h7.getDerivedStateFromError=()=>({error:!0});const p7="__default",QQ=t=>t&&!!t.memoized&&!!t.changes;function m7(t){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(t)?Math.min(Math.max(t[0],e),t[1]):t}const d0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},yr={obj:t=>t===Object(t)&&!yr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(yr.str(t)||yr.num(t))return t===e;const s=yr.obj(t);if(s&&r==="reference")return t===e;const o=yr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;for(a in i?e:t)if(t[a]!==e[a])return!1;if(yr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function XQ(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function KQ(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Hp(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function FA(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const G6=/-\d+$/;function nE(t,e,n){if(yr.str(n)){if(G6.test(n)){const s=n.replace(G6,""),{target:o,key:a}=FA(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=FA(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function W6(t,e,n){var r,i;if(yr.str(n)){const{target:s,key:o}=FA(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function g7(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const h=(c=t==null?void 0:t.__r3f)!=null?c:{},g=Object.entries(i),v=[];if(u){const y=Object.keys(l);for(let _=0;_<y.length;_++)i.hasOwnProperty(y[_])||g.unshift([y[_],p7+"remove"])}g.forEach(([y,_])=>{var E;if((E=t.__r3f)!=null&&E.primitive&&y==="object"||yr.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return v.push([y,_,!0,[]]);let w=[];y.includes("-")&&(w=y.split("-")),v.push([y,_,!1,w]);for(const M in i){const C=i[M];M.startsWith(`${y}-`)&&v.push([M,C,!1,M.split("-")])}});const x={...i};return h.memoizedProps&&h.memoizedProps.args&&(x.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(x.attach=h.memoizedProps.attach),{memoized:x,changes:v}}function rE(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=QQ(e)?e:g7(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let v=0;v<u.length;v++){let[x,y,_,E]=u[v],w=t,M=w[x];if(E.length&&(M=E.reduce((C,R)=>C[R],t),!(M&&M.set))){const[C,...R]=E.reverse();w=R.reverse().reduce((O,k)=>O[k],t),x=C}if(y===p7+"remove")if(w.constructor){var h;const C=new w.constructor(...(h=w.__r3f.memoizedProps.args)!=null?h:[]);y=C[x],C.dispose&&C.dispose()}else y=0;if(_)y?s.handlers[x]=y:delete s.handlers[x],s.eventCount=Object.keys(s.handlers).length;else if(M&&M.set&&(M.copy||M instanceof Wc)){if(Array.isArray(y))M.fromArray?M.fromArray(y):M.set(...y);else if(M.copy&&y&&y.constructor&&M.constructor.name===y.constructor.name)M.copy(y);else if(y!==void 0){const C=M instanceof tt;!C&&M.setScalar?M.setScalar(y):M instanceof Wc&&y instanceof Wc?M.mask=y.mask:M.set(y),!("ColorManagement"in lh)&&!a.linear&&C&&M.convertSRGBToLinear()}}else w[x]=y,!a.linear&&w[x]instanceof Xn&&(w[x].encoding=Rt);qp(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const v=a.internal.interaction.indexOf(t);v>-1&&a.internal.interaction.splice(v,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&UA(t),t}function qp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function UA(t){t.onUpdate==null||t.onUpdate(t)}function $Q(t,e){t.manual||(f7(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ZQ(t,e,n){const r=n.pop(),i=n.reduce((s,o)=>s[o],t);return i[r]=e}function mx(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function JQ(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ic.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ic.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ic.ContinuousEventPriority;default:return Ic.DefaultEventPriority}}function v7(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function eX(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{v7(n.capturedMap,e,r,i)})}function tX(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+h*h))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),h=new Set,g=[],v=u?u(c.internal.interaction):c.internal.interaction;for(let E=0;E<v.length;E++){const w=d0(v[E]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function x(E){const w=d0(E);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var M;w.events.compute==null||w.events.compute(l,w,(M=w.previousRoot)==null?void 0:M.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(E,!0):[]}let y=v.flatMap(x).sort((E,w)=>{const M=d0(E.object),C=d0(w.object);return!M||!C?E.distance-w.distance:C.events.priority-M.events.priority||E.distance-w.distance}).filter(E=>{const w=mx(E);return h.has(w)?!1:(h.add(w),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const E of y){let w=E.object;for(;w;){var _;(_=w.__r3f)!=null&&_.eventCount&&g.push({...E,eventObject:w}),w=w.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let E of c.internal.capturedMap.get(l.pointerId).values())h.has(mx(E.intersection))||g.push(E.intersection);return g}function i(l,u,c,h){const g=t.getState();if(l.length){const v={stopped:!1};for(const x of l){const y=d0(x.object)||g,{raycaster:_,pointer:E,camera:w,internal:M}=y,C=new j(E.x,E.y,0).unproject(w),R=B=>{var q,Q;return(q=(Q=M.capturedMap.get(B))==null?void 0:Q.has(x.eventObject))!=null?q:!1},O=B=>{const q={intersection:x,target:u.target};M.capturedMap.has(B)?M.capturedMap.get(B).set(x.eventObject,q):M.capturedMap.set(B,new Map([[x.eventObject,q]])),u.target.setPointerCapture(B)},k=B=>{const q=M.capturedMap.get(B);q&&v7(M.capturedMap,x.eventObject,q,B)};let P={};for(let B in u){let q=u[B];typeof q!="function"&&(P[B]=q)}let z={...x,...P,pointer:E,intersections:l,stopped:v.stopped,delta:c,unprojectedPoint:C,ray:_.ray,camera:w,stopPropagation(){const B="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!B||B.has(x.eventObject))&&(z.stopped=v.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(q=>q.eventObject===x.eventObject))){const q=l.slice(0,l.indexOf(x));s([...q,x])}},target:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:k},currentTarget:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:k},nativeEvent:u};if(h(z),v.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(h=>h.object===c.object&&h.index===c.index&&h.instanceId===c.instanceId)){const g=c.eventObject.__r3f,v=g==null?void 0:g.handlers;if(u.hovered.delete(mx(c)),g!=null&&g.eventCount){const x={...c,intersections:l};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function o(l,u){for(let c=0;c<u.length;c++){const h=u[c].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))}}return function(c){const{onPointerMissed:h,internal:g}=t.getState();g.lastEvent.current=c;const v=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(c,v?n:void 0),E=x?e(c):0;l==="onPointerDown"&&(g.initialClick=[c.offsetX,c.offsetY],g.initialHits=_.map(M=>M.eventObject)),x&&!_.length&&E<=2&&(o(c,g.interaction),h&&h(c)),v&&s(_);function w(M){const C=M.eventObject,R=C.__r3f,O=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(v){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const k=mx(M),P=g.hovered.get(k);P?P.stopped&&M.stopPropagation():(g.hovered.set(k,M),O.onPointerOver==null||O.onPointerOver(M),O.onPointerEnter==null||O.onPointerEnter(M))}O.onPointerMove==null||O.onPointerMove(M)}else{const k=O[l];k?(!x||g.initialHits.includes(C))&&(o(c,g.interaction.filter(P=>!g.initialHits.includes(P))),k(M)):x&&g.initialHits.includes(C)&&o(c,g.interaction.filter(P=>!g.initialHits.includes(P)))}}i(_,c,E,w)}}return{handlePointer:a}}let HA={},c3=t=>void(HA={...HA,...t});function nX(t,e){function n(c,{args:h=[],attach:g,...v},x){let y=`${c[0].toUpperCase()}${c.slice(1)}`,_;if(c==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const E=v.object;_=Hp(E,{type:c,root:x,attach:g,primitive:!0})}else{const E=HA[y];if(!E)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");_=Hp(new E(...h),{type:c,root:x,attach:g,memoizedProps:{args:h}})}return _.__r3f.attach===void 0&&(_ instanceof Jt?_.__r3f.attach="geometry":_ instanceof gi&&(_.__r3f.attach="material")),y!=="inject"&&rE(_,v),_}function r(c,h){let g=!1;if(h){var v,x;(v=h.__r3f)!=null&&v.attach?nE(c,h,h.__r3f.attach):h.isObject3D&&c.isObject3D&&(c.add(h),g=!0),g||(x=c.__r3f)==null||x.objects.push(h),h.__r3f||Hp(h,{}),h.__r3f.parent=c,UA(h),qp(h)}}function i(c,h,g){let v=!1;if(h){var x,y;if((x=h.__r3f)!=null&&x.attach)nE(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){h.parent=c,h.dispatchEvent({type:"added"});const _=c.children.filter(w=>w!==h),E=_.indexOf(g);c.children=[..._.slice(0,E),h,..._.slice(E)],v=!0}v||(y=c.__r3f)==null||y.objects.push(h),h.__r3f||Hp(h,{}),h.__r3f.parent=c,UA(h),qp(h)}}function s(c,h,g=!1){c&&[...c].forEach(v=>o(h,v,g))}function o(c,h,g){if(h){var v,x,y;if(h.__r3f&&(h.__r3f.parent=null),(v=c.__r3f)!=null&&v.objects&&(c.__r3f.objects=c.__r3f.objects.filter(C=>C!==h)),(x=h.__r3f)!=null&&x.attach)W6(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){var _;c.remove(h),(_=h.__r3f)!=null&&_.root&&eX(h.__r3f.root,h)}const w=(y=h.__r3f)==null?void 0:y.primitive,M=g===void 0?h.dispose!==null&&!w:g;if(!w){var E;s((E=h.__r3f)==null?void 0:E.objects,h,M),s(h.children,h,M)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,w||delete h.__r3f),M&&h.dispose&&h.type!=="Scene"&&qv.unstable_scheduleCallback(qv.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),qp(c)}}function a(c,h,g,v){var x;const y=(x=c.__r3f)==null?void 0:x.parent;if(!y)return;const _=n(h,g,c.__r3f.root);if(c.children){for(const E of c.children)E.__r3f&&r(_,E);c.children=c.children.filter(E=>!E.__r3f)}c.__r3f.objects.forEach(E=>r(_,E)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(y,c),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(y,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[v,v.alternate].forEach(E=>{E!==null&&(E.stateNode=_,E.ref&&(typeof E.ref=="function"?E.ref(_):E.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:VQ({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,h)=>{if(!h)return;const g=c.getState().scene;g.__r3f&&(g.__r3f.root=c,r(g,h))},removeChildFromContainer:(c,h)=>{h&&o(c.getState().scene,h)},insertInContainerBefore:(c,h,g)=>{if(!h||!g)return;const v=c.getState().scene;v.__r3f&&i(v,h,g)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var h;const g=(h=c==null?void 0:c.__r3f)!=null?h:{};return Boolean(g.handlers)},prepareUpdate(c,h,g,v){if(c.__r3f.primitive&&v.object&&v.object!==c)return[!0];{const{args:x=[],children:y,..._}=v,{args:E=[],children:w,...M}=g;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((R,O)=>R!==E[O]))return[!0];const C=g7(c,_,M,!0);return C.changes.length?[!1,C]:null}},commitUpdate(c,[h,g],v,x,y,_){h?a(c,v,y,_):rE(c,g)},commitMount(c,h,g,v){var x;const y=(x=c.__r3f)!=null?x:{};c.raycast&&y.handlers&&y.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Hp(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var h;const{attach:g,parent:v}=(h=c.__r3f)!=null?h:{};g&&v&&W6(v,c,g),c.isObject3D&&(c.visible=!1),qp(c)},unhideInstance(c,h){var g;const{attach:v,parent:x}=(g=c.__r3f)!=null?g:{};v&&x&&nE(x,c,v),(c.isObject3D&&h.visible==null||h.visible)&&(c.visible=!0),qp(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ic.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&yr.fun(performance.now)?performance.now:yr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:yr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:rE}}const y7=t=>!!(t!=null&&t.render),x7=b.createContext(null),rX=(t,e)=>{const n=a7((a,l)=>{const u=new j,c=new j,h=new j;function g(E=l().camera,w=c,M=l().size){const{width:C,height:R,top:O,left:k}=M,P=C/R;w instanceof j?h.copy(w):h.set(...w);const z=E.getWorldPosition(u).distanceTo(h);if(f7(E))return{width:C/E.zoom,height:R/E.zoom,top:O,left:k,factor:1,distance:z,aspect:P};{const B=E.fov*Math.PI/180,q=2*Math.tan(B/2)*z,Q=q*(C/R);return{width:Q,height:q,top:O,left:k,factor:C/Q,distance:z,aspect:P}}}let v;const x=E=>a(w=>({performance:{...w.performance,current:E}})),y=new xe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(E=1)=>t(l(),E),advance:(E,w)=>e(E,w,l()),legacy:!1,linear:!1,flat:!1,scene:Hp(new Dm),controls:null,clock:new Ab,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=l();v&&clearTimeout(v),E.performance.current!==E.performance.min&&x(E.performance.min),v=setTimeout(()=>x(l().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:E=>a(w=>({...w,events:{...w.events,...E}})),setSize:(E,w,M,C,R)=>{const O=l().camera,k={width:E,height:w,top:C||0,left:R||0,updateStyle:M};a(P=>({size:k,viewport:{...P.viewport,...g(O,c,k)}}))},setDpr:E=>a(w=>{const M=m7(E);return{viewport:{...w.viewport,dpr:M,initialDpr:w.viewport.initialDpr||M}}}),setFrameloop:(E="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,E!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:E}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:b.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(E,w,M)=>{const C=l().internal;return C.priority=C.priority+(w>0?1:0),C.subscribers.push({ref:E,priority:w,store:M}),C.subscribers=C.subscribers.sort((R,O)=>R.priority-O.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(w>0?1:0),R.subscribers=R.subscribers.filter(O=>O.ref!==E))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:h}=n.getState();(l!==i||u.dpr!==s)&&(i=l,s=u.dpr,$Q(a,l),c.setPixelRatio(u.dpr),c.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,h(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let gx,iX=new Set,sX=new Set,oX=new Set;function iE(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function h0(t,e){switch(t){case"before":return iE(iX,e);case"after":return iE(sX,e);case"tail":return iE(oX,e)}}let sE,oE;function aE(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),sE=e.internal.subscribers,gx=0;gx<sE.length;gx++)oE=sE[gx],oE.ref.current(oE.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function aX(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,h0("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=aE(l,i))}if(h0("after",l),n===0)return h0("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(h=>o(h.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,h){if(u&&h0("before",l),c)aE(l,c,h);else for(const g of t.values())aE(l,g.store.getState());u&&h0("after",l)}return{loop:s,invalidate:o,advance:a}}function _7(){const t=b.useContext(x7);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Qn(t=n=>n,e){return _7()(t,e)}function Al(t,e=0){const n=_7(),r=n.getState().internal.subscribe,i=d7(t);return M1(()=>r(i,e,n),[e,r,n]),null}function w7(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,XQ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function rg(t,e,n,r){const i=Array.isArray(e)?e:[e],s=Tb(w7(n,r),[t,...i],{equal:yr.equ});return Array.isArray(e)?s:s[0]}rg.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return GQ(w7(n),[t,...r])};rg.clear=function(t,e){const n=Array.isArray(e)?e:[e];return WQ([t,...n])};const Om=new Map,{invalidate:j6,advance:Y6}=aX(Om),{reconciler:J_,applyProps:vx}=nX(Om,JQ),p0={objects:"shallow",strict:!1},lX=(t,e)=>{const n=typeof t=="function"?t(e):t;return y7(n)?n:new ib({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function uX(t){return t instanceof HTMLCanvasElement}function cX(t,e){if(e)return e;if(uX(t)&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function fX(t){const e=Om.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||rX(j6,Y6),o=n||J_.createContainer(s,Ic.ConcurrentRoot,null,!1,null,"",i,null);e||Om.set(t,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:c,size:h,events:g,onCreated:v,shadows:x=!1,linear:y=!1,flat:_=!1,legacy:E=!1,orthographic:w=!1,frameloop:M="always",dpr:C=[1,2],performance:R,raycaster:O,camera:k,onPointerMissed:P}=u,z=s.getState(),B=z.gl;z.gl||z.set({gl:B=lX(c,t)});let q=z.raycaster;q||z.set({raycaster:q=new r7});const{params:Q,...W}=O||{};if(yr.equ(W,q,p0)||vx(q,{...W}),yr.equ(Q,q.params,p0)||vx(q,{params:{...q.params,...Q}}),!z.camera){const G=k instanceof Km,te=G?k:w?new jc(0,0,0,0,.1,1e3):new Zn(75,0,.1,1e3);G||(te.position.z=5,k&&vx(te,k),k!=null&&k.rotation||te.lookAt(0,0,0)),z.set({camera:te})}if(!z.xr){const G=(V,J)=>{const he=s.getState();he.frameloop!=="never"&&Y6(V,!0,he,J)},te=()=>{const V=s.getState();V.gl.xr.enabled=V.gl.xr.isPresenting,V.gl.xr.setAnimationLoop(V.gl.xr.isPresenting?G:null),V.gl.xr.isPresenting||j6(V)},re={connect(){const V=s.getState().gl;V.xr.addEventListener("sessionstart",te),V.xr.addEventListener("sessionend",te)},disconnect(){const V=s.getState().gl;V.xr.removeEventListener("sessionstart",te),V.xr.removeEventListener("sessionend",te)}};B.xr&&re.connect(),z.set({xr:re})}if(B.shadowMap){const G=B.shadowMap.enabled,te=B.shadowMap.type;if(B.shadowMap.enabled=!!x,yr.boo(x))B.shadowMap.type=Y0;else if(yr.str(x)){var X;const re={basic:_O,percentage:Y2,soft:Y0,variance:Dd};B.shadowMap.type=(X=re[x])!=null?X:Y0}else yr.obj(x)&&Object.assign(B.shadowMap,x);(G!==B.shadowMap.enabled||te!==B.shadowMap.type)&&(B.shadowMap.needsUpdate=!0)}"ColorManagement"in lh&&ZQ(lh,E,["ColorManagement","legacyMode"]);const ne=y?Fa:Rt,se=_?Na:WM;B.outputEncoding!==ne&&(B.outputEncoding=ne),B.toneMapping!==se&&(B.toneMapping=se),z.legacy!==E&&z.set(()=>({legacy:E})),z.linear!==y&&z.set(()=>({linear:y})),z.flat!==_&&z.set(()=>({flat:_})),c&&!yr.fun(c)&&!y7(c)&&!yr.equ(c,B,p0)&&vx(B,c),g&&!z.events.handlers&&z.set({events:g(s)}),C&&z.viewport.dpr!==m7(C)&&z.setDpr(C);const de=cX(t,h);return yr.equ(de,z.size,p0)||z.setSize(de.width,de.height,de.updateStyle,de.top,de.left),z.frameloop!==M&&z.setFrameloop(M),z.onPointerMissed||z.set({onPointerMissed:P}),R&&!yr.equ(R,z.performance,p0)&&z.set(G=>({performance:{...G.performance,...R}})),a=v,l=!0,this},render(u){return l||this.configure(),J_.updateContainer(b.createElement(dX,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){E7(t)}}}function dX({store:t,children:e,onCreated:n,rootElement:r}){return M1(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),b.createElement(x7.Provider,{value:t},e)}function E7(t,e){const n=Om.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),J_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),KQ(i),Om.delete(t),e&&e(t)}catch{}},500)})}}J_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:b.version});function It(){return It=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},It.apply(this,arguments)}function qA(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}qA.debounce=qA;var Q6=qA;function hX(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=b.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=b.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,h=b.useRef(!1);b.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[g,v,x]=b.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:M,top:C,width:R,height:O,bottom:k,right:P,x:z,y:B}=l.current.element.getBoundingClientRect(),q={left:M,top:C,width:R,height:O,bottom:k,right:P,x:z,y:B};l.current.element instanceof HTMLElement&&i&&(q.height=l.current.element.offsetHeight,q.width=l.current.element.offsetWidth),Object.freeze(q),h.current&&!vX(l.current.lastBounds,q)&&a(l.current.lastBounds=q)};return[w,c?Q6(w,c):w,u?Q6(w,u):w]},[a,i,u,c]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(x),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",x,{capture:!0,passive:!0})))}const E=w=>{!w||w===l.current.element||(y(),l.current.element=w,l.current.scrollContainers=S7(w),_())};return mX(x,Boolean(n)),pX(v),b.useEffect(()=>{y(),_()},[n,x,v]),b.useEffect(()=>y,[]),[E,o,g]}function pX(t){b.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function mX(t,e){b.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function S7(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...S7(t.parentElement)]}const gX=["x","y","top","bottom","left","right","width","height"],vX=(t,e)=>gX.every(n=>t[n]===e[n]);var yX=Object.defineProperty,xX=Object.defineProperties,_X=Object.getOwnPropertyDescriptors,X6=Object.getOwnPropertySymbols,wX=Object.prototype.hasOwnProperty,EX=Object.prototype.propertyIsEnumerable,K6=(t,e,n)=>e in t?yX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$6=(t,e)=>{for(var n in e||(e={}))wX.call(e,n)&&K6(t,n,e[n]);if(X6)for(var n of X6(e))EX.call(e,n)&&K6(t,n,e[n]);return t},SX=(t,e)=>xX(t,_X(e));function A7(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=A7(r,e,n);if(i)return i;r=e?null:r.sibling}}function M7(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Cb=M7(b.createContext(null));class b7 extends b.Component{render(){return b.createElement(Cb.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:AX,ReactCurrentDispatcher:MX}=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function bX(){const t=b.useContext(Cb);if(!t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=b.useId();return b.useMemo(()=>{var r;return(r=AX.current)!=null?r:A7(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[t,e])}function TX(){var t,e;const n=bX(),[r]=b.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==Cb&&!r.has(s)&&r.set(s,(e=MX.current)==null?void 0:e.readContext(M7(s))),i=i.return}return b.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>b.createElement(s,null,b.createElement(o.Provider,SX($6({},a),{value:r.get(o)}))),s=>b.createElement(b7,$6({},s))),[r])}const lE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function CX(t){const{handlePointer:e}=tX(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(lE).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=lE[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=lE[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const PX=b.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=CX,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:h,legacy:g,orthographic:v,frameloop:x,dpr:y,performance:_,raycaster:E,camera:w,onPointerMissed:M,onCreated:C,...R},O){b.useMemo(()=>c3(lh),[]);const k=TX(),[P,z]=hX({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=b.useRef(null),q=b.useRef(null),[Q,W]=b.useState(null);b.useImperativeHandle(O,()=>B.current);const X=d7(M),[ne,se]=b.useState(!1),[de,G]=b.useState(!1);if(ne)throw ne;if(de)throw de;const te=b.useRef(null);z.width>0&&z.height>0&&Q&&(te.current||(te.current=fX(Q)),te.current.configure({gl:s,events:o,shadows:u,linear:c,flat:h,legacy:g,orthographic:v,frameloop:x,dpr:y,performance:_,raycaster:E,camera:w,size:z,onPointerMissed:(...V)=>X.current==null?void 0:X.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(a?jQ(a)?a.current:a:q.current),l&&V.setEvents({compute:(J,he)=>{const we=J[l+"X"],be=J[l+"Y"];he.pointer.set(we/he.size.width*2-1,-(be/he.size.height)*2+1),he.raycaster.setFromCamera(he.pointer,he.camera)}}),C==null||C(V)}}),te.current.render(b.createElement(k,null,b.createElement(h7,{set:G},b.createElement(b.Suspense,{fallback:b.createElement(YQ,{set:se})},e))))),M1(()=>{W(B.current)},[]),b.useEffect(()=>{if(Q)return()=>E7(Q)},[Q]);const re=a?"none":"auto";return b.createElement("div",It({ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:re,...i}},R),b.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},b.createElement("canvas",{ref:B,style:{display:"block"}},n)))}),T7=b.forwardRef(function(e,n){return b.createElement(b7,null,b.createElement(PX,It({},e,{ref:n})))});function C7(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function RX(t,e,n){return Math.max(e,Math.min(t,n))}const fs={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function Z6(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function J6(t,e,n,r=.15){return r===0?RX(t,e,n):t<e?-Z6(e-t,n-e,r)+e:t>n?+Z6(t-n,n-e,r)+n:t}function DX(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[J6(e,s,o,r),J6(n,a,l,i)]}function IX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OX(t){var e=IX(t,"string");return typeof e=="symbol"?e:String(e)}function Zs(t,e,n){return e=OX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const P7={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function tP(t){return t?t[0].toUpperCase()+t.slice(1):""}const LX=["enter","leave"];function kX(t=!1,e){return t&&!LX.includes(e)}function NX(t,e="",n=!1){const r=P7[t],i=r&&r[e]||e;return"on"+tP(t)+tP(i)+(kX(n,i)?"Capture":"")}const zX=["gotpointercapture","lostpointercapture"];function BX(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=zX.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function FX(t,e=""){const n=P7[t],r=n&&n[e]||e;return t+r}function f3(t){return"touches"in t}function R7(t){return f3(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function UX(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function HX(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function D7(t){return f3(t)?HX(t)[0]:t}function qX(t){return UX(t).map(e=>e.identifier)}function uE(t){const e=D7(t);return f3(t)?e.identifier:e.pointerId}function nP(t){const e=D7(t);return[e.clientX,e.clientY]}function VX(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function e2(t,...e){return typeof t=="function"?t(...e):t}function GX(){}function WX(...t){return t.length===0?GX:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function rP(t,e){return Object.assign({},e,t||{})}const jX=32;class YX{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?e2(r.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=e.timeStamp}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,VX(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const O=n._delta.map(Math.abs);fs.addTo(n._distance,O)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:h}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&h[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&h[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const g=[0,0];if(r.hasCustomTransform){const[O,k]=h;g[0]=c[0]!==!1?O-c[0]:0,g[1]=c[1]!==!1?k-c[1]:0}else g[0]=c[0]!==!1?o-c[0]:0,g[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(g);const v=n.offset,x=n._active&&!n._blocked||n.active;x&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=e2(r.bounds,n)),this.setup&&this.setup()),n.movement=g,this.computeOffset()));const[y,_]=n.offset,[[E,w],[M,C]]=n._bounds;n.overflow=[y<E?-1:y>w?1:0,_<M?-1:_>C?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const R=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=DX(n._bounds,n.offset,R),n.delta=fs.sub(n.offset,v),this.computeMovement(),x&&(!n.last||s>jX)){n.delta=fs.sub(n.offset,v);const O=n.delta.map(Math.abs);fs.addTo(n.distance,O),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[O[0]/s,O[1]/s])}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Sr(Sr(Sr({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function QX([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class XX extends YX{constructor(...e){super(...e),Zs(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=fs.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=fs.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[R7(e)]:r.axisThreshold;n.axis=QX(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const KX=t=>t,iP=.15,I7={enabled(t=!0){return t},eventOptions(t,e,n){return Sr(Sr({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[iP,iP];case!1:return[0,0];default:return fs.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return fs.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||KX},threshold(t){return fs.toVector(t,0)}},$X=0,b1=Sr(Sr({},I7),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=$X){return t},bounds(t={}){if(typeof t=="function")return s=>b1.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),sP={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class ZX extends XX{constructor(...e){super(...e),Zs(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=b1.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=uE(e),r._pointerActive=!0,this.computeValues(nP(e)),this.computeInitial(),n.preventScrollAxis&&R7(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive||n.type===e.type&&e.timeStamp===n.timeStamp)return;const i=uE(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=nP(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=fs.sub(s,n._values),this.computeValues(s)),fs.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=uE(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n.direction,[u,c]=n.velocity,[h,g]=n.movement,[v,x]=r.swipe.velocity,[y,_]=r.swipe.distance,E=r.swipe.duration;n.elapsedTime<E&&(Math.abs(u)>v&&Math.abs(h)>y&&(n.swipe[0]=a),Math.abs(c)>x&&Math.abs(g)>_&&(n.swipe[1]=l))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,JX(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=sP[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,fs.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in sP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function JX(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const T1=typeof window<"u"&&window.document&&window.document.createElement;function eK(){return T1&&"ontouchstart"in window}function oP(){return eK()||T1&&window.navigator.maxTouchPoints>1}function tK(){return T1&&"onpointerdown"in window}function nK(){return T1&&"exitPointerLock"in window.document}function rK(){try{return"constructor"in GestureEvent}catch{return!1}}const Ko={isBrowser:T1,gesture:rK(),touch:oP(),touchscreen:oP(),pointer:tK(),pointerLock:nK()},iK=250,sK=180,oK=.5,aK=50,lK=250,uK=10,aP={mouse:0,touch:0,pen:8},cK=Sr(Sr({},b1),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Ko.pointerLock,Ko.touch&&n?"touch":this.pointerLock?"mouse":Ko.pointer&&!i?"pointer":Ko.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?iK:void 0,!(!Ko.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=fs.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=oK,distance:e=aK,duration:n=lK}={}){return{velocity:this.transform(fs.toVector(t)),distance:this.transform(fs.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return sK;case!1:return 0;default:return t}},axisThreshold(t){return t?Sr(Sr({},aP),t):aP},keyboardDisplacement(t=uK){return t}});Sr(Sr({},I7),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Ko.touch&&Ko.gesture)return"gesture";if(Ko.touch&&r)return"touch";if(Ko.touchscreen){if(Ko.pointer)return"pointer";if(Ko.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=rP(e2(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=rP(e2(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",fs.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Sr(Sr({},b1),{},{mouseOnly:(t=!0)=>t});Sr(Sr({},b1),{},{mouseOnly:(t=!0)=>t});const O7=new Map,VA=new Map;function fK(t){O7.set(t.key,t.engine),VA.set(t.key,t.resolver)}const dK={key:"drag",engine:ZX,resolver:cK};function hK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pK(t,e){if(t==null)return{};var n=hK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const mK={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Ko.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},gK=["target","eventOptions","window","enabled","transform"];function d_(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=d_(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function vK(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=pK(r,gK);if(n.shared=d_({target:i,eventOptions:s,window:o,enabled:a,transform:l},mK),e){const c=VA.get(e);n[e]=d_(Sr({shared:n.shared},u),c)}else for(const c in u){const h=VA.get(c);h&&(n[c]=d_(Sr({shared:n.shared},u[c]),h))}return n}class L7{constructor(e,n){Zs(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=FX(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Sr(Sr({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class yK{constructor(){Zs(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let xK=class{constructor(e){Zs(this,"gestures",new Set),Zs(this,"_targetEventStore",new L7(this)),Zs(this,"gestureEventStores",{}),Zs(this,"gestureTimeoutStores",{}),Zs(this,"handlers",{}),Zs(this,"config",{}),Zs(this,"pointerIds",new Set),Zs(this,"touchIds",new Set),Zs(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),_K(this,e)}setEventIds(e){if(f3(e))return this.touchIds=new Set(qX(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=vK(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=lP(r,a.eventOptions,!!i);if(a.enabled){const u=O7.get(o);new u(this,e,o).bind(l)}}const s=lP(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Sr(Sr({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=WX(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=BX(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function Cp(t,e){t.gestures.add(e),t.gestureEventStores[e]=new L7(t,e),t.gestureTimeoutStores[e]=new yK}function _K(t,e){e.drag&&Cp(t,"drag"),e.wheel&&Cp(t,"wheel"),e.scroll&&Cp(t,"scroll"),e.move&&Cp(t,"move"),e.pinch&&Cp(t,"pinch"),e.hover&&Cp(t,"hover")}const lP=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(u=o.passive)!==null&&u!==void 0?u:e.passive;let g=a?r:NX(r,i,c);n&&h&&(g+="Passive"),t[g]=t[g]||[],t[g].push(s)};function wK(t,e={},n,r){const i=ee.useMemo(()=>new xK(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),ee.useEffect(i.effect.bind(i)),ee.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function EK(t,e){return fK(dK),wK({drag:t},e||{},"drag")}const SK=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());u=g=>{const v=o(g);if(!c(h,v)){const x=h;a(h=v,x)}},l!=null&&l.fireImmediately&&a(h,h)}return i(u)},t(e,n,r)};function Vv(t){return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function AK(t,e){if(Vv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MK(t){var e=AK(t,"string");return Vv(e)==="symbol"?e:String(e)}function Bt(t,e,n){return e=MK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let m0;function bK(){if(m0!==void 0)return m0;try{var t;let e;const n=document.createElement("canvas");return m0=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))===null||t===void 0||t.loseContext()),m0}catch{return m0=!1}}function TK(t,e=1e-4){e=Math.max(e,Number.EPSILON);const n={},r=t.getIndex(),i=t.getAttribute("position"),s=r?r.count:i.count;let o=0;const a=Object.keys(t.attributes),l={},u={},c=[],h=["getX","getY","getZ","getW"];for(let y=0,_=a.length;y<_;y++){const E=a[y];l[E]=[];const w=t.morphAttributes[E];w&&(u[E]=new Array(w.length).fill(0).map(()=>[]))}const g=Math.log10(1/e),v=Math.pow(10,g);for(let y=0;y<s;y++){const _=r?r.getX(y):y;let E="";for(let w=0,M=a.length;w<M;w++){const C=a[w],R=t.getAttribute(C),O=R.itemSize;for(let k=0;k<O;k++)E+=`${~~(R[h[k]](_)*v)},`}if(E in n)c.push(n[E]);else{for(let w=0,M=a.length;w<M;w++){const C=a[w],R=t.getAttribute(C),O=t.morphAttributes[C],k=R.itemSize,P=l[C],z=u[C];for(let B=0;B<k;B++){const q=h[B];if(P.push(R[q](_)),O)for(let Q=0,W=O.length;Q<W;Q++)z[Q].push(O[Q][q](_))}}n[E]=o,c.push(o),o++}}const x=t.clone();for(let y=0,_=a.length;y<_;y++){const E=a[y],w=t.getAttribute(E),M=new w.array.constructor(l[E]),C=new An(M,w.itemSize,w.normalized);if(x.setAttribute(E,C),E in u)for(let R=0;R<u[E].length;R++){const O=t.morphAttributes[E][R],k=new O.array.constructor(u[E][R]),P=new An(k,O.itemSize,O.normalized);x.morphAttributes[E][R]=P}}return x.setIndex(c),x}let cm=class k7 extends di{constructor(){super(new Ou(1,1,1),k7.material)}};Bt(cm,"SkyShader",{uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new j},up:{value:new j(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","	zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","	return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","	float c = ( 0.2 * T ) * 10E-18;","	return 0.434 * c * MieConst;","}","void main() {","	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","	vWorldPosition = worldPosition.xyz;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","	gl_Position.z = gl_Position.w;","	vSunDirection = normalize( sunPosition );","	vSunE = sunIntensity( dot( vSunDirection, up ) );","	vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","	float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","	vBetaR = totalRayleigh * rayleighCoefficient;","	vBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join(`
`),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","	return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","	float g2 = pow( g, 2.0 );","	float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","	return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","	vec3 direction = normalize( vWorldPosition - cameraPos );","	float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","	float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","	float sR = rayleighZenithLength * inverse;","	float sM = mieZenithLength * inverse;","	vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","	float cosTheta = dot( direction, vSunDirection );","	float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","	vec3 betaRTheta = vBetaR * rPhase;","	float mPhase = hgPhase( cosTheta, mieDirectionalG );","	vec3 betaMTheta = vBetaM * mPhase;","	vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","	Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","	float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]","	float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]","	vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","	vec3 L0 = vec3( 0.1 ) * Fex;","	float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","	L0 += ( vSunE * 19000.0 * Fex ) * sundisk;","	vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","	vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","	gl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join(`
`)});Bt(cm,"material",new ar({name:"SkyShader",fragmentShader:cm.SkyShader.fragmentShader,vertexShader:cm.SkyShader.vertexShader,uniforms:Z2.clone(cm.SkyShader.uniforms),side:Di,depthWrite:!1}));const uP=(t,e)=>(t%e+e)%e;let CK=class extends Do{constructor(e,n){super(),Bt(this,"object",void 0),Bt(this,"domElement",void 0),Bt(this,"enabled",!0),Bt(this,"target",new j),Bt(this,"minDistance",0),Bt(this,"maxDistance",1/0),Bt(this,"minZoom",0),Bt(this,"maxZoom",1/0),Bt(this,"minPolarAngle",0),Bt(this,"maxPolarAngle",Math.PI),Bt(this,"minAzimuthAngle",-1/0),Bt(this,"maxAzimuthAngle",1/0),Bt(this,"enableDamping",!1),Bt(this,"dampingFactor",.05),Bt(this,"enableZoom",!0),Bt(this,"zoomSpeed",1),Bt(this,"enableRotate",!0),Bt(this,"rotateSpeed",1),Bt(this,"enablePan",!0),Bt(this,"panSpeed",1),Bt(this,"screenSpacePanning",!0),Bt(this,"keyPanSpeed",7),Bt(this,"autoRotate",!1),Bt(this,"autoRotateSpeed",2),Bt(this,"reverseOrbit",!1),Bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bt(this,"mouseButtons",{LEFT:Ed.ROTATE,MIDDLE:Ed.DOLLY,RIGHT:Ed.PAN}),Bt(this,"touches",{ONE:Sd.ROTATE,TWO:Sd.DOLLY_PAN}),Bt(this,"target0",void 0),Bt(this,"position0",void 0),Bt(this,"zoom0",void 0),Bt(this,"_domElementKeyEvents",null),Bt(this,"getPolarAngle",void 0),Bt(this,"getAzimuthalAngle",void 0),Bt(this,"setPolarAngle",void 0),Bt(this,"setAzimuthalAngle",void 0),Bt(this,"getDistance",void 0),Bt(this,"listenToKeyEvents",void 0),Bt(this,"saveState",void 0),Bt(this,"reset",void 0),Bt(this,"update",void 0),Bt(this,"connect",void 0),Bt(this,"dispose",void 0),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Zn?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ie=>{let Se=uP(ie,2*Math.PI),Ue=c.phi;Ue<0&&(Ue+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let Ye=Math.abs(Se-Ue);2*Math.PI-Ye<Ye&&(Se<Ue?Se+=2*Math.PI:Ue+=2*Math.PI),h.phi=Se-Ue,r.update()},this.setAzimuthalAngle=ie=>{let Se=uP(ie,2*Math.PI),Ue=c.theta;Ue<0&&(Ue+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let Ye=Math.abs(Se-Ue);2*Math.PI-Ye<Ye&&(Se<Ue?Se+=2*Math.PI:Ue+=2*Math.PI),h.theta=Se-Ue,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",ae),this._domElementKeyEvents=ie},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Zn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Zn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ie=new j,Se=new ds().setFromUnitVectors(e.up,new j(0,1,0)),Ue=Se.clone().invert(),Ye=new j,wt=new ds,Gt=2*Math.PI;return function(){const le=r.object.position;ie.copy(le).sub(r.target),ie.applyQuaternion(Se),c.setFromVector3(ie),r.autoRotate&&l===a.NONE&&Q(B()),r.enableDamping?(c.theta+=h.theta*r.dampingFactor,c.phi+=h.phi*r.dampingFactor):(c.theta+=h.theta,c.phi+=h.phi);let Te=r.minAzimuthAngle,Fe=r.maxAzimuthAngle;return isFinite(Te)&&isFinite(Fe)&&(Te<-Math.PI?Te+=Gt:Te>Math.PI&&(Te-=Gt),Fe<-Math.PI?Fe+=Gt:Fe>Math.PI&&(Fe-=Gt),Te<=Fe?c.theta=Math.max(Te,Math.min(Fe,c.theta)):c.theta=c.theta>(Te+Fe)/2?Math.max(Te,c.theta):Math.min(Fe,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=g,c.radius=Math.max(r.minDistance,Math.min(r.maxDistance,c.radius)),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),ie.setFromSpherical(c),ie.applyQuaternion(Ue),le.copy(r.target).add(ie),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),v.set(0,0,0)),g=1,x||Ye.distanceToSquared(r.object.position)>u||8*(1-wt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ye.copy(r.object.position),wt.copy(r.object.quaternion),x=!1,!0):!1}})(),this.connect=ie=>{ie===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ie,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",qe),r.domElement.addEventListener("pointerdown",St),r.domElement.addEventListener("pointercancel",Lt),r.domElement.addEventListener("wheel",U)},this.dispose=()=>{var ie,Se,Ue,Ye,wt,Gt;(ie=r.domElement)===null||ie===void 0||ie.removeEventListener("contextmenu",qe),(Se=r.domElement)===null||Se===void 0||Se.removeEventListener("pointerdown",St),(Ue=r.domElement)===null||Ue===void 0||Ue.removeEventListener("pointercancel",Lt),(Ye=r.domElement)===null||Ye===void 0||Ye.removeEventListener("wheel",U),(wt=r.domElement)===null||wt===void 0||wt.ownerDocument.removeEventListener("pointermove",gt),(Gt=r.domElement)===null||Gt===void 0||Gt.ownerDocument.removeEventListener("pointerup",ft),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ae)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new Z_,h=new Z_;let g=1;const v=new j;let x=!1;const y=new xe,_=new xe,E=new xe,w=new xe,M=new xe,C=new xe,R=new xe,O=new xe,k=new xe,P=[],z={};function B(){return 2*Math.PI/60/60*r.autoRotateSpeed}function q(){return Math.pow(.95,r.zoomSpeed)}function Q(ie){r.reverseOrbit?h.theta+=ie:h.theta-=ie}function W(ie){r.reverseOrbit?h.phi+=ie:h.phi-=ie}const X=(()=>{const ie=new j;return function(Ue,Ye){ie.setFromMatrixColumn(Ye,0),ie.multiplyScalar(-Ue),v.add(ie)}})(),ne=(()=>{const ie=new j;return function(Ue,Ye){r.screenSpacePanning===!0?ie.setFromMatrixColumn(Ye,1):(ie.setFromMatrixColumn(Ye,0),ie.crossVectors(r.object.up,ie)),ie.multiplyScalar(Ue),v.add(ie)}})(),se=(()=>{const ie=new j;return function(Ue,Ye){const wt=r.domElement;if(wt&&r.object instanceof Zn&&r.object.isPerspectiveCamera){const Gt=r.object.position;ie.copy(Gt).sub(r.target);let In=ie.length();In*=Math.tan(r.object.fov/2*Math.PI/180),X(2*Ue*In/wt.clientHeight,r.object.matrix),ne(2*Ye*In/wt.clientHeight,r.object.matrix)}else wt&&r.object instanceof jc&&r.object.isOrthographicCamera?(X(Ue*(r.object.right-r.object.left)/r.object.zoom/wt.clientWidth,r.object.matrix),ne(Ye*(r.object.top-r.object.bottom)/r.object.zoom/wt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function de(ie){r.object instanceof Zn&&r.object.isPerspectiveCamera?g/=ie:r.object instanceof jc&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*ie)),r.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(ie){r.object instanceof Zn&&r.object.isPerspectiveCamera?g*=ie:r.object instanceof jc&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/ie)),r.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function te(ie){y.set(ie.clientX,ie.clientY)}function re(ie){R.set(ie.clientX,ie.clientY)}function V(ie){w.set(ie.clientX,ie.clientY)}function J(ie){_.set(ie.clientX,ie.clientY),E.subVectors(_,y).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(Q(2*Math.PI*E.x/Se.clientHeight),W(2*Math.PI*E.y/Se.clientHeight)),y.copy(_),r.update()}function he(ie){O.set(ie.clientX,ie.clientY),k.subVectors(O,R),k.y>0?de(q()):k.y<0&&G(q()),R.copy(O),r.update()}function we(ie){M.set(ie.clientX,ie.clientY),C.subVectors(M,w).multiplyScalar(r.panSpeed),se(C.x,C.y),w.copy(M),r.update()}function be(ie){ie.deltaY<0?G(q()):ie.deltaY>0&&de(q()),r.update()}function pe(ie){let Se=!1;switch(ie.code){case r.keys.UP:se(0,r.keyPanSpeed),Se=!0;break;case r.keys.BOTTOM:se(0,-r.keyPanSpeed),Se=!0;break;case r.keys.LEFT:se(r.keyPanSpeed,0),Se=!0;break;case r.keys.RIGHT:se(-r.keyPanSpeed,0),Se=!0;break}Se&&(ie.preventDefault(),r.update())}function Ke(){if(P.length==1)y.set(P[0].pageX,P[0].pageY);else{const ie=.5*(P[0].pageX+P[1].pageX),Se=.5*(P[0].pageY+P[1].pageY);y.set(ie,Se)}}function We(){if(P.length==1)w.set(P[0].pageX,P[0].pageY);else{const ie=.5*(P[0].pageX+P[1].pageX),Se=.5*(P[0].pageY+P[1].pageY);w.set(ie,Se)}}function rt(){const ie=P[0].pageX-P[1].pageX,Se=P[0].pageY-P[1].pageY,Ue=Math.sqrt(ie*ie+Se*Se);R.set(0,Ue)}function Qe(){r.enableZoom&&rt(),r.enablePan&&We()}function ut(){r.enableZoom&&rt(),r.enableRotate&&Ke()}function Pe(ie){if(P.length==1)_.set(ie.pageX,ie.pageY);else{const Ue=mt(ie),Ye=.5*(ie.pageX+Ue.x),wt=.5*(ie.pageY+Ue.y);_.set(Ye,wt)}E.subVectors(_,y).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(Q(2*Math.PI*E.x/Se.clientHeight),W(2*Math.PI*E.y/Se.clientHeight)),y.copy(_)}function ye(ie){if(P.length==1)M.set(ie.pageX,ie.pageY);else{const Se=mt(ie),Ue=.5*(ie.pageX+Se.x),Ye=.5*(ie.pageY+Se.y);M.set(Ue,Ye)}C.subVectors(M,w).multiplyScalar(r.panSpeed),se(C.x,C.y),w.copy(M)}function De(ie){const Se=mt(ie),Ue=ie.pageX-Se.x,Ye=ie.pageY-Se.y,wt=Math.sqrt(Ue*Ue+Ye*Ye);O.set(0,wt),k.set(0,Math.pow(O.y/R.y,r.zoomSpeed)),de(k.y),R.copy(O)}function Je(ie){r.enableZoom&&De(ie),r.enablePan&&ye(ie)}function He(ie){r.enableZoom&&De(ie),r.enableRotate&&Pe(ie)}function St(ie){if(r.enabled!==!1){if(P.length===0){var Se,Ue;(Se=r.domElement)===null||Se===void 0||Se.ownerDocument.addEventListener("pointermove",gt),(Ue=r.domElement)===null||Ue===void 0||Ue.ownerDocument.addEventListener("pointerup",ft)}xt(ie),ie.pointerType==="touch"?Ee(ie):qt(ie)}}function gt(ie){r.enabled!==!1&&(ie.pointerType==="touch"?ze(ie):Z(ie))}function ft(ie){if($e(ie),P.length===0){var Se,Ue,Ye;(Se=r.domElement)===null||Se===void 0||Se.releasePointerCapture(ie.pointerId),(Ue=r.domElement)===null||Ue===void 0||Ue.ownerDocument.removeEventListener("pointermove",gt),(Ye=r.domElement)===null||Ye===void 0||Ye.ownerDocument.removeEventListener("pointerup",ft)}r.dispatchEvent(o),l=a.NONE}function Lt(ie){$e(ie)}function qt(ie){let Se;switch(ie.button){case 0:Se=r.mouseButtons.LEFT;break;case 1:Se=r.mouseButtons.MIDDLE;break;case 2:Se=r.mouseButtons.RIGHT;break;default:Se=-1}switch(Se){case Ed.DOLLY:if(r.enableZoom===!1)return;re(ie),l=a.DOLLY;break;case Ed.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enablePan===!1)return;V(ie),l=a.PAN}else{if(r.enableRotate===!1)return;te(ie),l=a.ROTATE}break;case Ed.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enableRotate===!1)return;te(ie),l=a.ROTATE}else{if(r.enablePan===!1)return;V(ie),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Z(ie){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;J(ie);break;case a.DOLLY:if(r.enableZoom===!1)return;he(ie);break;case a.PAN:if(r.enablePan===!1)return;we(ie);break}}function U(ie){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ie.preventDefault(),r.dispatchEvent(s),be(ie),r.dispatchEvent(o))}function ae(ie){r.enabled===!1||r.enablePan===!1||pe(ie)}function Ee(ie){switch(Le(ie),P.length){case 1:switch(r.touches.ONE){case Sd.ROTATE:if(r.enableRotate===!1)return;Ke(),l=a.TOUCH_ROTATE;break;case Sd.PAN:if(r.enablePan===!1)return;We(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Sd.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Qe(),l=a.TOUCH_DOLLY_PAN;break;case Sd.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ut(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ze(ie){switch(Le(ie),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Pe(ie),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ye(ie),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Je(ie),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;He(ie),r.update();break;default:l=a.NONE}}function qe(ie){r.enabled!==!1&&ie.preventDefault()}function xt(ie){P.push(ie)}function $e(ie){delete z[ie.pointerId];for(let Se=0;Se<P.length;Se++)if(P[Se].pointerId==ie.pointerId){P.splice(Se,1);return}}function Le(ie){let Se=z[ie.pointerId];Se===void 0&&(Se=new xe,z[ie.pointerId]=Se),Se.set(ie.pageX,ie.pageY)}function mt(ie){const Se=ie.pointerId===P[0].pointerId?P[1]:P[0];return z[Se.pointerId]}n!==void 0&&this.connect(n),this.update()}};class PK extends eg{constructor(e,n={}){const{bevelEnabled:r=!1,bevelSize:i=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:u=1,letterSpacing:c=0,...h}=n;if(o===void 0)super();else{const g=o.generateShapes(e,l,{lineHeight:u,letterSpacing:c});super(g,{...h,bevelEnabled:r,bevelSize:i,bevelThickness:s,depth:a})}this.type="TextGeometry"}}class RK extends zs{constructor(e){super(e)}load(e,n,r,i){const s=new _l(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);n&&n(l)},r,i)}parse(e){return new Pb(e)}}class Pb{constructor(e){Bt(this,"data",void 0),this.data=e}generateShapes(e,n=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=DK(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}Bt(Pb,"isFont",void 0);Bt(Pb,"type",void 0);function DK(t,e,n,r){const i=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,u=0;for(let c=0;c<i.length;c++){const h=i[c];if(h===`
`)l=0,u-=o*r.lineHeight;else{const g=IK(h,s,l,u,n);g&&(l+=g.offsetX+r.letterSpacing,a.push(g.path))}}return a}function IK(t,e,n,r,i){const s=i.glyphs[t]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const o=new s7;let a,l,u,c,h,g,v,x;if(s.o){const y=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let _=0,E=y.length;_<E;)switch(y[_++]){case"m":a=parseInt(y[_++])*e+n,l=parseInt(y[_++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(y[_++])*e+n,l=parseInt(y[_++])*e+r,o.lineTo(a,l);break;case"q":u=parseInt(y[_++])*e+n,c=parseInt(y[_++])*e+r,h=parseInt(y[_++])*e+n,g=parseInt(y[_++])*e+r,o.quadraticCurveTo(h,g,u,c);break;case"b":u=parseInt(y[_++])*e+n,c=parseInt(y[_++])*e+r,h=parseInt(y[_++])*e+n,g=parseInt(y[_++])*e+r,v=parseInt(y[_++])*e+n,x=parseInt(y[_++])*e+r,o.bezierCurveTo(h,g,v,x,u,c);break}}return{offsetX:s.ha*e,path:o}}function C1(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const OK=["string","number"],LK=t=>{let e="";const n=[];return b.Children.forEach(t,r=>{OK.includes(typeof r)?e+=r+"":n.push(r)}),[e,...n]},GA=b.forwardRef(({font:t,letterSpacing:e=0,lineHeight:n=1,size:r=1,height:i=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:u=4,curveSegments:c=8,smooth:h,children:g,...v},x)=>{b.useMemo(()=>c3({RenamedTextGeometry:PK}),[]);const y=b.useRef(null),_=Tb(async()=>{let R=typeof t=="string"?await(await fetch(t)).json():t;return new RK().parse(R)},[t]),E=b.useMemo(()=>({font:_,size:r,height:i,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:u,bevelOffset:l,curveSegments:c,letterSpacing:e,lineHeight:n}),[_,r,i,s,o,a,u,l,c,e,n]),[w,...M]=b.useMemo(()=>LK(g),[g]),C=b.useMemo(()=>[w,E],[w,E]);return b.useLayoutEffect(()=>{h&&(y.current.geometry=TK(y.current.geometry,h),y.current.geometry.computeVertexNormals())},[C,h]),b.useImperativeHandle(x,()=>y.current,[]),b.createElement("mesh",It({},v,{ref:y}),b.createElement("renamedTextGeometry",{args:C}),M)});function kK(t,e,n,r){const i=class extends ar{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[u,c])=>{const h=Z2.clone({[u]:{value:c}});return{...l,...h}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),r&&r(this)}};return i.key=ih.generateUUID(),i}const cP=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function Rb(t,e){const n=Qn(i=>i.gl),r=rg(A1,cP(t)?Object.values(t):t);if(b.useLayoutEffect(()=>{e==null||e(r)},[e]),b.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),cP(t)){const i=Object.keys(t),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}Rb.preload=t=>rg.preload(A1,t);Rb.clear=t=>rg.clear(A1,t);function NK({userData:t,children:e,geometry:n,threshold:r=15,color:i="black",...s}){const o=b.useRef(null);return b.useLayoutEffect(()=>{const a=o.current.parent;if(a){const l=n||a.geometry;(l!==o.current.userData.currentGeom||r!==o.current.userData.currentThreshold)&&(o.current.userData.currentGeom=l,o.current.userData.currentThreshold=r,o.current.geometry=new mb(l,r))}}),b.createElement("lineSegments",It({ref:o,raycast:()=>null},s),e||b.createElement("lineBasicMaterial",{color:i}))}function zK(t,e,n){const{gl:r,size:i,viewport:s}=Qn(),o=typeof t=="number"?t:i.width*s.dpr,a=typeof e=="number"?e:i.height*s.dpr,l=(typeof t=="number"?n:t)||{},{samples:u=0,depth:c,...h}=l,g=b.useMemo(()=>{let v;return v=new Dn(o,a,{minFilter:zn,magFilter:zn,encoding:r.outputEncoding,type:$c,...h}),c&&(v.depthTexture=new c1(o,a,Ia)),v.samples=u,v},[]);return b.useLayoutEffect(()=>{g.setSize(o,a),u&&(g.samples=u)},[u,g,o,a]),b.useEffect(()=>()=>g.dispose(),[]),g}const BK=t=>typeof t=="function",FK=b.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...s},o)=>{const a=Qn(({set:_})=>_),l=Qn(({camera:_})=>_),u=Qn(({size:_})=>_),c=b.useRef(null),h=b.useRef(null),g=zK(e);b.useLayoutEffect(()=>{s.manual||(c.current.aspect=u.width/u.height)},[u,s]),b.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let v=0,x=null;const y=BK(i);return Al(_=>{y&&(n===1/0||v<n)&&(h.current.visible=!1,_.gl.setRenderTarget(g),x=_.scene.background,t&&(_.scene.background=t),_.gl.render(_.scene,c.current),_.scene.background=x,_.gl.setRenderTarget(null),h.current.visible=!0,v++)}),b.useLayoutEffect(()=>{if(r){const _=l;return a(()=>({camera:c.current})),()=>a(()=>({camera:_}))}},[c,r,a]),b.createElement(b.Fragment,null,b.createElement("perspectiveCamera",It({ref:C7([c,o])},s),!y&&i),b.createElement("group",{ref:h},y&&i(g.texture)))}),UK=b.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const c=Qn(R=>R.invalidate),h=Qn(R=>R.camera),g=Qn(R=>R.gl),v=Qn(R=>R.events),x=Qn(R=>R.setEvents),y=Qn(R=>R.set),_=Qn(R=>R.get),E=Qn(R=>R.performance),w=e||h,M=r||v.connected||g.domElement,C=b.useMemo(()=>new CK(w),[w]);return Al(()=>{C.enabled&&C.update()},-1),b.useEffect(()=>(C.connect(M),()=>void C.dispose()),[M,n,C,c]),b.useEffect(()=>{const R=P=>{c(),n&&E.regress(),s&&s(P)},O=P=>{o&&o(P)},k=P=>{a&&a(P)};return C.addEventListener("change",R),C.addEventListener("start",O),C.addEventListener("end",k),()=>{C.removeEventListener("start",O),C.removeEventListener("end",k),C.removeEventListener("change",R)}},[s,o,a,C,c,x]),b.useEffect(()=>{if(t){const R=_().controls;return y({controls:C}),()=>y({controls:R})}},[t,C]),b.createElement("primitive",It({ref:u,object:C,enableDamping:i},l))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const Ti={LEFT:1,RIGHT:2,MIDDLE:4},Oe=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768});function vd(t){return t.isPerspectiveCamera}function _c(t){return t.isOrthographicCamera}const Pp=Math.PI*2,fP=Math.PI/2,N7=1e-5,g0=Math.PI/180;function Vp(t,e,n){return Math.max(e,Math.min(n,t))}function cr(t,e=N7){return Math.abs(t)<e}function ur(t,e,n=N7){return cr(t-e,n)}function dP(t,e){return Math.round(t/e)*e}function v0(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function y0(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function yx(t,e,n,r,i=1/0,s){r=Math.max(1e-4,r);const o=2/r,a=o*s,l=1/(1+a+.48*a*a+.235*a*a*a);let u=t-e;const c=e,h=i*r;u=Vp(u,-h,h),e=t-u;const g=(n.value+o*u)*s;n.value=(n.value-o*g)*l;let v=e+(u+g)*l;return c-t>0==v>c&&(v=c,n.value=(v-c)/s),v}function hP(t,e,n,r,i=1/0,s,o){r=Math.max(1e-4,r);const a=2/r,l=a*s,u=1/(1+l+.48*l*l+.235*l*l*l);let c=t.x-e.x,h=t.y-e.y,g=t.z-e.z;const v=e.x,x=e.y,y=e.z,_=i*r,E=_*_,w=c*c+h*h+g*g;if(w>E){const Q=Math.sqrt(w);c=c/Q*_,h=h/Q*_,g=g/Q*_}e.x=t.x-c,e.y=t.y-h,e.z=t.z-g;const M=(n.x+a*c)*s,C=(n.y+a*h)*s,R=(n.z+a*g)*s;n.x=(n.x-a*M)*u,n.y=(n.y-a*C)*u,n.z=(n.z-a*R)*u,o.x=e.x+(c+M)*u,o.y=e.y+(h+C)*u,o.z=e.z+(g+R)*u;const O=v-t.x,k=x-t.y,P=y-t.z,z=o.x-v,B=o.y-x,q=o.z-y;return O*z+k*B+P*q>0&&(o.x=v,o.y=x,o.z=y,n.x=(o.x-v)/s,n.y=(o.y-x)/s,n.z=(o.z-y)/s),o}function cE(t,e){e.set(0,0),t.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=t.length,e.y/=t.length}function fE(t,e){return _c(t)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class HK{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e)}}}const qK="2.0.1",xx=1/8,z7=typeof window<"u",VK=z7&&/Mac/.test(navigator.platform),GK=!(z7&&"PointerEvent"in window);let Ht,pP,_x,dE,Ks,nn,Hn,Rp,al,ll,yd,mP,gP,Ma,x0,Dp,vP,hE,yP,pE,mE,wx,gE=class WA extends HK{static install(e){Ht=e.THREE,pP=Object.freeze(new Ht.Vector3(0,0,0)),_x=Object.freeze(new Ht.Vector3(0,1,0)),dE=Object.freeze(new Ht.Vector3(0,0,1)),Ks=new Ht.Vector2,nn=new Ht.Vector3,Hn=new Ht.Vector3,Rp=new Ht.Vector3,al=new Ht.Vector3,ll=new Ht.Vector3,yd=new Ht.Vector3,mP=new Ht.Vector3,gP=new Ht.Vector3,Ma=new Ht.Spherical,x0=new Ht.Spherical,Dp=new Ht.Box3,vP=new Ht.Box3,hE=new Ht.Sphere,yP=new Ht.Quaternion,pE=new Ht.Quaternion,mE=new Ht.Matrix4,wx=new Ht.Raycaster}static get ACTION(){return Oe}constructor(e,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=Oe.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new Ht.Vector3,this._focalOffsetVelocity=new Ht.Vector3,this._zoomVelocity={value:0},this._truckInternal=(w,M,C)=>{if(vd(this._camera)){const R=nn.copy(this._camera.position).sub(this._target),O=this._camera.getEffectiveFOV()*g0,k=R.length()*Math.tan(O*.5),P=this.truckSpeed*w*k/this._elementRect.height,z=this.truckSpeed*M*k/this._elementRect.height;this.verticalDragToForward?(C?this.setFocalOffset(this._focalOffsetEnd.x+P,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(P,0,!0),this.forward(-z,!0)):C?this.setFocalOffset(this._focalOffsetEnd.x+P,this._focalOffsetEnd.y+z,this._focalOffsetEnd.z,!0):this.truck(P,z,!0)}else if(_c(this._camera)){const R=this._camera,O=w*(R.right-R.left)/R.zoom/this._elementRect.width,k=M*(R.top-R.bottom)/R.zoom/this._elementRect.height;C?this.setFocalOffset(this._focalOffsetEnd.x+O,this._focalOffsetEnd.y+k,this._focalOffsetEnd.z,!0):this.truck(O,k,!0)}},this._rotateInternal=(w,M)=>{const C=Pp*this.azimuthRotateSpeed*w/this._elementRect.height,R=Pp*this.polarRotateSpeed*M/this._elementRect.height;this.rotate(C,R,!0)},this._dollyInternal=(w,M,C)=>{const R=Math.pow(.95,-w*this.dollySpeed),O=this._sphericalEnd.radius*R,k=this._sphericalEnd.radius,P=k*(w>=0?-1:1);this.dollyTo(O),this.infinityDolly&&(O<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(nn),this._targetEnd.add(nn.normalize().multiplyScalar(P)),this._target.add(nn.normalize().multiplyScalar(P))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-k,this.infinityDolly&&(O<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=P),this._dollyControlCoord.set(M,C))},this._zoomInternal=(w,M,C)=>{const R=Math.pow(.95,w*this.dollySpeed),O=this._zoomEnd;this.zoomTo(this._zoom*R),this.dollyToCursor&&(this._dollyControlAmount+=this._zoomEnd-O,this._dollyControlCoord.set(M,C))},typeof Ht>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new Ht.Quaternion().setFromUnitVectors(this._camera.up,_x),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=Oe.NONE,this._target=new Ht.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new Ht.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new Ht.Spherical().setFromVector3(nn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new Ht.Vector3,new Ht.Vector3,new Ht.Vector3,new Ht.Vector3],this._updateNearPlaneCorners(),this._boundary=new Ht.Box3(new Ht.Vector3(-1/0,-1/0,-1/0),new Ht.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new Ht.Vector2,this.mouseButtons={left:Oe.ROTATE,middle:Oe.DOLLY,right:Oe.TRUCK,wheel:vd(this._camera)?Oe.DOLLY:_c(this._camera)?Oe.ZOOM:Oe.NONE},this.touches={one:Oe.TOUCH_ROTATE,two:vd(this._camera)?Oe.TOUCH_DOLLY_TRUCK:_c(this._camera)?Oe.TOUCH_ZOOM_TRUCK:Oe.NONE,three:Oe.TOUCH_TRUCK};const r=new Ht.Vector2,i=new Ht.Vector2,s=new Ht.Vector2,o=w=>{if(!this._enabled||!this._domElement)return;const M={pointerId:w.pointerId,clientX:w.clientX,clientY:w.clientY,deltaX:0,deltaY:0};this._activePointers.push(M),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.addEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),y(w)},a=w=>{if(!this._enabled||!this._domElement)return;const M={pointerId:0,clientX:w.clientX,clientY:w.clientY,deltaX:0,deltaY:0};this._activePointers.push(M),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("mouseup",h),this._domElement.ownerDocument.addEventListener("mousemove",u),this._domElement.ownerDocument.addEventListener("mouseup",h),y(w)},l=w=>{w.cancelable&&w.preventDefault();const M=w.pointerId,C=this._findPointerById(M);if(C){if(C.clientX=w.clientX,C.clientY=w.clientY,C.deltaX=w.movementX,C.deltaY=w.movementY,w.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(w.buttons&Ti.LEFT)===Ti.LEFT&&(this._state=this._state|this.mouseButtons.left),(w.buttons&Ti.MIDDLE)===Ti.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(w.buttons&Ti.RIGHT)===Ti.RIGHT&&(this._state=this._state|this.mouseButtons.right);_()}},u=w=>{const M=this._findPointerById(0);M&&(M.clientX=w.clientX,M.clientY=w.clientY,M.deltaX=w.movementX,M.deltaY=w.movementY,this._state=0,(w.buttons&Ti.LEFT)===Ti.LEFT&&(this._state=this._state|this.mouseButtons.left),(w.buttons&Ti.MIDDLE)===Ti.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(w.buttons&Ti.RIGHT)===Ti.RIGHT&&(this._state=this._state|this.mouseButtons.right),_())},c=w=>{const M=w.pointerId,C=this._findPointerById(M);if(C&&this._activePointers.splice(this._activePointers.indexOf(C),1),w.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=Oe.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=Oe.NONE;E()},h=()=>{const w=this._findPointerById(0);w&&this._activePointers.splice(this._activePointers.indexOf(w),1),this._state=Oe.NONE,E()};let g=-1;const v=w=>{if(!this._enabled||this.mouseButtons.wheel===Oe.NONE)return;if(w.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Oe.ROTATE||this.mouseButtons.wheel===Oe.TRUCK){const k=performance.now();g-k<1e3&&this._getClientRect(this._elementRect),g=k}const M=VK?-1:-3,C=w.deltaMode===1?w.deltaY/M:w.deltaY/(M*10),R=this.dollyToCursor?(w.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,O=this.dollyToCursor?(w.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case Oe.ROTATE:{this._rotateInternal(w.deltaX,w.deltaY),this._isUserControllingRotate=!0;break}case Oe.TRUCK:{this._truckInternal(w.deltaX,w.deltaY,!1),this._isUserControllingTruck=!0;break}case Oe.OFFSET:{this._truckInternal(w.deltaX,w.deltaY,!0),this._isUserControllingOffset=!0;break}case Oe.DOLLY:{this._dollyInternal(-C,R,O),this._isUserControllingDolly=!0;break}case Oe.ZOOM:{this._zoomInternal(-C,R,O),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},x=w=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===WA.ACTION.NONE){const M=w instanceof PointerEvent?w.pointerId:(w instanceof MouseEvent,0),C=this._findPointerById(M);C&&this._activePointers.splice(this._activePointers.indexOf(C),1),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("mouseup",h);return}w.preventDefault()}},y=w=>{if(!this._enabled)return;if(cE(this._activePointers,Ks),this._getClientRect(this._elementRect),r.copy(Ks),i.copy(Ks),this._activePointers.length>=2){const C=Ks.x-this._activePointers[1].clientX,R=Ks.y-this._activePointers[1].clientY,O=Math.sqrt(C*C+R*R);s.set(0,O);const k=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,P=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(k,P)}if("pointerType"in w&&w.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=0,(w.buttons&Ti.LEFT)===Ti.LEFT&&(this._state=this._state|this.mouseButtons.left),(w.buttons&Ti.MIDDLE)===Ti.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(w.buttons&Ti.RIGHT)===Ti.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&Oe.ROTATE)===Oe.ROTATE||(this._state&Oe.TOUCH_ROTATE)===Oe.TOUCH_ROTATE||(this._state&Oe.TOUCH_DOLLY_ROTATE)===Oe.TOUCH_DOLLY_ROTATE||(this._state&Oe.TOUCH_ZOOM_ROTATE)===Oe.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&Oe.TRUCK)===Oe.TRUCK||(this._state&Oe.TOUCH_TRUCK)===Oe.TOUCH_TRUCK||(this._state&Oe.TOUCH_DOLLY_TRUCK)===Oe.TOUCH_DOLLY_TRUCK||(this._state&Oe.TOUCH_ZOOM_TRUCK)===Oe.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&Oe.DOLLY)===Oe.DOLLY||(this._state&Oe.TOUCH_DOLLY)===Oe.TOUCH_DOLLY||(this._state&Oe.TOUCH_DOLLY_TRUCK)===Oe.TOUCH_DOLLY_TRUCK||(this._state&Oe.TOUCH_DOLLY_OFFSET)===Oe.TOUCH_DOLLY_OFFSET||(this._state&Oe.TOUCH_DOLLY_ROTATE)===Oe.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&Oe.ZOOM)===Oe.ZOOM||(this._state&Oe.TOUCH_ZOOM)===Oe.TOUCH_ZOOM||(this._state&Oe.TOUCH_ZOOM_TRUCK)===Oe.TOUCH_ZOOM_TRUCK||(this._state&Oe.TOUCH_ZOOM_OFFSET)===Oe.TOUCH_ZOOM_OFFSET||(this._state&Oe.TOUCH_ZOOM_ROTATE)===Oe.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&Oe.OFFSET)===Oe.OFFSET||(this._state&Oe.TOUCH_OFFSET)===Oe.TOUCH_OFFSET||(this._state&Oe.TOUCH_DOLLY_OFFSET)===Oe.TOUCH_DOLLY_OFFSET||(this._state&Oe.TOUCH_ZOOM_OFFSET)===Oe.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},_=()=>{if(!this._enabled)return;cE(this._activePointers,Ks);const w=this._domElement&&document.pointerLockElement===this._domElement,M=w?-this._activePointers[0].deltaX:i.x-Ks.x,C=w?-this._activePointers[0].deltaY:i.y-Ks.y;if(i.copy(Ks),((this._state&Oe.ROTATE)===Oe.ROTATE||(this._state&Oe.TOUCH_ROTATE)===Oe.TOUCH_ROTATE||(this._state&Oe.TOUCH_DOLLY_ROTATE)===Oe.TOUCH_DOLLY_ROTATE||(this._state&Oe.TOUCH_ZOOM_ROTATE)===Oe.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(M,C),this._isUserControllingRotate=!0),(this._state&Oe.DOLLY)===Oe.DOLLY||(this._state&Oe.ZOOM)===Oe.ZOOM){const R=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,O=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Oe.DOLLY)===Oe.DOLLY?(this._dollyInternal(C*xx,R,O),this._isUserControllingDolly=!0):(this._zoomInternal(C*xx,R,O),this._isUserControllingZoom=!0)}if((this._state&Oe.TOUCH_DOLLY)===Oe.TOUCH_DOLLY||(this._state&Oe.TOUCH_ZOOM)===Oe.TOUCH_ZOOM||(this._state&Oe.TOUCH_DOLLY_TRUCK)===Oe.TOUCH_DOLLY_TRUCK||(this._state&Oe.TOUCH_ZOOM_TRUCK)===Oe.TOUCH_ZOOM_TRUCK||(this._state&Oe.TOUCH_DOLLY_OFFSET)===Oe.TOUCH_DOLLY_OFFSET||(this._state&Oe.TOUCH_ZOOM_OFFSET)===Oe.TOUCH_ZOOM_OFFSET||(this._state&Oe.TOUCH_DOLLY_ROTATE)===Oe.TOUCH_DOLLY_ROTATE||(this._state&Oe.TOUCH_ZOOM_ROTATE)===Oe.TOUCH_ZOOM_ROTATE){const R=Ks.x-this._activePointers[1].clientX,O=Ks.y-this._activePointers[1].clientY,k=Math.sqrt(R*R+O*O),P=s.y-k;s.set(0,k);const z=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,B=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Oe.TOUCH_DOLLY)===Oe.TOUCH_DOLLY||(this._state&Oe.TOUCH_DOLLY_ROTATE)===Oe.TOUCH_DOLLY_ROTATE||(this._state&Oe.TOUCH_DOLLY_TRUCK)===Oe.TOUCH_DOLLY_TRUCK||(this._state&Oe.TOUCH_DOLLY_OFFSET)===Oe.TOUCH_DOLLY_OFFSET?(this._dollyInternal(P*xx,z,B),this._isUserControllingDolly=!0):(this._zoomInternal(P*xx,z,B),this._isUserControllingZoom=!0)}((this._state&Oe.TRUCK)===Oe.TRUCK||(this._state&Oe.TOUCH_TRUCK)===Oe.TOUCH_TRUCK||(this._state&Oe.TOUCH_DOLLY_TRUCK)===Oe.TOUCH_DOLLY_TRUCK||(this._state&Oe.TOUCH_ZOOM_TRUCK)===Oe.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(M,C,!1),this._isUserControllingTruck=!0),((this._state&Oe.OFFSET)===Oe.OFFSET||(this._state&Oe.TOUCH_OFFSET)===Oe.TOUCH_OFFSET||(this._state&Oe.TOUCH_DOLLY_OFFSET)===Oe.TOUCH_DOLLY_OFFSET||(this._state&Oe.TOUCH_ZOOM_OFFSET)===Oe.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(M,C,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},E=()=>{cE(this._activePointers,Ks),i.copy(Ks),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("mouseup",h),this.dispatchEvent({type:"controlend"}))};this._addAllEventListeners=w=>{this._domElement=w,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),GK&&this._domElement.addEventListener("mousedown",a),this._domElement.addEventListener("pointercancel",c),this._domElement.addEventListener("wheel",v,{passive:!1}),this._domElement.addEventListener("contextmenu",x)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("pointercancel",c),this._domElement.removeEventListener("wheel",v,{passive:!1}),this._domElement.removeEventListener("contextmenu",x),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("mouseup",h))},this.cancel=()=>{this._state!==Oe.NONE&&(this._state=Oe.NONE,this._activePointers.length=0,E())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}rotate(e,n,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+n,r)}rotateAzimuthTo(e,n=!1){return this.rotateTo(e,this._sphericalEnd.phi,n)}rotatePolarTo(e,n=!1){return this.rotateTo(this._sphericalEnd.theta,e,n)}rotateTo(e,n,r=!1){this._isUserControllingRotate=!1;const i=Vp(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=Vp(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||ur(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ur(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,n=!1){return this.dollyTo(this._sphericalEnd.radius-e,n)}dollyTo(e,n=!1){this._isUserControllingDolly=!1;const r=this._sphericalEnd.radius,i=Vp(e,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const a=this._collisionTest(),l=ur(a,this._spherical.radius);if(!(r>i)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(i,a)}else this._sphericalEnd.radius=i;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const o=!n||ur(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(o)}zoom(e,n=!1){return this.zoomTo(this._zoomEnd+e,n)}zoomTo(e,n=!1){this._isUserControllingZoom=!1,this._zoomEnd=Vp(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const r=!n||ur(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(r)}pan(e,n,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,n,r)}truck(e,n,r=!1){this._camera.updateMatrix(),al.setFromMatrixColumn(this._camera.matrix,0),ll.setFromMatrixColumn(this._camera.matrix,1),al.multiplyScalar(e),ll.multiplyScalar(-n);const i=nn.copy(al).add(ll),s=Hn.copy(this._targetEnd).add(i);return this.moveTo(s.x,s.y,s.z,r)}forward(e,n=!1){nn.setFromMatrixColumn(this._camera.matrix,0),nn.crossVectors(this._camera.up,nn),nn.multiplyScalar(e);const r=Hn.copy(this._targetEnd).add(nn);return this.moveTo(r.x,r.y,r.z,n)}moveTo(e,n,r,i=!1){this._isUserControllingTruck=!1;const s=nn.set(e,n,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const o=!i||ur(this._target.x,this._targetEnd.x,this.restThreshold)&&ur(this._target.y,this._targetEnd.y,this.restThreshold)&&ur(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,n,r,i=!1){const a=nn.set(e,n,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(a.x,a.y,a.z,i)}fitToBox(e,n,{cover:r=!1,paddingLeft:i=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:a=0}={}){const l=[],u=e.isBox3?Dp.copy(e):Dp.setFromObject(e);u.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const c=dP(this._sphericalEnd.theta,fP),h=dP(this._sphericalEnd.phi,fP);l.push(this.rotateTo(c,h,n));const g=nn.setFromSpherical(this._sphericalEnd).normalize(),v=yP.setFromUnitVectors(g,dE),x=ur(Math.abs(g.y),1);x&&v.multiply(pE.setFromAxisAngle(_x,c)),v.multiply(this._yAxisUpSpaceInverse);const y=vP.makeEmpty();Hn.copy(u.min).applyQuaternion(v),y.expandByPoint(Hn),Hn.copy(u.min).setX(u.max.x).applyQuaternion(v),y.expandByPoint(Hn),Hn.copy(u.min).setY(u.max.y).applyQuaternion(v),y.expandByPoint(Hn),Hn.copy(u.max).setZ(u.min.z).applyQuaternion(v),y.expandByPoint(Hn),Hn.copy(u.min).setZ(u.max.z).applyQuaternion(v),y.expandByPoint(Hn),Hn.copy(u.max).setY(u.min.y).applyQuaternion(v),y.expandByPoint(Hn),Hn.copy(u.max).setX(u.min.x).applyQuaternion(v),y.expandByPoint(Hn),Hn.copy(u.max).applyQuaternion(v),y.expandByPoint(Hn),y.min.x-=i,y.min.y-=o,y.max.x+=s,y.max.y+=a,v.setFromUnitVectors(dE,g),x&&v.premultiply(pE.invert()),v.premultiply(this._yAxisUpSpace);const _=y.getSize(nn),E=y.getCenter(Hn).applyQuaternion(v);if(vd(this._camera)){const w=this.getDistanceToFitBox(_.x,_.y,_.z,r);l.push(this.moveTo(E.x,E.y,E.z,n)),l.push(this.dollyTo(w,n)),l.push(this.setFocalOffset(0,0,0,n))}else if(_c(this._camera)){const w=this._camera,M=w.right-w.left,C=w.top-w.bottom,R=r?Math.max(M/_.x,C/_.y):Math.min(M/_.x,C/_.y);l.push(this.moveTo(E.x,E.y,E.z,n)),l.push(this.zoomTo(R,n)),l.push(this.setFocalOffset(0,0,0,n))}return Promise.all(l)}fitToSphere(e,n){const r=[],s=e instanceof Ht.Sphere?hE.copy(e):WA.createBoundingSphere(e,hE);if(r.push(this.moveTo(s.center.x,s.center.y,s.center.z,n)),vd(this._camera)){const o=this.getDistanceToFitSphere(s.radius);r.push(this.dollyTo(o,n))}else if(_c(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,l=2*s.radius,u=Math.min(o/l,a/l);r.push(this.zoomTo(u,n))}return r.push(this.setFocalOffset(0,0,0,n)),Promise.all(r)}setLookAt(e,n,r,i,s,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1;const l=Hn.set(i,s,o),u=nn.set(e,n,r);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(u.sub(l).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const c=!a||ur(this._target.x,this._targetEnd.x,this.restThreshold)&&ur(this._target.y,this._targetEnd.y,this.restThreshold)&&ur(this._target.z,this._targetEnd.z,this.restThreshold)&&ur(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ur(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ur(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(c)}lerpLookAt(e,n,r,i,s,o,a,l,u,c,h,g,v,x=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1;const y=nn.set(i,s,o),_=Hn.set(e,n,r);Ma.setFromVector3(_.sub(y).applyQuaternion(this._yAxisUpSpace));const E=Rp.set(c,h,g),w=Hn.set(a,l,u);x0.setFromVector3(w.sub(E).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(y.lerp(E,v));const M=x0.theta-Ma.theta,C=x0.phi-Ma.phi,R=x0.radius-Ma.radius;this._sphericalEnd.set(Ma.radius+R*v,Ma.phi+C*v,Ma.theta+M*v),this.normalizeRotations(),this._needsUpdate=!0,x||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const O=!x||ur(this._target.x,this._targetEnd.x,this.restThreshold)&&ur(this._target.y,this._targetEnd.y,this.restThreshold)&&ur(this._target.z,this._targetEnd.z,this.restThreshold)&&ur(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ur(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ur(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(O)}setPosition(e,n,r,i=!1){return this.setLookAt(e,n,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,n,r,i=!1){const s=this.getPosition(nn),o=this.setLookAt(s.x,s.y,s.z,e,n,r,i);return this._sphericalEnd.phi=Vp(this.polarAngle,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,n,r,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,n,r),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const s=!i||ur(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&ur(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&ur(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,n,r){this._camera.updateMatrixWorld(),al.setFromMatrixColumn(this._camera.matrixWorldInverse,0),ll.setFromMatrixColumn(this._camera.matrixWorldInverse,1),yd.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=nn.set(e,n,r),s=i.distanceTo(this._camera.position),o=i.sub(this._camera.position);al.multiplyScalar(o.x),ll.multiplyScalar(o.y),yd.multiplyScalar(o.z),nn.copy(al).add(ll).add(yd),nn.z=nn.z+s,this.dollyTo(s,!1),this.setFocalOffset(-nn.x,nn.y,-nn.z,!1),this.moveTo(e,n,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,n,r,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new Ht.Vector4,typeof e=="number"?this._viewport.set(e,n,r,i):this._viewport.copy(e)}getDistanceToFitBox(e,n,r,i=!1){if(fE(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/n,o=this._camera.getEffectiveFOV()*g0,a=this._camera.aspect;return((i?s>a:s<a)?n:e/a)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(e){if(fE(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*g0,r=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?n:r;return e/Math.sin(i*.5)}getTarget(e){return(e&&e.isVector3?e:new Ht.Vector3).copy(this._targetEnd)}getPosition(e){return(e&&e.isVector3?e:new Ht.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(e){return(e&&e.isVector3?e:new Ht.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Pp,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Pp),this._spherical.theta+=Pp*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Pp)}reset(e=!1){const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}saveState(){this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_x),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert}update(e){const n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,s=mP.subVectors(this._targetEnd,this._target),o=gP.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(cr(n))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const h=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=yx(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,h,1/0,e),this._needsUpdate=!0}if(cr(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const h=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=yx(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,h,1/0,e),this._needsUpdate=!0}if(cr(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const h=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=yx(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,h,this.maxSpeed,e),this._needsUpdate=!0}if(cr(s.x)&&cr(s.y)&&cr(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const h=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;hP(this._target,this._targetEnd,this._targetVelocity,h,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(cr(o.x)&&cr(o.y)&&cr(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const h=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;hP(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,h,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(this._dollyControlAmount!==0){if(vd(this._camera)){const h=this._camera,g=nn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),v=Hn.copy(g).cross(h.up).normalize();v.lengthSq()===0&&(v.x=1);const x=Rp.crossVectors(v,g),y=this._sphericalEnd.radius*Math.tan(h.getEffectiveFOV()*g0*.5),E=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,w=nn.copy(this._targetEnd).add(v.multiplyScalar(this._dollyControlCoord.x*y*h.aspect)).add(x.multiplyScalar(this._dollyControlCoord.y*y));this._targetEnd.lerp(w,E)}else if(_c(this._camera)){const h=this._camera,g=nn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(h.near+h.far)/(h.near-h.far)).unproject(h),v=Hn.set(0,0,-1).applyQuaternion(h.quaternion),x=Rp.copy(g).add(v.multiplyScalar(-g.dot(h.up))),_=-(this._zoom-this._dollyControlAmount-this._zoomEnd)/this._zoom,E=nn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),w=this._targetEnd.dot(E);this._targetEnd.lerp(x,_);const M=this._targetEnd.dot(E),C=E.multiplyScalar(M-w);this._targetEnd.sub(C)}this._target.copy(this._targetEnd),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._dollyControlAmount=0}if(cr(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const h=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=yx(this._zoom,this._zoomEnd,this._zoomVelocity,h,1/0,e)}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const l=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,l),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!cr(this._focalOffset.x)||!cr(this._focalOffset.y)||!cr(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),al.setFromMatrixColumn(this._camera.matrix,0),ll.setFromMatrixColumn(this._camera.matrix,1),yd.setFromMatrixColumn(this._camera.matrix,2),al.multiplyScalar(this._focalOffset.x),ll.multiplyScalar(-this._focalOffset.y),yd.multiplyScalar(this._focalOffset.z),nn.copy(al).add(ll).add(yd),this._camera.position.add(nn)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),nn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const c=this._needsUpdate;return c&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):c?(this.dispatchEvent({type:"update"}),cr(n,this.restThreshold)&&cr(r,this.restThreshold)&&cr(i,this.restThreshold)&&cr(s.x,this.restThreshold)&&cr(s.y,this.restThreshold)&&cr(s.z,this.restThreshold)&&cr(o.x,this.restThreshold)&&cr(o.y,this.restThreshold)&&cr(o.z,this.restThreshold)&&cr(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!c&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=c,this._needsUpdate=!1,c}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:v0(this.maxDistance),minZoom:this.minZoom,maxZoom:v0(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:v0(this.maxPolarAngle),minAzimuthAngle:v0(this.minAzimuthAngle),maxAzimuthAngle:v0(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:nn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,n=!1){const r=JSON.parse(e),i=nn.fromArray(r.position);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=y0(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=y0(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=y0(r.maxPolarAngle),this.minAzimuthAngle=y0(r.minAzimuthAngle),this.maxAzimuthAngle=y0(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],n),Ma.setFromVector3(i.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Ma.theta,Ma.phi,n),this.zoomTo(r.zoom,n),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],n),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",qK),this._addAllEventListeners(e)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_findPointerById(e){return this._activePointers.find(n=>n.pointerId===e)}_encloseToBoundary(e,n,r){const i=n.lengthSq();if(i===0)return e;const s=Hn.copy(n).add(e),a=this._boundary.clampPoint(s,Rp).sub(s),l=a.lengthSq();if(l===0)return e.add(n);if(l===i)return e;if(r===0)return e.add(n).add(a);{const u=1+r*l/n.dot(a);return e.add(Hn.copy(n).multiplyScalar(u)).add(a.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(vd(this._camera)){const e=this._camera,n=e.near,r=e.getEffectiveFOV()*g0,i=Math.tan(r*.5)*n,s=i*e.aspect;this._nearPlaneCorners[0].set(-s,-i,0),this._nearPlaneCorners[1].set(s,-i,0),this._nearPlaneCorners[2].set(s,i,0),this._nearPlaneCorners[3].set(-s,i,0)}else if(_c(this._camera)){const e=this._camera,n=1/e.zoom,r=e.left*n,i=e.right*n,s=e.top*n,o=e.bottom*n;this._nearPlaneCorners[0].set(r,s,0),this._nearPlaneCorners[1].set(i,s,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||fE(this._camera,"_collisionTest"))return e;const r=nn.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);mE.lookAt(pP,r,this._camera.up);for(let i=0;i<4;i++){const s=Hn.copy(this._nearPlaneCorners[i]);s.applyMatrix4(mE);const o=Rp.addVectors(this._target,s);wx.set(o,r),wx.far=this._spherical.radius+1;const a=wx.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return e.x=n.left,e.y=n.top,this._viewport?(e.x+=this._viewport.x,e.y+=n.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=n.width,e.height=n.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const r=()=>{this.removeEventListener("rest",r),n()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,n=new Ht.Sphere){const r=n,i=r.center;Dp.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Dp.expandByObject(o)}),Dp.getCenter(i);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o,l=a.geometry.clone();if(l.applyMatrix4(a.matrixWorld),l.isBufferGeometry){const c=l.attributes.position;for(let h=0,g=c.count;h<g;h++)nn.fromBufferAttribute(c,h),s=Math.max(s,i.distanceToSquared(nn))}else{const u=l.attributes.position;for(let c=0,h=u.count;c<h;c++)nn.fromBufferAttribute(u,c),s=Math.max(s,i.distanceToSquared(nn))}}),r.radius=Math.sqrt(s),r}};const B7=b.forwardRef((t,e)=>{b.useMemo(()=>{gE.install({THREE:lh}),c3({CameraControlsImpl:gE})},[]);const{camera:n,domElement:r,makeDefault:i,onStart:s,onEnd:o,onChange:a,regress:l,...u}=t,c=Qn(R=>R.camera),h=Qn(R=>R.gl),g=Qn(R=>R.invalidate),v=Qn(R=>R.events),x=Qn(R=>R.setEvents),y=Qn(R=>R.set),_=Qn(R=>R.get),E=Qn(R=>R.performance),w=n||c,M=r||v.connected||h.domElement,C=b.useMemo(()=>new gE(w),[w]);return Al((R,O)=>{C.enabled&&C.update(O)},-1),b.useEffect(()=>(C.connect(M),()=>void C.disconnect()),[M,C]),b.useEffect(()=>{const R=P=>{g(),l&&E.regress(),a&&a(P)},O=P=>{s&&s(P)},k=P=>{o&&o(P)};return C.addEventListener("update",R),C.addEventListener("controlstart",O),C.addEventListener("controlend",k),()=>{C.removeEventListener("update",R),C.removeEventListener("controlstart",O),C.removeEventListener("controlend",k)}},[C,s,o,g,x,l,a]),b.useEffect(()=>{if(i){const R=_().controls;return y({controls:C}),()=>y({controls:R})}},[i,C]),b.createElement("primitive",It({ref:e,object:C},u))}),F7=b.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:u,front:c,back:h,onCentered:g,precise:v=!0,...x},y){const _=b.useRef(null),E=b.useRef(null),w=b.useRef(null);return b.useLayoutEffect(()=>{E.current.matrixWorld.identity();const M=new cf().setFromObject(w.current,v),C=new j,R=new ff,O=M.max.x-M.min.x,k=M.max.y-M.min.y,P=M.max.z-M.min.z;M.getCenter(C),M.getBoundingSphere(R);const z=l?k/2:u?-k/2:0,B=o?-O/2:a?O/2:0,q=c?P/2:h?-P/2:0;E.current.position.set(n||r?0:-C.x+B,n||i?0:-C.y+z,n||s?0:-C.z+q),typeof g<"u"&&g({parent:_.current.parent,container:_.current,width:O,height:k,depth:P,boundingBox:M,boundingSphere:R,center:C,verticalAlignment:z,horizontalAlignment:B,depthAlignment:q})},[e]),b.useImperativeHandle(y,()=>_.current,[]),b.createElement("group",It({ref:_},x),b.createElement("group",{ref:E},b.createElement("group",{ref:w},e)))}),U7=b.forwardRef(({children:t,speed:e=1,rotationIntensity:n=1,floatIntensity:r=1,floatingRange:i=[-.1,.1],...s},o)=>{const a=b.useRef(null),l=b.useRef(Math.random()*1e4);return Al(u=>{var c,h;const g=l.current+u.clock.getElapsedTime();a.current.rotation.x=Math.cos(g/4*e)/8*n,a.current.rotation.y=Math.sin(g/4*e)/8*n,a.current.rotation.z=Math.sin(g/4*e)/20*n;let v=Math.sin(g/4*e)/10;v=ih.mapLinear(v,-.1,.1,(c=i==null?void 0:i[0])!==null&&c!==void 0?c:-.1,(h=i==null?void 0:i[1])!==null&&h!==void 0?h:.1),a.current.position.y=v*r}),b.createElement("group",s,b.createElement("group",{ref:C7([a,o])},t))});function WK(t,e,n=new j){const r=Math.PI*(t-.5),i=2*Math.PI*(e-.5);return n.x=Math.cos(i),n.y=Math.sin(r),n.z=Math.sin(i),n}const jK=b.forwardRef(({inclination:t=.6,azimuth:e=.1,distance:n=1e3,mieCoefficient:r=.005,mieDirectionalG:i=.8,rayleigh:s=.5,turbidity:o=10,sunPosition:a=WK(t,e),...l},u)=>{const c=b.useMemo(()=>new j().setScalar(n),[n]),[h]=b.useState(()=>new cm);return b.createElement("primitive",It({object:h,ref:u,"material-uniforms-mieCoefficient-value":r,"material-uniforms-mieDirectionalG-value":i,"material-uniforms-rayleigh-value":s,"material-uniforms-sunPosition-value":a,"material-uniforms-turbidity-value":o,scale:c},l))});class YK extends ar{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}const QK=t=>new j().setFromSpherical(new Z_(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),XK=b.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=b.useRef(),[u,c,h]=b.useMemo(()=>{const v=[],x=[],y=Array.from({length:n},()=>(.5+.5*Math.random())*i),_=new tt;let E=t+e;const w=e/n;for(let M=0;M<n;M++)E-=w*Math.random(),v.push(...QK(E).toArray()),_.setHSL(M/n,r,.9),x.push(_.r,_.g,_.b);return[new Float32Array(v),new Float32Array(x),new Float32Array(y)]},[n,e,i,t,r]);Al(v=>l.current&&(l.current.uniforms.time.value=v.clock.getElapsedTime()*o));const[g]=b.useState(()=>new YK);return b.createElement("points",{ref:a},b.createElement("bufferGeometry",null,b.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),b.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),b.createElement("bufferAttribute",{attach:"attributes-size",args:[h,1]})),b.createElement("primitive",{ref:l,object:g,attach:"material",blending:Y_,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),KK=kK({time:0,pixelRatio:1},` uniform float pixelRatio;
    uniform float time;
    attribute float size;  
    attribute float speed;  
    attribute float opacity;
    attribute vec3 noise;
    attribute vec3 color;
    varying vec3 vColor;
    varying float vOpacity;
    void main() {
      vec4 modelPosition = modelMatrix * vec4(position, 1.0);
      modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
      modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
      modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
      vec4 viewPosition = viewMatrix * modelPosition;
      vec4 projectionPostion = projectionMatrix * viewPosition;
      gl_Position = projectionPostion;
      gl_PointSize = size * 25. * pixelRatio;
      gl_PointSize *= (1.0 / - viewPosition.z);
      vColor = color;
      vOpacity = opacity;
    }`,` varying vec3 vColor;
    varying float vOpacity;
    void main() {
      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
      float strength = 0.05 / distanceToCenter - 0.1;
      gl_FragColor = vec4(vColor, strength * vOpacity);
      #include <tonemapping_fragment>
      #include <encodings_fragment>
    }`),H7=t=>t&&t.constructor===Float32Array,$K=t=>[t.r,t.g,t.b],q7=t=>t instanceof xe||t instanceof j||t instanceof En,V7=t=>Array.isArray(t)?t:q7(t)?t.toArray():[t,t,t];function _0(t,e,n){return b.useMemo(()=>{if(e!==void 0){if(H7(e))return e;if(e instanceof tt){const r=Array.from({length:t*3},()=>$K(e)).flat();return Float32Array.from(r)}else if(q7(e)||Array.isArray(e)){const r=Array.from({length:t*3},()=>V7(e)).flat();return Float32Array.from(r)}return Float32Array.from({length:t},()=>e)}return Float32Array.from({length:t},n)},[e])}const ZK=b.forwardRef(({noise:t=1,count:e=100,speed:n=1,opacity:r=1,scale:i=1,size:s,color:o,children:a,...l},u)=>{b.useMemo(()=>c3({SparklesImplMaterial:KK}),[]);const c=b.useRef(null),h=Qn(w=>w.viewport.dpr),g=b.useMemo(()=>Float32Array.from(Array.from({length:e},()=>V7(i).map(ih.randFloatSpread)).flat()),[e,i]),v=_0(e,s,Math.random),x=_0(e,r),y=_0(e,n),_=_0(e*3,t),E=_0(o===void 0?e*3:e,H7(o)?o:new tt(o),()=>1);return console.log(E),Al(w=>{c.current&&c.current.material&&(c.current.material.time=w.clock.elapsedTime)}),b.useImperativeHandle(u,()=>c.current,[]),b.createElement("points",It({key:`particle-${e}-${JSON.stringify(i)}`},l,{ref:c}),b.createElement("bufferGeometry",null,b.createElement("bufferAttribute",{attach:"attributes-position",args:[g,3]}),b.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]}),b.createElement("bufferAttribute",{attach:"attributes-opacity",args:[x,1]}),b.createElement("bufferAttribute",{attach:"attributes-speed",args:[y,1]}),b.createElement("bufferAttribute",{attach:"attributes-color",args:[E,3]}),b.createElement("bufferAttribute",{attach:"attributes-noise",args:[_,3]})),a||b.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:h,depthWrite:!1}))});function JK(t){switch(t){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}const e$="https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json",t$="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d";function G7(t=0,e=1024,n){const r=Tb(()=>fetch(e$).then(c=>c.json()),["matcapList"]),i=r[0],s=b.useMemo(()=>Object.keys(r).length,[]),a=`${b.useMemo(()=>typeof t=="string"?t:typeof t=="number"?r[t]:null,[t])||i}${JK(e)}.png`,l=`${t$}/${e}/${a}`;return[Rb(l,n),l,s]}var Vt={},n$={get exports(){return Vt},set exports(t){Vt=t}},r$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i$=r$,s$=i$;function W7(){}function j7(){}j7.resetWarningCache=W7;var o$=function(){function t(r,i,s,o,a,l){if(l!==s$){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j7,resetWarningCache:W7};return n.PropTypes=n,n};n$.exports=o$();const a$={0:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 z "},1:{ha:585,x_min:260,x_max:706,o:"m 436 542 l 306 542 l 342 650 l 601 650 q 706 590 706 650 q 696 542 706 569 l 519 0 l 260 0 l 436 542 z "},2:{ha:896,x_min:-33,x_max:1043,o:"m 183 325 q 349 433 218 433 l 738 433 l 774 542 l 514 542 l 549 650 l 939 650 q 1043 590 1043 650 q 1033 542 1043 571 l 999 433 q 943 348 978 371 q 833 325 908 325 l 574 325 q 468 294 514 325 q 408 217 422 263 l 338 0 q 329 -44 329 -25 q 432 -108 329 -108 l 953 -108 l 847 -433 l 67 -433 q -6 -412 22 -433 q -33 -356 -33 -390 q -28 -325 -33 -340 l 183 325 z "},3:{ha:843,x_min:131,x_max:965,o:"m 200 217 l 590 217 l 625 325 l 365 325 l 401 433 l 661 433 l 696 542 l 306 542 l 342 650 l 861 650 q 965 588 965 650 q 956 542 965 569 l 926 451 q 867 399 918 424 q 817 379 844 389 q 882 319 882 357 q 879 307 882 314 l 815 108 q 650 0 781 0 l 131 0 l 200 217 z "},4:{ha:828,x_min:236,x_max:921,o:"m 306 542 l 436 542 l 401 433 l 531 433 l 601 650 l 861 650 l 790 433 l 921 433 l 886 325 l 756 325 l 650 0 l 390 0 l 496 325 l 236 325 l 306 542 z "},5:{ha:907,x_min:-194,x_max:969,o:"m 751 -325 q 687 -404 735 -375 q 586 -433 639 -433 l -194 -433 l -89 -108 l 432 -108 q 597 0 561 -108 l 667 217 q 676 265 676 246 q 572 325 676 325 l 182 325 l 288 650 l 808 650 l 772 542 l 513 542 l 478 433 l 868 433 q 969 361 969 433 q 963 325 969 344 l 751 -325 z "},6:{ha:835,x_min:161,x_max:892,o:"m 306 542 q 378 626 324 596 q 471 650 422 650 l 861 650 l 826 542 l 567 542 l 531 433 l 790 433 q 892 358 892 433 q 886 325 892 343 l 815 108 q 650 0 781 0 l 260 0 q 187 24 213 0 q 161 81 161 47 q 165 108 161 94 l 306 542 m 460 217 l 721 217 l 756 325 l 496 325 l 460 217 z "},7:{ha:682,x_min:131,x_max:861,o:"m 342 650 l 861 650 l 826 542 l 390 0 l 131 0 l 567 542 l 306 542 l 342 650 z "},8:{ha:793,x_min:111,x_max:911,o:"m 765 108 q 701 31 750 63 q 600 0 653 0 l 210 0 q 138 24 164 0 q 111 82 111 49 q 115 108 111 96 l 179 307 q 290 379 193 349 q 226 451 215 417 l 256 542 q 321 620 272 590 q 421 650 369 650 l 811 650 q 911 575 911 650 q 906 542 911 560 l 876 451 q 767 379 865 418 q 831 317 831 350 q 829 307 831 311 l 765 108 m 611 433 l 646 542 l 517 542 l 481 433 l 611 433 m 540 217 l 575 325 l 446 325 l 410 217 l 540 217 z "},9:{ha:793,x_min:79,x_max:911,o:"m 765 108 q 690 25 747 56 q 600 0 643 0 l 79 0 l 150 217 l 540 217 l 575 325 l 315 325 q 242 349 269 325 q 215 407 215 372 q 221 433 215 419 l 256 542 q 311 613 268 581 q 421 650 360 650 l 811 650 q 882 630 853 650 q 911 574 911 610 q 906 542 911 558 l 765 108 m 646 542 l 386 542 l 350 433 l 610 433 l 646 542 z "},"!":{ha:408,x_min:51,x_max:558,o:"m 382 108 l 122 108 l 297 650 l 558 650 l 382 108 m 311 -108 l 51 -108 l 86 0 l 347 0 l 311 -108 z "},'"':{ha:694,x_min:343,x_max:933,o:"m 933 825 l 797 608 l 668 608 l 672 825 l 933 825 m 608 825 l 472 608 l 343 608 l 347 825 l 608 825 z "},"#":{ha:686,x_min:39,x_max:647,o:"m 247 279 l 401 279 l 447 494 l 290 494 l 247 279 m 468 281 l 597 281 l 597 193 l 453 193 l 411 0 l 346 0 l 385 193 l 231 193 l 190 0 l 124 0 l 163 193 l 39 193 l 39 281 l 181 281 l 222 493 l 90 493 l 90 581 l 242 581 l 276 769 l 346 769 l 310 581 l 463 581 l 501 769 l 568 769 l 531 581 l 647 581 l 647 493 l 513 493 l 468 281 z "},"%":{ha:808,x_min:131,x_max:926,o:"m 371 542 q 321 582 321 542 q 349 630 321 610 q 406 650 376 650 q 456 610 456 650 q 428 562 456 582 q 371 542 400 542 m 926 650 l 390 0 l 131 0 l 667 650 l 926 650 m 650 0 q 600 40 600 0 q 628 88 600 68 q 685 108 656 108 q 735 68 735 108 q 707 20 735 40 q 650 0 679 0 z "},"&":{ha:940,x_min:161,x_max:1025,o:"m 990 217 l 913 0 l 260 0 q 187 24 213 0 q 161 81 161 47 q 165 108 161 94 l 306 542 q 378 626 324 596 q 471 650 422 650 l 861 650 l 826 542 l 567 542 l 531 433 l 1025 433 l 990 325 l 886 325 l 850 217 l 990 217 m 756 325 l 496 325 l 460 217 l 721 217 l 756 325 z "},"'":{ha:369,x_min:343,x_max:608,o:"m 608 825 l 472 608 l 343 608 l 347 825 l 608 825 z "},"(":{ha:324,x_min:42,x_max:282,o:"m 181 -199 q 42 301 42 36 q 181 801 42 567 l 281 801 q 166 571 204 697 q 128 301 128 444 q 282 -199 128 44 l 181 -199 z "},")":{ha:322,x_min:40,x_max:279,o:"m 40 -199 q 111 -76 82 -135 q 159 43 140 -17 q 186 166 178 103 q 194 301 194 229 q 156 569 194 450 q 40 801 118 688 l 140 801 q 245 560 211 683 q 279 301 279 436 q 245 43 279 167 q 140 -199 211 -81 l 40 -199 z "},"*":{ha:883,x_min:192,x_max:947,o:"m 689 707 l 753 576 l 947 588 l 842 436 l 933 319 l 738 263 l 658 106 l 519 185 l 328 106 l 351 263 l 192 319 l 360 436 l 353 588 l 539 576 l 689 707 z "},"+":{ha:644,x_min:176,x_max:731,o:"m 696 325 l 567 325 l 531 217 l 271 217 l 306 325 l 176 325 l 211 433 l 342 433 l 376 542 l 636 542 l 601 433 l 731 433 l 696 325 z "},",":{ha:421,x_min:90,x_max:378,o:"m 117 108 l 378 108 l 264 -108 l 90 -108 l 117 108 z "},"-":{ha:681,x_min:192,x_max:747,o:"m 713 325 l 192 325 l 228 433 l 747 433 l 713 325 z "},".":{ha:449,x_min:94,x_max:390,o:"m 131 0 l 390 0 l 354 -108 l 94 -108 l 131 0 z "},":":{ha:404,x_min:122,x_max:488,o:"m 157 217 l 417 217 l 382 108 l 122 108 l 157 217 m 228 433 l 488 433 l 453 325 l 192 325 l 228 433 z "},";":{ha:401,x_min:128,x_max:485,o:"m 225 433 l 485 433 l 450 325 l 189 325 l 225 433 m 154 217 l 414 217 l 300 0 l 128 0 l 154 217 z "},"<":{ha:557,x_min:167,x_max:644,o:"m 503 163 l 167 325 l 201 433 l 644 596 l 615 506 l 319 397 l 308 361 l 532 253 l 503 163 z "},"=":{ha:644,x_min:157,x_max:783,o:"m 747 433 l 228 433 l 263 542 l 783 542 l 747 433 m 676 217 l 157 217 l 192 325 l 713 325 l 676 217 z "},">":{ha:493,x_min:114,x_max:592,o:"m 556 325 l 114 163 l 143 253 l 438 361 l 450 397 l 225 506 l 254 596 l 592 433 l 556 325 z "},"?":{ha:750,x_min:-17,x_max:889,o:"m 844 433 q 775 354 829 386 q 679 325 726 325 l 550 325 q 385 217 419 325 l 314 0 l 54 0 l 160 325 q 224 400 174 367 q 325 433 274 433 l 585 433 l 621 542 l 360 542 l 396 650 l 785 650 q 889 588 889 650 q 881 542 889 568 l 844 433 m 244 -217 l -17 -217 l 19 -108 l 279 -108 l 244 -217 z "},B:{ha:796,x_min:83,x_max:917,o:"m 768 108 q 705 34 756 68 q 603 0 654 0 l 83 0 l 294 650 l 814 650 q 917 585 917 650 q 910 542 917 565 l 881 451 q 769 379 867 411 q 835 319 835 357 q 833 307 835 314 l 768 108 m 614 433 l 650 542 l 519 542 l 485 433 l 614 433 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 z "},C:{ha:792,x_min:88,x_max:919,o:"m 708 0 l 188 0 q 88 76 88 0 q 93 108 88 92 l 233 542 q 300 616 247 582 q 399 650 353 650 l 919 650 l 883 542 l 494 542 l 389 217 l 778 217 l 708 0 z "},D:{ha:797,x_min:85,x_max:915,o:"m 769 108 q 696 26 753 57 q 604 0 650 0 l 85 0 l 296 650 l 815 650 q 888 628 861 650 q 915 571 915 606 q 910 542 915 557 l 769 108 m 544 217 l 650 542 l 519 542 l 414 217 l 544 217 z "},E:{ha:786,x_min:74,x_max:903,o:"m 692 0 l 172 0 q 101 25 129 0 q 74 85 74 50 q 76 108 74 96 l 218 542 q 284 615 231 581 q 383 650 338 650 l 903 650 l 868 542 l 478 542 l 443 433 l 703 433 l 667 325 l 407 325 l 372 217 l 763 217 l 692 0 z "},F:{ha:707,x_min:64,x_max:925,o:"m 890 542 l 500 542 l 465 433 l 725 433 l 689 325 l 429 325 l 324 0 l 64 0 l 240 542 q 306 616 253 582 q 406 650 360 650 l 925 650 l 890 542 z "},G:{ha:714,x_min:63,x_max:1296,o:"m 1190 -433 l 410 -433 q 338 -410 364 -433 q 311 -353 311 -387 q 315 -325 311 -339 l 421 0 l 161 0 q 89 24 115 0 q 63 82 63 49 q 67 108 63 96 l 207 542 q 272 616 221 582 q 372 650 322 650 l 892 650 l 857 542 l 467 542 l 361 217 l 492 217 l 526 325 l 786 325 l 681 0 q 678 -25 678 -11 q 699 -81 678 -58 q 776 -108 726 -108 l 1296 -108 l 1190 -433 z "},H:{ha:704,x_min:31,x_max:1296,o:"m 1190 -433 l 410 -433 q 337 -408 363 -433 q 311 -350 311 -383 q 315 -325 311 -337 l 526 325 l 396 325 l 290 0 l 31 0 l 242 650 l 501 650 l 432 433 l 561 433 l 632 650 l 892 650 l 681 0 q 675 -33 675 -17 q 775 -108 675 -108 l 1296 -108 l 1190 -433 z "},I:{ha:413,x_min:86,x_max:558,o:"m 347 0 l 86 0 l 297 650 l 558 650 l 347 0 z "},J:{ha:447,x_min:-672,x_max:589,o:"m 272 -325 q 213 -397 260 -364 q 107 -433 161 -433 l -672 -433 l -567 -108 l -47 -108 q 118 0 83 -108 l 329 650 l 589 650 l 272 -325 z "},K:{ha:660,x_min:71,x_max:1465,o:"m 1360 -433 l 667 -433 q 529 -325 574 -433 l 367 150 l 321 0 l 71 0 l 282 650 l 543 650 l 489 488 l 672 650 l 803 650 l 528 406 l 721 0 q 768 -74 746 -53 q 860 -108 803 -108 l 1465 -108 l 1360 -433 z "},L:{ha:347,x_min:-61,x_max:924,o:"m 818 -433 l 39 -433 q -61 -356 -61 -433 q -57 -325 -61 -340 l 261 650 l 521 650 l 310 0 q 304 -28 304 -14 q 404 -108 304 -108 l 924 -108 l 818 -433 z "},M:{ha:1103,x_min:14,x_max:1669,o:"m 1564 -433 l 783 -433 q 683 -354 683 -433 q 689 -325 683 -339 l 864 217 l 664 0 l 404 0 l 344 217 l 274 0 l 14 0 l 225 650 l 485 650 l 604 217 l 1006 650 l 1265 650 l 1054 0 q 1050 -29 1050 -14 q 1149 -108 1050 -108 l 1669 -108 l 1564 -433 z "},N:{ha:828,x_min:25,x_max:1419,o:"m 1314 -433 l 535 -433 q 433 -358 433 -433 q 439 -325 433 -342 l 544 0 l 390 325 l 285 0 l 25 0 l 236 650 l 496 650 l 650 325 l 756 650 l 1017 650 l 806 0 q 799 -35 799 -18 q 900 -108 799 -108 l 1419 -108 l 1314 -433 z "},O:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 z "},P:{ha:736,x_min:67,x_max:899,o:"m 858 433 q 794 358 844 392 q 693 325 744 325 l 433 325 l 328 0 l 67 0 l 278 650 l 799 650 q 860 632 831 650 q 899 571 899 610 q 893 542 899 557 l 858 433 m 599 433 l 633 542 l 503 542 l 468 433 l 599 433 z "},Q:{ha:692,x_min:57,x_max:1161,o:"m 1056 -433 l 275 -433 q 203 -408 229 -433 q 176 -349 176 -383 q 181 -325 176 -336 l 286 0 l 156 0 q 86 24 115 0 q 57 82 57 47 q 61 108 57 96 l 203 542 q 269 621 217 589 q 368 650 318 650 l 757 650 q 858 576 858 650 q 853 542 858 560 l 711 108 q 643 24 693 54 q 546 0 599 -4 q 542 -32 542 -17 q 640 -108 542 -108 l 1161 -108 l 1056 -433 m 486 217 l 592 542 l 463 542 l 357 217 l 486 217 z "},R:{ha:725,x_min:38,x_max:1301,o:"m 1196 -433 l 417 -433 q 349 -408 379 -433 q 318 -349 318 -383 q 321 -325 318 -336 l 532 325 l 403 325 l 297 0 l 38 0 l 249 650 l 768 650 q 869 582 869 650 q 863 542 869 564 l 839 469 q 701 379 819 410 q 783 306 783 354 q 781 289 783 297 l 688 0 q 678 -46 678 -26 q 782 -108 678 -108 l 1301 -108 l 1196 -433 m 568 433 l 603 542 l 472 542 l 438 433 l 568 433 z "},S:{ha:838,x_min:-244,x_max:918,o:"m 701 -325 q 635 -401 688 -368 q 536 -433 583 -433 l -244 -433 l -139 -108 l 382 -108 q 546 0 511 -108 l 617 217 q 624 256 624 238 q 522 325 624 325 l 263 325 q 163 403 163 325 q 167 433 163 418 l 203 542 q 264 615 215 581 q 368 650 313 650 l 758 650 l 722 542 l 463 542 l 428 433 l 817 433 q 918 361 918 433 q 913 325 918 344 l 701 -325 z "},T:{ha:540,x_min:56,x_max:1040,o:"m 935 -433 l 154 -433 q 83 -410 111 -433 q 56 -353 56 -387 q 60 -325 56 -339 l 342 542 l 211 542 l 246 650 l 767 650 l 731 542 l 601 542 l 425 0 q 418 -40 418 -22 q 519 -108 418 -108 l 1040 -108 l 935 -433 z "},U:{ha:769,x_min:86,x_max:917,o:"m 740 108 q 671 29 725 61 q 575 0 622 0 l 185 0 q 115 24 143 0 q 86 83 86 49 q 90 108 86 96 l 267 650 l 526 650 l 386 217 l 515 217 l 657 650 l 917 650 l 740 108 z "},V:{ha:736,x_min:163,x_max:893,o:"m 893 650 l 553 0 l 163 0 l 243 650 l 504 650 l 428 217 l 633 650 l 893 650 z "},W:{ha:1294,x_min:201,x_max:1453,o:"m 1453 650 l 1111 0 l 722 0 l 763 325 l 592 0 l 201 0 l 283 650 l 543 650 l 467 217 l 674 650 l 1063 650 l 988 217 l 1193 650 l 1453 650 z "},X:{ha:818,x_min:72,x_max:933,o:"m 722 0 l 463 0 l 450 163 l 332 0 l 72 0 l 308 325 l 283 650 l 543 650 l 556 488 l 674 650 l 933 650 l 699 325 l 722 0 z "},Y:{ha:729,x_min:-635,x_max:888,o:"m 888 650 l 376 -325 q 305 -403 351 -372 q 211 -433 258 -433 l -635 -433 l -529 -108 l -8 -108 q 103 -78 56 -108 q 157 0 150 -49 l 238 650 l 497 650 l 422 217 l 628 650 l 888 650 z "},Z:{ha:758,x_min:131,x_max:861,o:"m 650 0 l 131 0 l 200 217 l 567 542 l 306 542 l 342 650 l 861 650 l 826 542 l 460 217 l 721 217 l 650 0 z "},_:{ha:613,x_min:0,x_max:613,o:"m 0 -18 l 613 -18 l 613 -169 l 0 -169 l 0 -18 z "},a:{ha:663,x_min:114,x_max:744,o:"m 603 0 l 468 0 l 483 36 q 378 0 417 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 744 433 l 603 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 z "},b:{ha:649,x_min:75,x_max:707,o:"m 631 108 q 566 28 614 57 q 465 0 518 0 l 75 0 l 286 650 l 547 650 l 476 433 l 606 433 q 678 413 650 433 q 707 357 707 393 q 701 325 707 342 l 631 108 m 536 217 l 571 325 l 440 325 l 406 217 l 536 217 z "},c:{ha:649,x_min:108,x_max:740,o:"m 599 0 l 208 0 q 108 76 108 0 q 114 108 108 92 l 185 325 q 251 401 199 368 q 350 433 304 433 l 740 433 l 704 325 l 444 325 l 410 217 l 669 217 l 599 0 z "},d:{ha:650,x_min:107,x_max:807,o:"m 596 0 l 206 0 q 131 26 158 0 q 107 83 107 49 q 111 108 107 96 l 181 325 q 251 404 196 371 q 346 433 300 433 l 476 433 l 547 650 l 807 650 l 596 0 m 406 217 l 440 325 l 311 325 l 276 217 l 406 217 z "},e:{ha:665,x_min:113,x_max:743,o:"m 601 0 l 213 0 q 144 21 172 0 q 113 81 113 44 q 117 108 113 94 l 188 325 q 252 400 201 367 q 353 433 303 433 l 663 433 q 743 383 743 433 q 706 325 743 350 l 542 217 l 672 217 l 601 0 m 578 325 l 447 325 l 413 217 l 578 325 z "},f:{ha:506,x_min:82,x_max:683,o:"m 542 217 l 413 217 l 342 0 l 82 0 l 257 542 q 325 622 274 592 q 422 650 371 650 l 683 650 l 647 542 l 518 542 l 447 325 l 578 325 l 542 217 z "},g:{ha:671,x_min:-439,x_max:753,o:"m 506 -325 q 441 -403 490 -372 q 340 -433 392 -433 l -439 -433 l -333 -108 l 186 -108 q 324 -50 274 -108 q 351 0 343 -26 l 222 0 q 151 26 179 0 q 124 86 124 51 q 126 108 124 97 l 197 325 q 251 396 210 364 q 363 433 301 433 l 753 433 l 506 -325 m 422 217 l 457 325 l 328 325 l 292 217 l 422 217 z "},h:{ha:647,x_min:76,x_max:707,o:"m 596 0 l 467 0 l 572 325 l 442 325 l 336 0 l 76 0 l 288 650 l 547 650 l 476 433 l 607 433 q 707 360 707 433 q 701 325 707 343 l 596 0 z "},i:{ha:400,x_min:86,x_max:558,o:"m 522 542 l 263 542 l 297 650 l 558 650 l 522 542 m 347 0 l 86 0 l 228 433 l 488 433 l 347 0 z "},j:{ha:400,x_min:-707,x_max:554,o:"m 519 542 l 260 542 l 294 650 l 554 650 l 519 542 m 238 -325 q 172 -403 222 -372 q 72 -433 122 -433 l -707 -433 l -601 -108 l -82 -108 q 83 0 49 -108 l 224 433 l 485 433 l 238 -325 z "},k:{ha:724,x_min:61,x_max:726,o:"m 711 0 l 451 0 l 358 113 l 321 0 l 61 0 l 272 650 l 532 650 l 426 325 l 592 433 l 726 433 l 478 267 l 711 0 z "},l:{ha:401,x_min:86,x_max:558,o:"m 347 0 l 86 0 l 297 650 l 558 650 l 347 0 z "},m:{ha:919,x_min:85,x_max:975,o:"m 864 0 l 735 0 l 840 325 l 710 325 l 604 0 l 475 0 l 581 325 l 450 325 l 344 0 l 85 0 l 225 433 l 875 433 q 947 413 918 433 q 975 356 975 392 q 971 325 975 342 l 864 0 z "},n:{ha:660,x_min:85,x_max:714,o:"m 604 0 l 475 0 l 581 325 l 450 325 l 344 0 l 85 0 l 225 433 l 615 433 q 685 410 657 433 q 714 350 714 386 q 710 325 714 338 l 604 0 z "},o:{ha:653,x_min:111,x_max:710,o:"m 635 108 q 572 33 621 65 q 469 0 524 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 610 433 q 681 411 653 433 q 710 354 710 389 q 706 325 710 340 l 635 108 m 410 217 l 446 325 l 315 325 l 281 217 l 410 217 z "},p:{ha:665,x_min:-699,x_max:722,o:"m 647 108 q 583 34 633 68 q 482 0 533 0 l 351 0 l 246 -325 q 181 -401 232 -368 q 81 -433 129 -433 l -699 -433 l -593 -108 l -74 -108 q 92 0 57 -108 l 232 433 l 622 433 q 722 354 722 433 q 717 325 722 340 l 647 108 m 553 217 l 588 325 l 457 325 l 422 217 l 553 217 z "},q:{ha:563,x_min:67,x_max:1169,o:"m 1064 -433 l 283 -433 q 185 -354 185 -433 q 189 -325 185 -339 l 294 0 l 165 0 q 93 26 119 0 q 67 85 67 51 q 69 108 67 97 l 140 325 q 206 399 153 364 q 306 433 258 433 l 696 433 l 554 0 q 549 -35 549 -18 q 650 -108 549 -108 l 1169 -108 l 1064 -433 m 365 217 l 400 325 l 271 325 l 235 217 l 365 217 z "},r:{ha:489,x_min:78,x_max:608,o:"m 572 325 l 443 325 l 338 0 l 78 0 l 183 325 q 251 404 197 371 q 349 433 301 433 l 608 433 l 572 325 z "},s:{ha:751,x_min:-250,x_max:756,o:"m 610 -325 q 542 -401 594 -369 q 444 -433 490 -433 l -250 -433 l -143 -108 l 290 -108 q 454 0 414 -108 q 467 51 467 32 q 360 108 467 108 l 231 108 q 131 186 131 108 q 135 217 131 201 l 171 325 q 236 401 185 368 q 336 433 288 433 l 596 433 l 560 325 l 431 325 l 396 217 l 656 217 q 756 142 756 217 q 750 108 756 126 l 610 -325 z "},t:{ha:519,x_min:113,x_max:613,o:"m 472 0 l 213 0 q 141 21 169 0 q 113 78 113 42 q 117 108 113 93 l 293 650 l 553 650 l 483 433 l 613 433 l 578 325 l 447 325 l 413 217 l 542 217 l 472 0 z "},u:{ha:663,x_min:115,x_max:744,o:"m 639 108 q 582 35 625 65 q 474 0 535 0 l 214 0 q 142 24 168 0 q 115 82 115 47 q 119 108 115 94 l 225 433 l 485 433 l 414 217 l 544 217 l 615 433 l 744 433 l 639 108 z "},v:{ha:658,x_min:231,x_max:761,o:"m 761 433 l 490 0 l 231 0 l 242 433 l 501 433 l 496 217 l 632 433 l 761 433 z "},w:{ha:1058,x_min:221,x_max:1142,o:"m 1142 433 l 871 0 l 611 0 l 617 217 l 481 0 l 221 0 l 232 433 l 492 433 l 486 217 l 622 433 l 882 433 l 876 217 l 1011 433 l 1142 433 z "},x:{ha:688,x_min:106,x_max:724,o:"m 669 0 l 410 0 l 361 113 l 236 0 l 106 0 l 326 196 l 225 433 l 485 433 l 515 364 l 593 433 l 724 433 l 550 279 l 669 0 z "},y:{ha:625,x_min:-485,x_max:707,o:"m 461 -325 q 392 -407 443 -376 q 296 -433 346 -433 l -485 -433 l -379 -108 l 140 -108 q 251 -74 206 -108 q 306 0 289 -43 l 176 0 q 76 78 76 0 q 82 108 76 92 l 188 433 l 317 433 l 246 217 l 376 217 l 447 433 l 707 433 l 461 -325 z "},z:{ha:607,x_min:108,x_max:661,o:"m 553 0 l 108 0 l 179 217 l 365 325 l 214 325 l 249 433 l 661 433 l 625 325 l 439 217 l 622 217 l 553 0 z "},A:{ha:710,x_min:24,x_max:1288,o:"m 1182 -433 l 403 -433 q 335 -410 365 -433 q 304 -350 304 -386 q 308 -325 304 -337 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 754 650 q 857 581 857 650 q 850 542 857 564 l 674 0 q 668 -33 668 -18 q 768 -108 668 -108 l 1288 -108 l 1182 -433 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 z "},"":{ha:2004,x_min:94,x_max:1946,o:"m 131 0 l 390 0 l 354 -108 l 94 -108 l 131 0 m 908 0 l 1168 0 l 1132 -108 l 872 -108 l 908 0 m 1686 0 l 1946 0 l 1910 -108 l 1650 -108 l 1686 0 z "},"":{ha:408,x_min:50,x_max:557,o:"m 226 433 l 486 433 l 311 -108 l 50 -108 l 226 433 m 297 650 l 557 650 l 522 542 l 261 542 l 297 650 z "},"":{ha:750,x_min:-17,x_max:889,o:"m 28 0 q 97 79 43 47 q 193 108 146 108 l 322 108 q 488 217 453 108 l 558 433 l 818 433 l 713 108 q 649 33 699 67 q 547 0 599 0 l 288 0 l 251 -108 l 513 -108 l 476 -217 l 88 -217 q -17 -154 -17 -217 q -8 -108 -17 -135 l 28 0 m 628 650 l 889 650 l 853 542 l 593 542 l 628 650 z "},"@":{ha:669,x_min:25,x_max:639,o:"m 450 492 l 450 339 q 496 286 450 286 q 547 318 524 286 q 569 408 569 350 q 557 513 569 465 q 516 596 544 561 q 443 650 488 631 q 335 669 399 669 q 241 652 285 669 q 165 600 197 635 q 115 514 133 565 q 96 394 96 463 q 154 186 96 257 q 310 100 213 115 l 301 31 q 180 72 232 40 q 93 152 128 104 q 42 263 58 200 q 25 396 25 325 q 51 540 25 476 q 119 648 76 604 q 218 715 163 692 q 335 738 274 738 q 559 659 479 738 q 639 414 639 581 q 634 358 639 390 q 614 297 629 326 q 570 248 599 268 q 494 228 542 228 q 403 279 425 228 q 324 253 367 253 q 243 283 278 253 q 208 372 208 314 q 239 462 208 431 q 322 493 269 493 q 393 474 365 493 l 399 492 l 450 492 m 393 411 q 333 436 369 436 q 265 372 265 436 q 329 311 265 311 q 393 340 369 311 l 393 411 z "},"`":{ha:217,x_min:158,x_max:329,o:"m 158 624 l 253 624 l 329 489 l 276 489 l 158 624 z "},"":{ha:882,x_min:57,x_max:829,o:"m 57 385 q 88 535 57 464 q 170 658 118 606 q 293 740 222 710 q 443 771 364 771 q 593 740 522 771 q 716 658 664 710 q 799 535 768 606 q 829 385 829 464 q 799 235 829 306 q 716 112 768 164 q 593 29 664 60 q 443 -1 522 -1 q 293 29 364 -1 q 170 112 222 60 q 88 235 118 164 q 57 385 57 306 m 103 383 q 130 250 103 313 q 203 142 157 188 q 311 69 249 96 q 444 42 374 42 q 578 69 515 42 q 687 142 640 96 q 760 250 733 188 q 788 383 788 313 q 760 517 788 454 q 687 626 733 579 q 578 701 640 674 q 444 728 515 728 q 311 701 374 728 q 203 626 249 674 q 130 517 157 579 q 103 383 103 454 m 525 481 q 438 531 489 531 q 360 490 389 531 q 331 379 331 450 q 362 271 331 313 q 439 229 393 229 q 485 241 463 229 q 525 272 508 253 l 594 225 q 438 139 542 139 q 360 157 396 139 q 299 208 325 175 q 259 284 274 240 q 244 379 244 328 q 258 475 244 431 q 296 552 271 519 q 357 603 321 585 q 438 621 393 621 q 597 528 546 621 l 525 481 z "},"":{ha:750,x_min:65,x_max:693,o:"m 375 728 q 270 707 317 728 q 191 653 224 686 q 141 576 158 619 q 124 490 124 533 q 141 403 124 446 q 191 326 158 360 q 270 272 224 293 q 375 251 317 251 q 478 269 429 251 q 564 320 528 288 q 622 397 600 353 q 643 490 643 440 q 623 576 643 533 q 567 653 603 619 q 483 707 532 686 q 375 728 433 728 m 376 197 q 251 222 308 197 q 153 286 194 246 q 88 379 111 326 q 65 490 65 432 q 88 603 65 550 q 153 697 111 657 q 251 761 194 738 q 376 785 308 785 q 503 762 444 785 q 603 699 561 739 q 669 606 646 660 q 693 490 693 553 q 669 379 693 432 q 602 286 644 326 q 501 222 560 246 q 376 197 443 197 m 342 581 l 342 508 l 394 508 q 428 543 428 508 q 394 581 428 581 l 342 581 m 375 443 l 342 443 l 342 326 l 279 326 l 279 644 l 393 644 q 465 618 438 644 q 492 543 492 592 q 479 491 492 511 q 439 453 467 471 l 496 326 l 429 326 l 375 443 z "},"":{ha:319,x_min:140,x_max:357,o:"m 215 419 l 357 353 l 357 269 l 140 376 l 140 458 l 357 571 l 357 485 l 215 419 z "},"":{ha:779,x_min:143,x_max:783,o:"m 324 672 l 324 363 l 242 363 l 242 672 l 143 672 l 143 747 l 419 747 l 419 672 l 324 672 m 706 575 l 622 361 l 531 583 l 531 364 l 454 364 l 454 749 l 547 749 l 621 550 l 693 749 l 783 749 l 783 364 l 706 364 l 706 575 z "},"":{ha:319,x_min:140,x_max:357,o:"m 282 422 l 140 488 l 140 571 l 357 464 l 357 382 l 140 269 l 140 356 l 282 422 z "},"":{ha:519,x_min:140,x_max:563,o:"m 215 419 l 357 353 l 357 269 l 140 376 l 140 458 l 357 571 l 357 485 l 215 419 m 421 419 l 563 353 l 563 269 l 346 376 l 346 458 l 563 571 l 563 485 l 421 419 z "},"":{ha:536,x_min:156,x_max:578,o:"m 503 422 l 361 488 l 361 571 l 578 464 l 578 382 l 361 269 l 361 356 l 503 422 m 297 422 l 156 488 l 156 571 l 372 464 l 372 382 l 156 269 l 156 356 l 297 422 z "},"":{ha:375,x_min:226,x_max:536,o:"m 381 594 l 313 504 l 226 504 l 339 638 l 421 638 l 536 504 l 449 504 l 381 594 z "},"":{ha:435,x_min:243,x_max:579,o:"m 579 572 q 478 506 554 506 q 444 512 458 506 q 415 526 429 518 q 388 540 401 533 q 358 546 374 546 q 325 535 342 546 q 292 499 308 525 l 243 540 q 290 596 264 579 q 347 613 315 613 q 388 607 372 613 q 417 594 404 601 q 443 581 431 586 q 474 575 456 575 q 536 622 514 575 l 579 572 z "},"":{ha:467,x_min:269,x_max:586,o:"m 332 519 q 287 538 304 519 q 269 583 269 557 q 287 629 269 611 q 332 647 304 647 q 377 629 358 647 q 396 583 396 611 q 377 538 396 557 q 332 519 358 519 m 524 519 q 480 538 499 519 q 461 583 461 557 q 480 629 461 611 q 524 647 499 647 q 569 629 551 647 q 586 583 586 611 q 569 538 586 557 q 524 519 551 519 z "},"":{ha:215,x_min:267,x_max:438,o:"m 319 492 l 267 492 l 343 626 l 438 626 l 319 492 z "},"":{ha:251,x_min:78,x_max:213,o:"m 143 10 l 143 -40 q 213 -103 213 -40 q 192 -160 213 -143 q 126 -176 171 -176 q 98 -174 111 -176 q 78 -168 85 -171 l 92 -121 q 125 -126 103 -126 q 164 -107 164 -126 q 158 -92 164 -96 q 135 -87 151 -87 l 118 -87 q 110 -88 115 -87 q 99 -90 106 -89 l 99 10 l 143 10 z "},"":{ha:318,x_min:269,x_max:438,o:"m 354 656 q 317 639 333 656 q 300 599 300 622 q 316 558 300 574 q 354 542 332 542 q 394 558 378 542 q 411 599 411 574 q 394 639 411 622 q 354 656 376 656 m 353 513 q 293 536 317 513 q 269 596 269 560 q 293 659 269 633 q 353 685 317 685 q 413 658 389 685 q 438 596 438 632 q 413 536 438 560 q 353 513 389 513 z "},:{ha:400,x_min:86,x_max:488,o:"m 347 0 l 86 0 l 228 433 l 488 433 l 347 0 z "},:{ha:729,x_min:-635,x_max:888,o:"m 888 650 l 376 -325 q 305 -403 351 -372 q 211 -433 258 -433 l -635 -433 l -529 -108 l -8 -108 q 103 -78 56 -108 q 157 0 150 -49 l 238 650 l 497 650 l 422 217 l 628 650 l 888 650 m 463 736 q 417 755 435 736 q 400 800 400 774 q 417 846 400 828 q 463 864 435 864 q 508 846 489 864 q 526 800 526 828 q 508 755 526 774 q 463 736 489 736 m 654 736 q 610 755 629 736 q 592 800 592 774 q 610 846 592 828 q 654 864 629 864 q 699 846 682 864 q 717 800 717 828 q 699 755 717 774 q 654 736 682 736 z "},:{ha:710,x_min:24,x_max:1288,o:"m 1182 -433 l 403 -433 q 335 -410 365 -433 q 304 -350 304 -386 q 308 -325 304 -337 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 754 650 q 857 581 857 650 q 850 542 857 564 l 674 0 q 668 -33 668 -18 q 768 -108 668 -108 l 1288 -108 l 1182 -433 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 m 438 840 l 532 840 l 608 706 l 556 706 l 438 840 z "},:{ha:710,x_min:24,x_max:1288,o:"m 1182 -433 l 403 -433 q 335 -410 365 -433 q 304 -350 304 -386 q 308 -325 304 -337 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 754 650 q 857 581 857 650 q 850 542 857 564 l 674 0 q 668 -33 668 -18 q 768 -108 668 -108 l 1288 -108 l 1182 -433 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 m 575 708 l 522 708 l 599 843 l 693 843 l 575 708 z "},:{ha:710,x_min:24,x_max:1288,o:"m 1182 -433 l 403 -433 q 335 -410 365 -433 q 304 -350 304 -386 q 308 -325 304 -337 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 754 650 q 857 581 857 650 q 850 542 857 564 l 674 0 q 668 -33 668 -18 q 768 -108 668 -108 l 1288 -108 l 1182 -433 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 m 571 811 l 503 721 l 417 721 l 529 854 l 611 854 l 726 721 l 639 721 l 571 811 z "},:{ha:710,x_min:24,x_max:1288,o:"m 1182 -433 l 403 -433 q 335 -410 365 -433 q 304 -350 304 -386 q 308 -325 304 -337 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 754 650 q 857 581 857 650 q 850 542 857 564 l 674 0 q 668 -33 668 -18 q 768 -108 668 -108 l 1288 -108 l 1182 -433 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 m 736 789 q 635 722 711 722 q 601 728 615 722 q 572 742 586 735 q 544 756 558 750 q 515 763 531 763 q 482 752 499 763 q 449 715 465 742 l 400 757 q 447 813 421 796 q 504 829 472 829 q 545 824 529 829 q 574 810 561 818 q 600 797 588 803 q 631 792 613 792 q 693 839 671 792 l 736 789 z "},:{ha:710,x_min:24,x_max:1288,o:"m 1182 -433 l 403 -433 q 335 -410 365 -433 q 304 -350 304 -386 q 308 -325 304 -337 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 754 650 q 857 581 857 650 q 850 542 857 564 l 674 0 q 668 -33 668 -18 q 768 -108 668 -108 l 1288 -108 l 1182 -433 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 m 483 736 q 438 755 456 736 q 421 800 421 774 q 438 846 421 828 q 483 864 456 864 q 528 846 510 864 q 547 800 547 828 q 528 755 547 774 q 483 736 510 736 m 675 736 q 631 755 650 736 q 613 800 613 774 q 631 846 613 828 q 675 864 650 864 q 720 846 703 864 q 738 800 738 828 q 720 755 738 774 q 675 736 703 736 z "},:{ha:710,x_min:24,x_max:1288,o:"m 1182 -433 l 403 -433 q 335 -410 365 -433 q 304 -350 304 -386 q 308 -325 304 -337 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 754 650 q 857 581 857 650 q 850 542 857 564 l 674 0 q 668 -33 668 -18 q 768 -108 668 -108 l 1288 -108 l 1182 -433 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 m 593 872 q 556 856 572 872 q 539 815 539 839 q 555 774 539 790 q 593 758 571 758 q 633 774 617 758 q 650 815 650 790 q 633 856 650 839 q 593 872 615 872 m 592 729 q 532 753 556 729 q 508 813 508 776 q 532 876 508 850 q 592 901 556 901 q 652 875 628 901 q 676 813 676 849 q 652 753 676 776 q 592 729 628 729 z "},:{ha:792,x_min:88,x_max:919,o:"m 708 0 l 188 0 q 88 76 88 0 q 93 108 88 92 l 233 542 q 300 616 247 582 q 399 650 353 650 l 919 650 l 883 542 l 494 542 l 389 217 l 778 217 l 708 0 m 456 10 l 456 -40 q 525 -103 525 -40 q 504 -160 525 -143 q 439 -176 483 -176 q 410 -174 424 -176 q 390 -168 397 -171 l 404 -121 q 438 -126 415 -126 q 476 -107 476 -126 q 470 -92 476 -96 q 447 -87 464 -87 l 431 -87 q 423 -88 428 -87 q 411 -90 418 -89 l 411 10 l 456 10 z "},:{ha:786,x_min:74,x_max:903,o:"m 692 0 l 172 0 q 101 25 129 0 q 74 85 74 50 q 76 108 74 96 l 218 542 q 284 615 231 581 q 383 650 338 650 l 903 650 l 868 542 l 478 542 l 443 433 l 703 433 l 667 325 l 407 325 l 372 217 l 763 217 l 692 0 m 501 840 l 596 840 l 672 706 l 619 706 l 501 840 z "},:{ha:786,x_min:74,x_max:903,o:"m 692 0 l 172 0 q 101 25 129 0 q 74 85 74 50 q 76 108 74 96 l 218 542 q 284 615 231 581 q 383 650 338 650 l 903 650 l 868 542 l 478 542 l 443 433 l 703 433 l 667 325 l 407 325 l 372 217 l 763 217 l 692 0 m 617 708 l 564 708 l 640 843 l 735 843 l 617 708 z "},:{ha:786,x_min:74,x_max:903,o:"m 692 0 l 172 0 q 101 25 129 0 q 74 85 74 50 q 76 108 74 96 l 218 542 q 284 615 231 581 q 383 650 338 650 l 903 650 l 868 542 l 478 542 l 443 433 l 703 433 l 667 325 l 407 325 l 372 217 l 763 217 l 692 0 m 625 811 l 557 721 l 471 721 l 583 854 l 665 854 l 781 721 l 693 721 l 625 811 z "},:{ha:786,x_min:74,x_max:903,o:"m 692 0 l 172 0 q 101 25 129 0 q 74 85 74 50 q 76 108 74 96 l 218 542 q 284 615 231 581 q 383 650 338 650 l 903 650 l 868 542 l 478 542 l 443 433 l 703 433 l 667 325 l 407 325 l 372 217 l 763 217 l 692 0 m 492 736 q 447 755 464 736 q 429 800 429 774 q 447 846 429 828 q 492 864 464 864 q 537 846 518 864 q 556 800 556 828 q 537 755 556 774 q 492 736 518 736 m 683 736 q 640 755 658 736 q 621 800 621 774 q 640 846 621 828 q 683 864 658 864 q 728 846 711 864 q 746 800 746 828 q 728 755 746 774 q 683 736 711 736 z "},:{ha:413,x_min:86,x_max:558,o:"m 347 0 l 86 0 l 297 650 l 558 650 l 347 0 m 315 840 l 410 840 l 486 706 l 433 706 l 315 840 z "},:{ha:413,x_min:86,x_max:571,o:"m 347 0 l 86 0 l 297 650 l 558 650 l 347 0 m 453 708 l 400 708 l 476 843 l 571 843 l 453 708 z "},:{ha:413,x_min:86,x_max:606,o:"m 347 0 l 86 0 l 297 650 l 558 650 l 347 0 m 450 811 l 382 721 l 296 721 l 408 854 l 490 854 l 606 721 l 518 721 l 450 811 z "},:{ha:413,x_min:86,x_max:625,o:"m 347 0 l 86 0 l 297 650 l 558 650 l 347 0 m 371 736 q 326 755 343 736 q 308 800 308 774 q 326 846 308 828 q 371 864 343 864 q 416 846 397 864 q 435 800 435 828 q 416 755 435 774 q 371 736 397 736 m 563 736 q 519 755 538 736 q 500 800 500 774 q 519 846 500 828 q 563 864 538 864 q 608 846 590 864 q 625 800 625 828 q 608 755 625 774 q 563 736 590 736 z "},:{ha:828,x_min:25,x_max:1419,o:"m 1314 -433 l 535 -433 q 433 -358 433 -433 q 439 -325 433 -342 l 544 0 l 390 325 l 285 0 l 25 0 l 236 650 l 496 650 l 650 325 l 756 650 l 1017 650 l 806 0 q 799 -35 799 -18 q 900 -108 799 -108 l 1419 -108 l 1314 -433 m 776 789 q 675 722 751 722 q 641 728 656 722 q 613 742 626 735 q 585 756 599 750 q 556 763 571 763 q 522 752 539 763 q 489 715 506 742 l 440 757 q 487 813 461 796 q 544 829 513 829 q 585 824 569 829 q 615 810 601 818 q 640 797 628 803 q 671 792 653 792 q 733 839 711 792 l 776 789 z "},:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 m 506 840 l 600 840 l 676 706 l 624 706 l 506 840 z "},:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 m 558 708 l 506 708 l 582 843 l 676 843 l 558 708 z "},:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 m 590 811 l 522 721 l 436 721 l 549 854 l 631 854 l 746 721 l 658 721 l 590 811 z "},:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 m 760 789 q 658 722 735 722 q 624 728 639 722 q 596 742 610 735 q 568 756 582 750 q 539 763 554 763 q 506 752 522 763 q 472 715 489 742 l 424 757 q 470 813 444 796 q 528 829 496 829 q 569 824 553 829 q 598 810 585 818 q 624 797 611 803 q 654 792 636 792 q 717 839 694 792 l 760 789 z "},:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 m 524 736 q 478 755 496 736 q 461 800 461 774 q 478 846 461 828 q 524 864 496 864 q 569 846 550 864 q 588 800 588 828 q 569 755 588 774 q 524 736 550 736 m 715 736 q 672 755 690 736 q 653 800 653 774 q 672 846 653 828 q 715 864 690 864 q 760 846 743 864 q 778 800 778 828 q 760 755 778 774 q 715 736 743 736 z "},:{ha:769,x_min:86,x_max:917,o:"m 740 108 q 671 29 725 61 q 575 0 622 0 l 185 0 q 115 24 143 0 q 86 83 86 49 q 90 108 86 96 l 267 650 l 526 650 l 386 217 l 515 217 l 657 650 l 917 650 l 740 108 m 493 840 l 588 840 l 664 706 l 611 706 l 493 840 z "},:{ha:769,x_min:86,x_max:917,o:"m 740 108 q 671 29 725 61 q 575 0 622 0 l 185 0 q 115 24 143 0 q 86 83 86 49 q 90 108 86 96 l 267 650 l 526 650 l 386 217 l 515 217 l 657 650 l 917 650 l 740 108 m 546 708 l 493 708 l 569 843 l 664 843 l 546 708 z "},:{ha:769,x_min:86,x_max:917,o:"m 740 108 q 671 29 725 61 q 575 0 622 0 l 185 0 q 115 24 143 0 q 86 83 86 49 q 90 108 86 96 l 267 650 l 526 650 l 386 217 l 515 217 l 657 650 l 917 650 l 740 108 m 597 811 l 529 721 l 443 721 l 556 854 l 638 854 l 753 721 l 665 721 l 597 811 z "},:{ha:769,x_min:86,x_max:917,o:"m 740 108 q 671 29 725 61 q 575 0 622 0 l 185 0 q 115 24 143 0 q 86 83 86 49 q 90 108 86 96 l 267 650 l 526 650 l 386 217 l 515 217 l 657 650 l 917 650 l 740 108 m 524 736 q 478 755 496 736 q 461 800 461 774 q 478 846 461 828 q 524 864 496 864 q 569 846 550 864 q 588 800 588 828 q 569 755 588 774 q 524 736 550 736 m 715 736 q 672 755 690 736 q 653 800 653 774 q 672 846 653 828 q 715 864 690 864 q 760 846 743 864 q 778 800 778 828 q 760 755 778 774 q 715 736 743 736 z "},:{ha:729,x_min:-635,x_max:888,o:"m 888 650 l 376 -325 q 305 -403 351 -372 q 211 -433 258 -433 l -635 -433 l -529 -108 l -8 -108 q 103 -78 56 -108 q 157 0 150 -49 l 238 650 l 497 650 l 422 217 l 628 650 l 888 650 m 586 708 l 533 708 l 610 843 l 704 843 l 586 708 z "},:{ha:663,x_min:114,x_max:744,o:"m 603 0 l 468 0 l 483 36 q 378 0 417 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 744 433 l 603 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 m 440 624 l 535 624 l 611 489 l 558 489 l 440 624 z "},:{ha:663,x_min:114,x_max:744,o:"m 603 0 l 468 0 l 483 36 q 378 0 417 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 744 433 l 603 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 m 550 492 l 497 492 l 574 626 l 668 626 l 550 492 z "},:{ha:663,x_min:114,x_max:744,o:"m 603 0 l 468 0 l 483 36 q 378 0 417 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 744 433 l 603 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 m 554 594 l 486 504 l 400 504 l 513 638 l 594 638 l 710 504 l 622 504 l 554 594 z "},:{ha:663,x_min:114,x_max:744,o:"m 603 0 l 468 0 l 483 36 q 378 0 417 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 744 433 l 603 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 m 721 572 q 619 506 696 506 q 585 512 600 506 q 557 526 571 518 q 529 540 543 533 q 500 546 515 546 q 467 535 483 546 q 433 499 450 525 l 385 540 q 431 596 406 579 q 489 613 457 613 q 530 607 514 613 q 559 594 546 601 q 585 581 572 586 q 615 575 597 575 q 678 622 656 575 l 721 572 z "},:{ha:663,x_min:114,x_max:744,o:"m 603 0 l 468 0 l 483 36 q 378 0 417 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 744 433 l 603 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 m 458 519 q 413 538 431 519 q 396 583 396 557 q 413 629 396 611 q 458 647 431 647 q 503 629 485 647 q 522 583 522 611 q 503 538 522 557 q 458 519 485 519 m 650 519 q 606 538 625 519 q 588 583 588 557 q 606 629 588 611 q 650 647 625 647 q 695 629 678 647 q 713 583 713 611 q 695 538 713 557 q 650 519 678 519 z "},:{ha:663,x_min:114,x_max:744,o:"m 603 0 l 468 0 l 483 36 q 378 0 417 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 744 433 l 603 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 m 588 656 q 550 639 567 656 q 533 599 533 622 q 549 558 533 574 q 588 542 565 542 q 628 558 611 542 q 644 599 644 574 q 627 639 644 622 q 588 656 610 656 m 586 513 q 526 536 550 513 q 503 596 503 560 q 526 659 503 633 q 586 685 550 685 q 647 658 622 685 q 671 596 671 632 q 647 536 671 560 q 586 513 622 513 z "},:{ha:649,x_min:108,x_max:740,o:"m 599 0 l 208 0 q 108 76 108 0 q 114 108 108 92 l 185 325 q 251 401 199 368 q 350 433 304 433 l 740 433 l 704 325 l 444 325 l 410 217 l 669 217 l 599 0 m 322 10 l 322 -40 q 392 -103 392 -40 q 371 -160 392 -143 q 306 -176 350 -176 q 277 -174 290 -176 q 257 -168 264 -171 l 271 -121 q 304 -126 282 -126 q 343 -107 343 -126 q 337 -92 343 -96 q 314 -87 331 -87 l 297 -87 q 290 -88 294 -87 q 278 -90 285 -89 l 278 10 l 322 10 z "},:{ha:665,x_min:113,x_max:743,o:"m 601 0 l 213 0 q 144 21 172 0 q 113 81 113 44 q 117 108 113 94 l 188 325 q 252 400 201 367 q 353 433 303 433 l 663 433 q 743 383 743 433 q 706 325 743 350 l 542 217 l 672 217 l 601 0 m 578 325 l 447 325 l 413 217 l 578 325 m 442 624 l 536 624 l 613 489 l 560 489 l 442 624 z "},:{ha:665,x_min:113,x_max:743,o:"m 601 0 l 213 0 q 144 21 172 0 q 113 81 113 44 q 117 108 113 94 l 188 325 q 252 400 201 367 q 353 433 303 433 l 663 433 q 743 383 743 433 q 706 325 743 350 l 542 217 l 672 217 l 601 0 m 578 325 l 447 325 l 413 217 l 578 325 m 494 492 l 442 492 l 518 626 l 613 626 l 494 492 z "},:{ha:665,x_min:113,x_max:743,o:"m 601 0 l 213 0 q 144 21 172 0 q 113 81 113 44 q 117 108 113 94 l 188 325 q 252 400 201 367 q 353 433 303 433 l 663 433 q 743 383 743 433 q 706 325 743 350 l 542 217 l 672 217 l 601 0 m 578 325 l 447 325 l 413 217 l 578 325 m 526 594 l 458 504 l 372 504 l 485 638 l 567 638 l 682 504 l 594 504 l 526 594 z "},:{ha:665,x_min:113,x_max:743,o:"m 601 0 l 213 0 q 144 21 172 0 q 113 81 113 44 q 117 108 113 94 l 188 325 q 252 400 201 367 q 353 433 303 433 l 663 433 q 743 383 743 433 q 706 325 743 350 l 542 217 l 672 217 l 601 0 m 578 325 l 447 325 l 413 217 l 578 325 m 431 519 q 385 538 403 519 q 368 583 368 557 q 385 629 368 611 q 431 647 403 647 q 476 629 457 647 q 494 583 494 611 q 476 538 494 557 q 431 519 457 519 m 622 519 q 578 538 597 519 q 560 583 560 557 q 578 629 560 611 q 622 647 597 647 q 667 629 650 647 q 685 583 685 611 q 667 538 685 557 q 622 519 650 519 z "},:{ha:400,x_min:86,x_max:488,o:"m 347 0 l 86 0 l 228 433 l 488 433 l 347 0 m 308 624 l 403 624 l 479 489 l 426 489 l 308 624 z "},:{ha:400,x_min:86,x_max:488,o:"m 347 0 l 86 0 l 228 433 l 488 433 l 347 0 m 361 492 l 308 492 l 385 626 l 479 626 l 361 492 z "},:{ha:400,x_min:86,x_max:549,o:"m 347 0 l 86 0 l 228 433 l 488 433 l 347 0 m 393 594 l 325 504 l 239 504 l 351 638 l 433 638 l 549 504 l 461 504 l 393 594 z "},:{ha:400,x_min:86,x_max:554,o:"m 347 0 l 86 0 l 228 433 l 488 433 l 347 0 m 300 519 q 255 538 272 519 q 238 583 238 557 q 255 629 238 611 q 300 647 272 647 q 345 629 326 647 q 364 583 364 611 q 345 538 364 557 q 300 519 326 519 m 492 519 q 448 538 467 519 q 429 583 429 557 q 448 629 429 611 q 492 647 467 647 q 537 629 519 647 q 554 583 554 611 q 537 538 554 557 q 492 519 519 519 z "},:{ha:660,x_min:85,x_max:714,o:"m 604 0 l 475 0 l 581 325 l 450 325 l 344 0 l 85 0 l 225 433 l 615 433 q 685 410 657 433 q 714 350 714 386 q 710 325 714 338 l 604 0 m 692 572 q 590 506 667 506 q 556 512 571 506 q 528 526 542 518 q 500 540 514 533 q 471 546 486 546 q 438 535 454 546 q 404 499 421 525 l 356 540 q 402 596 376 579 q 460 613 428 613 q 501 607 485 613 q 530 594 517 601 q 556 581 543 586 q 586 575 568 575 q 649 622 626 575 l 692 572 z "},:{ha:653,x_min:111,x_max:710,o:"m 635 108 q 572 33 621 65 q 469 0 524 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 610 433 q 681 411 653 433 q 710 354 710 389 q 706 325 710 340 l 635 108 m 410 217 l 446 325 l 315 325 l 281 217 l 410 217 m 435 624 l 529 624 l 606 489 l 553 489 l 435 624 z "},:{ha:653,x_min:111,x_max:710,o:"m 635 108 q 572 33 621 65 q 469 0 524 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 610 433 q 681 411 653 433 q 710 354 710 389 q 706 325 710 340 l 635 108 m 410 217 l 446 325 l 315 325 l 281 217 l 410 217 m 488 492 l 435 492 l 511 626 l 606 626 l 488 492 z "},:{ha:653,x_min:111,x_max:710,o:"m 635 108 q 572 33 621 65 q 469 0 524 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 610 433 q 681 411 653 433 q 710 354 710 389 q 706 325 710 340 l 635 108 m 410 217 l 446 325 l 315 325 l 281 217 l 410 217 m 519 594 l 451 504 l 365 504 l 478 638 l 560 638 l 675 504 l 588 504 l 519 594 z "},:{ha:653,x_min:111,x_max:710,o:"m 635 108 q 572 33 621 65 q 469 0 524 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 610 433 q 681 411 653 433 q 710 354 710 389 q 706 325 710 340 l 635 108 m 410 217 l 446 325 l 315 325 l 281 217 l 410 217 m 689 572 q 588 506 664 506 q 553 512 568 506 q 525 526 539 518 q 497 540 511 533 q 468 546 483 546 q 435 535 451 546 q 401 499 418 525 l 353 540 q 399 596 374 579 q 457 613 425 613 q 498 607 482 613 q 527 594 514 601 q 553 581 540 586 q 583 575 565 575 q 646 622 624 575 l 689 572 z "},:{ha:653,x_min:111,x_max:710,o:"m 635 108 q 572 33 621 65 q 469 0 524 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 610 433 q 681 411 653 433 q 710 354 710 389 q 706 325 710 340 l 635 108 m 410 217 l 446 325 l 315 325 l 281 217 l 410 217 m 425 519 q 380 538 397 519 q 363 583 363 557 q 380 629 363 611 q 425 647 397 647 q 470 629 451 647 q 489 583 489 611 q 470 538 489 557 q 425 519 451 519 m 617 519 q 573 538 592 519 q 554 583 554 557 q 573 629 554 611 q 617 647 592 647 q 662 629 644 647 q 679 583 679 611 q 662 538 679 557 q 617 519 644 519 z "},:{ha:663,x_min:115,x_max:744,o:"m 639 108 q 582 35 625 65 q 474 0 535 0 l 214 0 q 142 24 168 0 q 115 82 115 47 q 119 108 115 94 l 225 433 l 485 433 l 414 217 l 544 217 l 615 433 l 744 433 l 639 108 m 419 624 l 514 624 l 590 489 l 538 489 l 419 624 z "},:{ha:663,x_min:115,x_max:744,o:"m 639 108 q 582 35 625 65 q 474 0 535 0 l 214 0 q 142 24 168 0 q 115 82 115 47 q 119 108 115 94 l 225 433 l 485 433 l 414 217 l 544 217 l 615 433 l 744 433 l 639 108 m 560 492 l 507 492 l 583 626 l 678 626 l 560 492 z "},:{ha:663,x_min:115,x_max:744,o:"m 639 108 q 582 35 625 65 q 474 0 535 0 l 214 0 q 142 24 168 0 q 115 82 115 47 q 119 108 115 94 l 225 433 l 485 433 l 414 217 l 544 217 l 615 433 l 744 433 l 639 108 m 525 594 l 457 504 l 371 504 l 483 638 l 565 638 l 681 504 l 593 504 l 525 594 z "},:{ha:663,x_min:115,x_max:744,o:"m 639 108 q 582 35 625 65 q 474 0 535 0 l 214 0 q 142 24 168 0 q 115 82 115 47 q 119 108 115 94 l 225 433 l 485 433 l 414 217 l 544 217 l 615 433 l 744 433 l 639 108 m 429 519 q 384 538 401 519 q 367 583 367 557 q 384 629 367 611 q 429 647 401 647 q 474 629 456 647 q 493 583 493 611 q 474 538 493 557 q 429 519 456 519 m 621 519 q 577 538 596 519 q 558 583 558 557 q 577 629 558 611 q 621 647 596 647 q 666 629 649 647 q 683 583 683 611 q 666 538 683 557 q 621 519 649 519 z "},:{ha:625,x_min:-485,x_max:707,o:"m 461 -325 q 392 -407 443 -376 q 296 -433 346 -433 l -485 -433 l -379 -108 l 140 -108 q 251 -74 206 -108 q 306 0 289 -43 l 176 0 q 76 78 76 0 q 82 108 76 92 l 188 433 l 317 433 l 246 217 l 376 217 l 447 433 l 707 433 l 461 -325 m 474 492 l 421 492 l 497 626 l 592 626 l 474 492 z "},:{ha:625,x_min:-485,x_max:707,o:"m 461 -325 q 392 -407 443 -376 q 296 -433 346 -433 l -485 -433 l -379 -108 l 140 -108 q 251 -74 206 -108 q 306 0 289 -43 l 176 0 q 76 78 76 0 q 82 108 76 92 l 188 433 l 317 433 l 246 217 l 376 217 l 447 433 l 707 433 l 461 -325 m 411 519 q 366 538 383 519 q 349 583 349 557 q 366 629 349 611 q 411 647 383 647 q 456 629 438 647 q 475 583 475 611 q 456 538 475 557 q 411 519 438 519 m 603 519 q 559 538 578 519 q 540 583 540 557 q 559 629 540 611 q 603 647 578 647 q 648 629 631 647 q 665 583 665 611 q 648 538 665 557 q 603 519 631 519 z "},:{ha:794,x_min:113,x_max:914,o:"m 767 108 q 694 29 751 64 q 601 0 643 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 324 617 271 583 q 422 650 376 650 l 813 650 q 914 579 914 650 q 907 542 914 563 l 767 108 m 435 286 l 631 542 l 518 542 l 435 286 m 542 217 l 611 431 l 444 217 l 542 217 z "},:{ha:653,x_min:111,x_max:710,o:"m 635 108 q 572 33 621 65 q 469 0 524 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 610 433 q 681 411 653 433 q 710 354 710 389 q 706 325 710 340 l 635 108 m 286 235 l 422 325 l 315 325 l 286 235 m 413 206 l 447 299 l 310 206 l 413 206 z "},:{ha:1089,x_min:114,x_max:1139,o:"m 997 0 l 486 0 l 511 61 q 358 0 435 0 l 213 0 q 149 19 179 0 q 114 79 114 42 q 118 108 114 93 l 189 325 q 251 399 201 364 q 354 433 300 433 l 1058 433 q 1139 383 1139 433 q 1101 325 1139 350 l 938 217 l 1068 217 l 997 0 m 543 217 l 579 325 l 449 325 l 414 217 l 543 217 m 974 325 l 843 325 l 808 217 l 974 325 z "},:{ha:1161,x_min:24,x_max:1283,o:"m 1072 0 l 553 0 q 482 25 510 0 q 454 85 454 50 q 457 108 454 96 l 524 314 l 519 325 l 389 325 l 283 0 l 24 0 l 200 542 q 272 624 215 592 q 364 650 319 650 l 1283 650 l 1249 542 l 858 542 l 824 433 l 1083 433 l 1047 325 l 788 325 l 753 217 l 1143 217 l 1072 0 m 554 433 l 589 542 l 460 542 l 424 433 l 554 433 z "},:{ha:1165,x_min:113,x_max:1343,o:"m 1132 0 l 211 0 q 139 25 165 0 q 113 83 113 50 q 117 108 113 96 l 257 542 q 283 582 264 563 q 325 617 301 601 q 374 641 349 632 q 422 650 400 650 l 1343 650 l 1308 542 l 918 542 l 883 433 l 1143 433 l 1107 325 l 847 325 l 813 217 l 1203 217 l 1132 0 m 542 217 l 647 542 l 518 542 l 413 217 l 542 217 z "},:{ha:960,x_min:111,x_max:1011,o:"m 869 0 l 210 0 q 142 26 172 0 q 111 88 111 53 q 115 108 111 99 l 185 325 q 251 401 200 369 q 350 433 301 433 l 931 433 q 1011 383 1011 433 q 974 325 1011 350 l 810 217 l 940 217 l 869 0 m 410 217 l 446 325 l 315 325 l 281 217 l 410 217 m 846 325 l 715 325 l 681 217 l 846 325 z "},"[":{ha:671,x_min:-64,x_max:753,o:"m 506 -325 q 441 -403 490 -372 q 340 -433 392 -433 l -64 -433 l 42 -108 l 186 -108 q 324 -50 274 -108 q 351 0 343 -26 l 222 0 q 151 26 179 0 q 124 86 124 51 q 126 108 124 97 l 197 325 q 251 396 210 364 q 363 433 301 433 l 753 433 l 506 -325 m 422 217 l 457 325 l 328 325 l 292 217 l 422 217 z "},"\\":{ha:665,x_min:-42,x_max:722,o:"m 647 108 q 583 34 633 68 q 482 0 533 0 l 351 0 l 208 -436 l -42 -436 l 232 433 l 622 433 q 722 354 722 433 q 717 325 722 340 l 647 108 m 553 217 l 588 325 l 457 325 l 422 217 l 553 217 z "},"]":{ha:563,x_min:67,x_max:696,o:"m 425 -433 l 283 -433 q 185 -354 185 -433 q 189 -325 185 -339 l 294 0 l 165 0 q 93 26 119 0 q 67 85 67 51 q 69 108 67 97 l 140 325 q 206 399 153 364 q 306 433 258 433 l 696 433 l 425 -433 m 365 217 l 400 325 l 271 325 l 235 217 l 365 217 z "},"^":{ha:751,x_min:-62,x_max:756,o:"m 610 -325 q 542 -401 594 -369 q 444 -433 490 -433 l -62 -433 l 44 -108 l 290 -108 q 454 0 414 -108 q 467 51 467 32 q 360 108 467 108 l 231 108 q 131 186 131 108 q 135 217 131 201 l 171 325 q 236 401 185 368 q 336 433 288 433 l 596 433 l 560 325 l 431 325 l 396 217 l 656 217 q 756 142 756 217 q 750 108 756 126 l 610 -325 z "},"{":{ha:400,x_min:-221,x_max:554,o:"m 519 542 l 260 542 l 294 650 l 554 650 l 519 542 m 238 -325 q 172 -403 222 -372 q 72 -433 122 -433 l -221 -433 l -115 -108 l -82 -108 q 83 0 49 -108 l 224 433 l 485 433 l 238 -325 z "},"|":{ha:625,x_min:-68,x_max:707,o:"m 461 -325 q 392 -407 443 -376 q 296 -433 346 -433 l -68 -433 l 38 -108 l 140 -108 q 251 -74 206 -108 q 306 0 289 -43 l 176 0 q 76 78 76 0 q 82 108 76 92 l 188 433 l 317 433 l 246 217 l 376 217 l 447 433 l 707 433 l 461 -325 z "},"}":{ha:1964,x_min:201,x_max:1993,o:"m 201 407 l 203 407 l 203 472 l 296 472 l 296 511 l 271 511 l 271 633 l 296 633 l 296 676 l 271 676 l 271 728 l 881 728 l 881 664 q 847 682 871 682 q 783 575 783 682 q 850 469 783 469 q 893 496 871 469 l 893 472 l 926 472 l 926 728 l 1446 728 l 1446 692 l 1493 692 l 1493 728 l 1993 728 l 1993 0 l 201 0 l 201 407 m 1418 472 l 1418 603 q 1353 678 1418 678 q 1310 644 1319 678 q 1271 678 1297 678 q 1233 644 1247 678 l 1233 676 l 1189 676 l 1189 511 l 1163 511 l 1163 472 l 1260 472 l 1260 511 l 1233 511 l 1233 596 q 1260 628 1233 628 q 1281 596 1281 628 l 1281 472 l 1351 472 l 1351 511 l 1325 511 l 1325 596 q 1351 626 1325 626 q 1372 596 1372 626 l 1372 472 l 1418 472 m 1485 371 l 1407 371 l 1407 108 l 1451 108 l 1451 278 l 1456 278 l 1468 108 l 1549 108 l 1549 371 l 1504 371 l 1504 201 l 1500 201 l 1485 371 m 782 371 l 782 108 l 892 108 l 907 138 l 907 224 l 896 243 l 896 247 l 907 267 l 907 343 l 892 371 l 782 371 m 1263 343 l 1263 138 l 1276 108 l 1369 108 l 1386 138 l 1386 343 l 1371 371 l 1276 371 l 1263 343 m 492 371 l 492 108 l 544 108 l 544 224 l 560 224 l 560 108 l 617 108 l 617 214 l 596 243 l 596 247 l 617 275 l 617 343 l 601 371 l 492 371 m 471 407 l 517 407 l 517 485 q 550 468 526 468 q 614 574 614 468 q 547 679 614 679 q 504 651 528 679 l 504 676 l 471 676 l 471 407 m 775 572 q 699 681 775 681 q 624 572 624 681 q 699 467 624 467 q 775 572 775 467 m 1760 290 l 1813 290 l 1813 343 l 1799 371 l 1707 371 l 1692 343 l 1692 251 l 1708 224 l 1760 211 l 1760 158 l 1746 158 l 1746 197 l 1692 197 l 1692 138 l 1707 108 l 1797 108 l 1813 138 l 1813 238 l 1794 267 l 1746 278 l 1746 324 l 1760 324 l 1760 290 m 471 108 l 471 204 l 435 371 l 378 371 l 346 204 l 346 108 l 397 108 l 397 158 l 415 158 l 415 108 l 471 108 m 760 108 l 760 204 l 726 371 l 669 371 l 638 204 l 638 108 l 690 108 l 690 158 l 707 158 l 707 108 l 760 108 m 350 407 l 379 407 q 456 506 456 415 l 456 676 l 410 676 l 410 550 q 382 514 410 514 q 356 550 356 514 l 356 676 l 311 676 l 311 558 q 375 469 311 469 q 410 481 394 469 q 371 449 410 449 l 350 449 l 350 407 m 1057 221 l 1093 221 l 1093 267 l 1057 267 l 1057 315 l 1093 315 l 1093 371 l 1004 371 l 1004 108 l 1093 108 l 1093 167 l 1057 167 l 1057 221 m 1207 217 l 1240 217 l 1240 263 l 1207 263 l 1207 315 l 1240 315 l 1240 371 l 1153 371 l 1153 108 l 1207 108 l 1207 217 m 1593 315 l 1593 108 l 1647 108 l 1647 315 l 1676 315 l 1676 371 l 1564 371 l 1564 315 l 1593 315 m 1067 676 l 1046 676 l 1046 644 q 1000 681 1031 681 q 940 621 940 681 q 971 571 940 583 q 939 525 939 558 q 1001 467 940 467 q 1049 485 1032 467 q 1067 540 1067 503 l 1046 540 q 1011 514 1042 514 q 983 533 983 514 q 1011 558 983 558 l 1025 558 l 1025 583 l 1011 583 q 983 607 983 583 q 1011 629 983 629 q 1046 601 1035 629 l 1067 601 l 1067 676 m 1638 674 l 1615 674 l 1615 644 q 1574 681 1599 681 q 1504 572 1504 681 q 1575 468 1504 468 q 1638 549 1625 468 l 1615 549 q 1581 517 1611 517 q 1549 572 1549 517 q 1581 629 1549 629 q 1615 592 1613 629 l 1638 592 l 1638 674 m 325 167 l 294 167 l 294 371 l 242 371 l 242 108 l 325 108 l 325 167 m 983 108 l 983 371 l 929 371 l 929 108 l 983 108 m 1143 511 l 1124 511 l 1124 601 q 1143 629 1124 629 q 1160 621 1151 629 l 1175 667 q 1151 678 1164 676 q 1108 644 1122 678 l 1108 676 l 1082 676 l 1082 472 l 1143 472 l 1143 511 m 1425 676 l 1425 633 l 1446 633 l 1446 472 l 1493 472 l 1493 676 l 1425 676 m 513 607 q 542 628 521 628 q 571 575 571 628 q 540 515 571 515 q 513 538 521 515 l 513 607 m 729 572 q 699 517 729 517 q 669 572 669 517 q 699 629 669 629 q 729 572 729 629 m 883 540 q 856 521 875 521 q 826 574 826 521 q 857 633 826 633 q 883 611 875 633 l 883 540 m 203 511 l 203 633 l 229 633 l 229 511 l 203 511 m 1315 158 l 1315 324 l 1331 324 l 1331 158 l 1315 158 m 203 676 l 203 728 l 229 728 l 229 676 l 203 676 m 397 197 l 397 224 l 406 293 l 408 293 l 415 224 l 415 197 l 397 197 m 690 197 l 690 224 l 697 293 l 701 293 l 707 224 l 707 197 l 690 197 m 836 224 l 851 224 l 851 158 l 836 158 l 836 224 m 836 267 l 836 324 l 851 324 l 851 267 l 836 267 m 544 267 l 544 324 l 560 324 l 560 267 l 544 267 z "}," ":{ha:329,x_min:0,x_max:0,o:""}},l$="Husky Stash",u$=901,c$=-436,f$=-185,d$=28,h$={yMin:-436,xMin:-707,yMax:901,xMax:1993},p$=1e3,m$={format:0,copyright:" 1998 Ray Larabie. This font is freeware. Read attached text file for details. Info & updates visit www.larabiefonts.com. Donations gratefully accepted at www.larabiefonts.com/donation.html. Also visit my commercial type foundry at www.typodermic.com. This font was updated in 2004.",fontFamily:"Husky Stash",fontSubfamily:"Regular",uniqueID:"RayLarabie: Husky Stash: 1998",fullName:"Husky Stash",version:"Version 2.000 2004",postScriptName:"HuskyStash",manufacturer:"Ray Larabie",designer:"Ray Larabie",description:"Larabie Fonts is able to offer unique free fonts through the generous support of visitors to the site. Making fonts is my full-time job and every donation, in any amount, enables me to continue running the site and creating new fonts. If you would like to support Larabie Fonts visit www.larabiefonts.com for details.",manufacturerURL:"http://www.larabiefonts.com",designerURL:"http://www.typodermic.com"},g$="normal",v$="normal",jA={glyphs:a$,familyName:l$,ascender:u$,descender:c$,underlinePosition:f$,underlineThickness:d$,boundingBox:h$,resolution:p$,original_font_information:m$,cssFontWeight:g$,cssFontStyle:v$},y$="/3d-geometric-sim/assets/green-35fd2939.png",Y7=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,1,1,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,1,1,0,0,1,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,0,0,0,0,0],[0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Bs=b.createContext(),x$=({children:t})=>{const[e]=b.useState(new A1().load(y$)),[n,r]=b.useState({button:"",speedModifier:0}),[i,s]=b.useState({isRunning:!1,configuration:Y7,wrap:!0,interact:!0,interval:500,title:!0,username:window.localStorage.getItem("MTYD_APP"),physics:!1,boardStyle:"threeDimensional",floating3DText:!0,sizeModifier:0,emissive:"hotpink",cellColor:"rgb(250, 162, 55)",edgeColor:"grey",background:"rgba(22, 19, 15, 0.89)",boxShadow:"rgba(187, 100, 1, 0.959)",bloomIntensity:2});return H(Bs.Provider,{value:{controls:n,setControls:r,texture:e,gameParameters:i,setGameParameters:s},children:t})};function _$(){const{texture:t,gameParameters:{configuration:e,floating3DText:n}}=b.useContext(Bs),r=e.length-1;function i({texture:s}){const[o]=G7(s,256);return H("meshMatcapMaterial",{matcap:o})}return Be(Xr,{children:[Be("mesh",{position:[r/2,-1,r/2],children:[H("meshMatcapMaterial",{opacity:1,depthTest:!0,depthWrite:!0,alphaTest:0,color:"white",matcap:t}),H("boxGeometry",{args:[r+3,1,r+3]})]}),Be("mesh",{position:[r/2,-.2,-1],children:[H("meshMatcapMaterial",{opacity:1,depthTest:!0,depthWrite:!0,alphaTest:0,color:"white",matcap:t}),H("boxGeometry",{args:[r+1,.6,1]})]}),Be("mesh",{position:[r/2,-.2,r+1],children:[H("meshMatcapMaterial",{opacity:1,depthTest:!0,depthWrite:!0,alphaTest:0,color:"white",matcap:t}),H("boxGeometry",{args:[r+1,.6,1]})]}),Be("mesh",{position:[r+1,-.2,r/2],children:[H("meshMatcapMaterial",{opacity:1,depthTest:!0,depthWrite:!0,alphaTest:0,color:"white",matcap:t}),H("boxGeometry",{args:[1,.6,r+3]})]}),Be("mesh",{position:[-1,-.2,r/2],children:[H("meshMatcapMaterial",{opacity:1,depthTest:!0,depthWrite:!0,alphaTest:0,color:"white",matcap:t}),H("boxGeometry",{args:[1,.6,r+3]})]}),n&&H("mesh",{position:[2,5,-5],children:H(U7,{speed:2.4,rotationIntensity:2,floatIntensity:2,floatingRange:[0,1],children:Be(GA,{font:jA,height:.5,letterSpacing:-.06,size:2.8,curveSegments:10,bevelEnabled:!0,bevelThickness:.02,bevelOffset:0,bevelSegments:5,children:["AUTOMATRIX",H(i,{texture:"422509_C89536_824512_0A0604"})]})})})]})}/**
 * postprocessing v6.29.3 build Sun Jan 01 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var w$=`#include <packing>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
uniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));
#if __VERSION__ < 300
float l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#else
float l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#endif
l0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}`,P1="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",E$=class extends ar{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{THREE_REVISION:Du.replace(/\D+/g,""),MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new Ge(null),luminanceBuffer1:new Ge(null),minLuminance:new Ge(.01),deltaTime:new Ge(0),tau:new Ge(1)},extensions:{shaderTextureLOD:!0},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:w$,vertexShader:P1}),this.toneMapped=!1}set luminanceBuffer0(t){this.uniforms.luminanceBuffer0.value=t}setLuminanceBuffer0(t){this.uniforms.luminanceBuffer0.value=t}set luminanceBuffer1(t){this.uniforms.luminanceBuffer1.value=t}setLuminanceBuffer1(t){this.uniforms.luminanceBuffer1.value=t}set mipLevel1x1(t){this.defines.MIP_LEVEL_1X1=t.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(t){this.mipLevel1x1=t}set deltaTime(t){this.uniforms.deltaTime.value=t}setDeltaTime(t){this.uniforms.deltaTime.value=t}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(t){this.uniforms.minLuminance.value=t}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(t){this.uniforms.minLuminance.value=t}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(t){this.uniforms.tau.value=t}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(t){this.uniforms.tau.value=t}},Pt={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},vE={DEFAULT:0,KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},Db={DEPTH:0,LUMA:1,COLOR:2},za={NONE:0,DEPTH:1,CONVOLUTION:2},Tn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},Cc={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3},hf={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},S$={DISABLED:0,DEPTH:1,CUSTOM:2},Gp={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},Jl={REINHARD:0,REINHARD2:1,REINHARD2_ADAPTIVE:2,OPTIMIZED_CINEON:3,ACES_FILMIC:4},Ex={DEFAULT:0,ESKIL:1},A$=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,M$="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",b$=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Q7=class extends ar{constructor(t=new En){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Ge(null),texelSize:new Ge(new En),scale:new Ge(1),kernel:new Ge(0)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:A$,vertexShader:M$}),this.toneMapped=!1,this.setTexelSize(t.x,t.y),this.kernelSize=hf.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return b$[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},T$=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
#include <dithering_fragment>
}`,X7=class extends ar{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Ge(null),opacity:new Ge(1)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:T$,vertexShader:P1}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},C$=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,P$="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",R$=class extends ar{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Ge(null),normalBuffer:new Ge(null),texelSize:new Ge(new xe)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:C$,vertexShader:P$}),this.toneMapped=!1}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=bo){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},D$=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,I$=class extends ar{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:vE.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new Ge(null),depthBuffer0:new Ge(null),depthBuffer1:new Ge(null),cameraNearFar:new Ge(new xe(1,1))},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:D$,vertexShader:P1}),this.toneMapped=!1,this.depthMode=Q_}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,e=bo){this.depthBuffer0=t,this.depthPacking0=e}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,e=bo){this.depthBuffer1=t,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?vE.KEEP_MAX_DEPTH:vE.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let e;switch(t){case FM:e="false";break;case UM:e="true";break;case HM:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case GM:e="abs(d1 - d0) > DEPTH_EPSILON";break;case Q_:e="d0 > d1";break;case Av:e="d0 >= d1";break;case qM:e="d0 <= d1";break;case VM:default:e="d0 < d1";break}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof Zn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},O$=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <encodings_fragment>
}`,L$="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",k$=class extends ar{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Ge(null),texelSize:new Ge(new xe)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:O$,vertexShader:L$}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},N$=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,z$=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,B$=class extends ar{constructor(t=new xe,e=Db.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:Du.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new Ge(null),depthBuffer:new Ge(null),predicationBuffer:new Ge(null),texelSize:new Ge(t)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:N$,vertexShader:z$}),this.toneMapped=!1,this.edgeDetectionMode=e}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=bo){this.depthBuffer=t,this.depthPacking=e}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(t){this.defines.EDGE_DETECTION_MODE=t.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(t){this.edgeDetectionMode=t}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(t){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=t.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(t){this.localContrastAdaptationFactor=t}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(t){this.defines.EDGE_THRESHOLD=t.toFixed("6"),this.defines.DEPTH_THRESHOLD=(t*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(t){this.edgeDetectionThreshold=t}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(t){this.defines.PREDICATION_MODE=t.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(t){this.predicationMode=t}set predicationBuffer(t){this.uniforms.predicationBuffer.value=t}setPredicationBuffer(t){this.uniforms.predicationBuffer.value=t}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(t){this.defines.PREDICATION_THRESHOLD=t.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(t){this.predicationThreshold=t}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(t){this.defines.PREDICATION_SCALE=t.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(t){this.predicationScale=t}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(t){this.defines.PREDICATION_STRENGTH=t.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(t){this.predicationStrength=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},F$=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,U$="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",H$=class extends ar{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Du.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Ge(null),depthBuffer:new Ge(null),resolution:new Ge(new xe),texelSize:new Ge(new xe),cameraNear:new Ge(.3),cameraFar:new Ge(1e3),aspect:new Ge(1),time:new Ge(0)},blending:qr,depthWrite:!1,depthTest:!1,dithering:i}),this.toneMapped=!1,t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=bo){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){var e,n,r,i,s;return this.fragmentShader=F$.replace(Tn.FRAGMENT_HEAD,(e=t.get(Tn.FRAGMENT_HEAD))!=null?e:"").replace(Tn.FRAGMENT_MAIN_UV,(n=t.get(Tn.FRAGMENT_MAIN_UV))!=null?n:"").replace(Tn.FRAGMENT_MAIN_IMAGE,(r=t.get(Tn.FRAGMENT_MAIN_IMAGE))!=null?r:""),this.vertexShader=U$.replace(Tn.VERTEX_HEAD,(i=t.get(Tn.VERTEX_HEAD))!=null?i:"").replace(Tn.VERTEX_MAIN_SUPPORT,(s=t.get(Tn.VERTEX_MAIN_SUPPORT))!=null?s:""),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Zn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return Tn}},q$=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);
#include <dithering_fragment>
}`,V$=class extends ar{constructor(t){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new Ge(null),lightPosition:new Ge(t),density:new Ge(1),decay:new Ge(1),weight:new Ge(1),exposure:new Ge(1),clampMax:new Ge(1)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:q$,vertexShader:P1}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(t){this.uniforms.lightPosition.value=t}get density(){return this.uniforms.density.value}set density(t){this.uniforms.density.value=t}getDensity(){return this.uniforms.density.value}setDensity(t){this.uniforms.density.value=t}get decay(){return this.uniforms.decay.value}set decay(t){this.uniforms.decay.value=t}getDecay(){return this.uniforms.decay.value}setDecay(t){this.uniforms.decay.value=t}get weight(){return this.uniforms.weight.value}set weight(t){this.uniforms.weight.value=t}getWeight(){return this.uniforms.weight.value}setWeight(t){this.uniforms.weight.value=t}get exposure(){return this.uniforms.exposure.value}set exposure(t){this.uniforms.exposure.value=t}getExposure(){return this.uniforms.exposure.value}setExposure(t){this.uniforms.exposure.value=t}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(t){this.uniforms.clampMax.value=t}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(t){this.uniforms.clampMax.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){const e=Math.floor(t);this.defines.SAMPLES_INT=e.toFixed(0),this.defines.SAMPLES_FLOAT=e.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}},G$=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,W$=class extends ar{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Du.replace(/\D+/g,"")},uniforms:{inputBuffer:new Ge(null),threshold:new Ge(0),smoothing:new Ge(1),range:new Ge(null)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:G$,vertexShader:P1}),this.toneMapped=!1,this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},j$=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,Y$="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",Q$=class extends ar{constructor(t=new xe,e=new xe){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new Ge(null),searchTexture:new Ge(null),areaTexture:new Ge(null),resolution:new Ge(e),texelSize:new Ge(t)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:j$,vertexShader:Y$}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(t){this.uniforms.searchTexture.value=t}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(t){this.uniforms.areaTexture.value=t}setLookupTextures(t,e){this.searchTexture=t,this.areaTexture=e}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(t){const e=Math.min(Math.max(t,0),112);this.defines.MAX_SEARCH_STEPS_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=e.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(t){this.orthogonalSearchSteps=t}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(t){const e=Math.min(Math.max(t,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=e.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(t){this.diagonalSearchSteps=t}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(t){t?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(t){this.diagonalDetection=t}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(t){const e=Math.min(Math.max(t,0),100);this.defines.CORNER_ROUNDING=e.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(e/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(t){this.cornerRounding=t}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(t){t?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(t){this.cornerDetection=t}setSize(t,e){const n=this.uniforms;n.texelSize.value.set(1/t,1/e),n.resolution.value.set(t,e)}},X$=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,K$="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",$$=class extends Q7{constructor({kernelSize:t=hf.MEDIUM,offset:e=0,rotation:n=0,focusArea:r=.4,feather:i=.3}={}){super(),this.fragmentShader=X$,this.vertexShader=K$,this.kernelSize=t,this.uniforms.aspect=new Ge(1),this.uniforms.rotation=new Ge(new xe),this.uniforms.maskParams=new Ge(new En),this._offset=e,this._focusArea=r,this._feather=i,this.rotation=n,this.updateParams()}updateParams(){const t=this.uniforms.maskParams.value,e=Math.max(this.focusArea,0),n=Math.max(e-this.feather,0);t.set(this.offset-e,this.offset-n,this.offset+e,this.offset+n)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(t){this.uniforms.rotation.value.set(Math.cos(t),Math.sin(t))}get offset(){return this._offset}set offset(t){this._offset=t,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(t){this._focusArea=t,this.updateParams()}get feather(){return this._feather}set feather(t){this._feather=t,this.updateParams()}setSize(t,e){super.setSize(t,e),this.uniforms.aspect.value=t/e}},Z$=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <encodings_fragment>
}`,J$="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",eZ=class extends ar{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Ge(null),supportBuffer:new Ge(null),texelSize:new Ge(new xe),radius:new Ge(.85)},blending:qr,depthWrite:!1,depthTest:!1,fragmentShader:Z$,vertexShader:J$}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},tZ=new Km,gc=null;function nZ(){if(gc===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);gc=new Jt,gc.setAttribute!==void 0?(gc.setAttribute("position",new An(t,3)),gc.setAttribute("uv",new An(e,2))):(gc.addAttribute("position",new An(t,3)),gc.addAttribute("uv",new An(e,2)))}return gc}var Fs=class{constructor(t="Pass",e=new Dm,n=tZ){this.name=t,this.renderer=null,this.scene=e,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){const e=this.fullscreenMaterial;e!==null&&(e.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(t){let e=this.screen;e!==null?e.material=t:(e=new di(nZ(),t),e.frustumCulled=!1,this.scene===null&&(this.scene=new Dm),this.scene.add(e),this.screen=e)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,e=bo){}render(t,e,n,r,i){throw new Error("Render method not implemented!")}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Dn||e instanceof gi||e instanceof Xn||e instanceof Fs)&&this[t].dispose()}}},K7=class extends Fs{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new X7,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Dn(1,1,{minFilter:zn,magFilter:zn,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==Li?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":t.outputEncoding===Rt&&(this.renderTarget.texture.encoding=Rt))}},rZ=class extends Fs{constructor(t,{minLuminance:e=.01,adaptationRate:n=1}={}){super("AdaptiveLuminancePass"),this.fullscreenMaterial=new E$,this.needsSwap=!1,this.renderTargetPrevious=new Dn(1,1,{minFilter:Rn,magFilter:Rn,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";const r=this.fullscreenMaterial;r.luminanceBuffer0=this.renderTargetPrevious.texture,r.luminanceBuffer1=t,r.minLuminance=e,r.adaptationRate=n,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new K7(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(t){this.fullscreenMaterial.mipLevel1x1=t}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(t){this.fullscreenMaterial.adaptationRate=t}render(t,e,n,r,i){this.fullscreenMaterial.deltaTime=r,t.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),t.render(this.scene,this.camera),this.copyPass.render(t,this.renderTargetAdapted)}},iZ=class extends Fs{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},xP=new tt,d3=class extends Fs{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,u=o>=0;l?(t.getClearColor(xP),t.setClearColor(s,u?o:a)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(xP,a):u&&t.setClearAlpha(a)}},vc=-1,er=class extends Do{constructor(t,e=vc,n=vc,r=1){super(),this.resizable=t,this.baseSize=new xe(1,1),this.preferredSize=new xe(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new xe,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==vc?n.width=e.width:e.height!==vc?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==vc?n.height=e.height:e.width!==vc?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(vc),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return vc}},yE=!1,_P=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case Dc:n=this.materialsFlatShadedDoubleSide;break;case Di:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case Dc:n=this.materialsDoubleSide;break;case Di:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[t.clone(),t.clone(),t.clone()];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=Mu;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=n.clone();return r.uniforms=Object.assign({},t.uniforms),r.side=Di,r}),this.materialsDoubleSide=e.map(n=>{const r=n.clone();return r.uniforms=Object.assign({},t.uniforms),r.side=Dc,r}),this.materialsFlatShaded=e.map(n=>{const r=n.clone();return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=n.clone();return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Di,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=n.clone();return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Dc,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,yE){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return yE}static set workaroundEnabled(t){yE=t}},Ib=class extends Fs{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new d3,this.overrideMaterialManager=n===null?null:new _P(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new _P(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,u=s.background,c=t.shadowMap.autoUpdate,h=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(h),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=u,t.shadowMap.autoUpdate=c}},sZ=class extends Fs{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=er.AUTO_SIZE,height:r=er.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new R$;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Dn(1,1,{minFilter:Rn,magFilter:Rn,depthBuffer:!1,type:Ia}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new er(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=bo){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function wP(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,i))}}function oZ(t,e,n){var r,i,s,o,a;let l=e.getFragmentShader(),u=e.getVertexShader();const c=l!==void 0&&/mainImage/.test(l),h=l!==void 0&&/mainUv/.test(l);if(n.attributes|=e.getAttributes(),l===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(h&&n.attributes&za.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!c&&!h)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const g=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,v=n.shaderParts;let x=(r=v.get(Tn.FRAGMENT_HEAD))!=null?r:"",y=(i=v.get(Tn.FRAGMENT_MAIN_UV))!=null?i:"",_=(s=v.get(Tn.FRAGMENT_MAIN_IMAGE))!=null?s:"",E=(o=v.get(Tn.VERTEX_HEAD))!=null?o:"",w=(a=v.get(Tn.VERTEX_MAIN_SUPPORT))!=null?a:"";const M=new Set,C=new Set;if(h&&(y+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),u!==null&&/mainSupport/.test(u)){const k=/mainSupport *\([\w\s]*?uv\s*?\)/.test(u);w+=`	${t}MainSupport(`,w+=k?`vUv);
`:`);
`;for(const P of u.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const z of P[1].split(/\s*,\s*/))n.varyings.add(z),M.add(z),C.add(z);for(const P of u.matchAll(g))C.add(P[1])}for(const k of l.matchAll(g))C.add(k[1]);for(const k of e.defines.keys())C.add(k.replace(/\([\w\s,]*\)/g,""));for(const k of e.uniforms.keys())C.add(k);C.delete("while"),C.delete("for"),C.delete("if"),e.uniforms.forEach((k,P)=>n.uniforms.set(t+P.charAt(0).toUpperCase()+P.slice(1),k)),e.defines.forEach((k,P)=>n.defines.set(t+P.charAt(0).toUpperCase()+P.slice(1),k));const R=new Map([["fragment",l],["vertex",u]]);wP(t,C,n.defines),wP(t,C,R),l=R.get("fragment"),u=R.get("vertex");const O=e.blendMode;if(n.blendModes.set(O.blendFunction,O),c){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(_+=e.inputColorSpace===Rt?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==null?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const k=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;_+=`${t}MainImage(color0, UV, `,n.attributes&za.DEPTH&&k.test(l)&&(_+="depth, ",n.readDepth=!0),_+=`color1);
	`;const P=t+"BlendOpacity";n.uniforms.set(P,O.opacity),_+=`color0 = blend${O.blendFunction}(color0, color1, ${P});

	`,x+=`uniform float ${P};

`}if(x+=l+`
`,u!==null&&(E+=u+`
`),v.set(Tn.FRAGMENT_HEAD,x),v.set(Tn.FRAGMENT_MAIN_UV,y),v.set(Tn.FRAGMENT_MAIN_IMAGE,_),v.set(Tn.VERTEX_HEAD,E),v.set(Tn.VERTEX_MAIN_SUPPORT,w),e.extensions!==null)for(const k of e.extensions)n.extensions.add(k)}}var aZ=class extends Fs{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new H$(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new mZ;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Pt.DST)t.attributes|=o.getAttributes()&za.DEPTH;else{if(t.attributes&o.getAttributes()&za.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);oZ("e"+e++,o,t)}let n=t.shaderParts.get(Tn.FRAGMENT_HEAD),r=t.shaderParts.get(Tn.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(Tn.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&za.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===Rt&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(Tn.FRAGMENT_HEAD,n),t.shaderParts.set(Tn.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(Tn.FRAGMENT_MAIN_UV,i),t.shaderParts.forEach((o,a,l)=>l.set(a,o==null?void 0:o.trim().replace(/^#/,`
#`))),this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=bo){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const s of this.effects)s.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==Li&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},Ob=class extends Fs{constructor({kernelSize:t=hf.MEDIUM,resolutionScale:e=.5,width:n=er.AUTO_SIZE,height:r=er.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Dn(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new er(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new Q7,this._blurMaterial.kernelSize=t,this.copyMaterial=new X7}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence;let h=e;this.fullscreenMaterial=u;for(let g=0,v=c.length;g<v;++g){const x=g&1?l:a;u.kernel=c[g],u.inputBuffer=h.texture,t.setRenderTarget(x),t.render(s,o),h=x}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=h.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Li?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):t.outputEncoding===Rt&&(this.renderTargetA.texture.encoding=Rt,this.renderTargetB.texture.encoding=Rt))}static get AUTO_SIZE(){return er.AUTO_SIZE}},$7=class extends Fs{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:r=1,width:i=er.AUTO_SIZE,height:s=er.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new W$(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Dn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new er(this,o,a,r);l.addEventListener("change",u=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,r,i){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==Li&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},lZ=class extends Fs{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new d3(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,h=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,c,4294967295),o.stencil.setClear(h),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},uZ=class extends Fs{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Dn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new k$,this.upsamplingMaterial=new eZ,this.resolution=new xe}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const r=e.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let n=1,r=t-1;n<r;++n){const i=e.clone();i.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,r,i){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:u,upsamplingMipmaps:c}=this;let h=e;this.fullscreenMaterial=a;for(let g=0,v=u.length;g<v;++g){const x=u[g];a.setSize(h.width,h.height),a.inputBuffer=h.texture,t.setRenderTarget(x),t.render(s,o),h=x}this.fullscreenMaterial=l;for(let g=c.length-1;g>=0;--g){const v=c[g];l.setSize(h.width,h.height),l.inputBuffer=h.texture,l.supportBuffer=u[g].texture,t.setRenderTarget(v),t.render(s,o),h=v}}setSize(t,e){const n=this.resolution;n.set(t,e);let r=n.width,i=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[s].setSize(r,i),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(r,i)}initialize(t,e,n){if(n!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=n;if(n!==Li)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(t.outputEncoding===Rt)for(const i of r)i.texture.encoding=Rt}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},cZ=class extends Fs{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=er.AUTO_SIZE,height:s=er.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Ib(t,e,new vb);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const u=l.getClearPass();u.overrideClearColor=new tt(7829503),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Dn(1,1,{minFilter:Rn,magFilter:Rn}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new er(this,o,a,r);c.addEventListener("change",h=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},t2=class extends Fs{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,r,i){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==Li&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},fZ=class extends Ob{constructor({offset:t=0,rotation:e=0,focusArea:n=.4,feather:r=.3,kernelSize:i=hf.MEDIUM,resolutionScale:s=.5,resolutionX:o=er.AUTO_SIZE,resolutionY:a=er.AUTO_SIZE}={}){super({kernelSize:i,resolutionScale:s,resolutionX:o,resolutionY:a}),this.blurMaterial=new $$({kernelSize:i,offset:t,rotation:e,focusArea:n,feather:r})}},xE=1/1e3,dZ=1e3,hZ=class{constructor(){this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*xE}get fixedDelta(){return this._fixedDelta*xE}set fixedDelta(t){this._fixedDelta=t*dZ}get elapsed(){return this._elapsed*xE}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=t!==void 0?t:performance.now(),this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()}handleEvent(t){document.hidden||(this.currentTime=performance.now())}dispose(){this.autoReset=!1}},pZ=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new K7,this.depthTexture=null,this.passes=[],this.timer=new hZ,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new xe),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Li&&e.outputEncoding===Rt&&(this.inputBuffer.texture.encoding=Rt,this.outputBuffer.texture.encoding=Rt,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new c1;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Zc,e.type=Vc):e.type=du,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const s=this.renderer,o=s===null?new xe:s.getDrawingBufferSize(new xe),a={minFilter:zn,magFilter:zn,stencilBuffer:n,depthBuffer:e,type:r};let l;return i>0?(l=Number(Du.replace(/\D+/g,""))<138?new o7(o.width,o.height,a):new Dn(o.width,o.height,a),l.ignoreDepthForMultisampleCopy=!1,l.samples=i):l=new Dn(o.width,o.height,a),r===Li&&s!==null&&s.outputEncoding===Rt&&(l.texture.encoding=Rt),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new xe),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,u)=>l||u.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,u;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(n,i,s,e,o),c.needsSwap&&(o&&(r.renderToScreen=c.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(n,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof lZ?o=!0:c instanceof iZ&&(o=!1))}setSize(e,n,r){const i=this.renderer,s=i.getSize(new xe);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&i.setSize(e,n,r);const o=i.getDrawingBufferSize(new xe);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},mZ=class{constructor(){this.shaderParts=new Map([[Tn.FRAGMENT_HEAD,null],[Tn.FRAGMENT_MAIN_UV,null],[Tn.FRAGMENT_MAIN_IMAGE,null],[Tn.VERTEX_HEAD,null],[Tn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=za.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Fa}},gZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",vZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",yZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",xZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",_Z="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",wZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",EZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",SZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",AZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",MZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",bZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",TZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",CZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",PZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",RZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",DZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",IZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",OZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",LZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",kZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",NZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",zZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",BZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",FZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",UZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",HZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",qZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",VZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",GZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",WZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",jZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",YZ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",QZ=new Map([[Pt.ADD,gZ],[Pt.ALPHA,vZ],[Pt.AVERAGE,yZ],[Pt.COLOR,xZ],[Pt.COLOR_BURN,_Z],[Pt.COLOR_DODGE,wZ],[Pt.DARKEN,EZ],[Pt.DIFFERENCE,SZ],[Pt.DIVIDE,AZ],[Pt.DST,null],[Pt.EXCLUSION,MZ],[Pt.HARD_LIGHT,bZ],[Pt.HARD_MIX,TZ],[Pt.HUE,CZ],[Pt.INVERT,PZ],[Pt.INVERT_RGB,RZ],[Pt.LIGHTEN,DZ],[Pt.LINEAR_BURN,IZ],[Pt.LINEAR_DODGE,OZ],[Pt.LINEAR_LIGHT,LZ],[Pt.LUMINOSITY,kZ],[Pt.MULTIPLY,NZ],[Pt.NEGATION,zZ],[Pt.NORMAL,BZ],[Pt.OVERLAY,FZ],[Pt.PIN_LIGHT,UZ],[Pt.REFLECT,HZ],[Pt.SATURATION,qZ],[Pt.SCREEN,VZ],[Pt.SOFT_LIGHT,GZ],[Pt.SRC,WZ],[Pt.SUBTRACT,jZ],[Pt.VIVID_LIGHT,YZ]]),XZ=class extends Do{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new Ge(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return QZ.get(this.blendFunction)}},ps=class extends Do{constructor(t,e,{attributes:n=za.NONE,blendFunction:r=Pt.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new XZ(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=Fa,this._outputColorSpace=null}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=bo){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Dn||e instanceof gi||e instanceof Xn||e instanceof Fs)&&this[t].dispose()}}},KZ=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,$Z=class extends ps{constructor({blendFunction:t=Pt.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:r=!1,intensity:i=1,radius:s=.85,levels:o=8,kernelSize:a=hf.LARGE,resolutionScale:l=.5,width:u=er.AUTO_SIZE,height:c=er.AUTO_SIZE,resolutionX:h=u,resolutionY:g=c}={}){super("BloomEffect",KZ,{blendFunction:t,uniforms:new Map([["map",new Ge(null)],["intensity",new Ge(i)]])}),this.renderTarget=new Dn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Ob({kernelSize:a}),this.luminancePass=new $7({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new uZ,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const v=this.resolution=new er(this,h,g,l);v.addEventListener("change",x=>this.setSize(v.baseWidth,v.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,i.renderTarget):this.blurPass.render(t,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,t.outputEncoding===Rt&&(this.renderTarget.texture.encoding=Rt))}},ZZ="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",JZ=class extends ps{constructor({blendFunction:t=Pt.SRC,brightness:e=0,contrast:n=0}={}){super("BrightnessContrastEffect",ZZ,{blendFunction:t,uniforms:new Map([["brightness",new Ge(e)],["contrast",new Ge(n)]])}),this.inputColorSpace=Rt}get brightness(){return this.uniforms.get("brightness").value}set brightness(t){this.uniforms.get("brightness").value=t}getBrightness(t){return this.brightness}setBrightness(t){this.brightness=t}get contrast(){return this.uniforms.get("contrast").value}set contrast(t){this.uniforms.get("contrast").value=t}getContrast(t){return this.contrast}setContrast(t){this.contrast=t}},eJ="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",tJ=class extends ps{constructor({blendFunction:t,bits:e=16}={}){super("ColorDepthEffect",eJ,{blendFunction:t,uniforms:new Map([["factor",new Ge(1)]])}),this.bits=0,this.bitDepth=e}get bitDepth(){return this.bits}set bitDepth(t){this.bits=t,this.uniforms.get("factor").value=Math.pow(2,t/3)}getBitDepth(){return this.bitDepth}setBitDepth(t){this.bitDepth=t}},nJ=`void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){
#ifdef INVERTED
vec3 color=vec3(1.0-depth);
#else
vec3 color=vec3(depth);
#endif
outputColor=vec4(color,inputColor.a);}`,rJ=class extends ps{constructor({blendFunction:t=Pt.SRC,inverted:e=!1}={}){super("DepthEffect",nJ,{blendFunction:t,attributes:za.DEPTH}),this.inverted=e}get inverted(){return this.defines.has("INVERTED")}set inverted(t){this.inverted!==t&&(t?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}isInverted(){return this.inverted}setInverted(t){this.inverted=t}},iJ="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",sJ=class extends ps{constructor({blendFunction:t,angle:e=Math.PI*.5,scale:n=1}={}){super("DotScreenEffect",iJ,{blendFunction:t,uniforms:new Map([["angle",new Ge(new xe)],["scale",new Ge(n)]])}),this.angle=e}get angle(){return Math.acos(this.uniforms.get("angle").value.y)}set angle(t){this.uniforms.get("angle").value.set(Math.sin(t),Math.cos(t))}getAngle(){return this.angle}setAngle(t){this.angle=t}get scale(){return this.uniforms.get("scale").value}set scale(t){this.uniforms.get("scale").value=t}};function oJ(t,e,n){const r=new Map([[X2,1],[QM,1],[XM,2],[cs,4]]);let i;if(r.has(e)||console.error("Invalid noise texture format"),n===Li){i=new Uint8Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()*255+.5}else{i=new Float32Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()}return i}var EP=class extends Wd{constructor(t,e,n=X2,r=Li){super(oJ(t*e,n,r),t,e,n,r),this.needsUpdate=!0}},aJ="uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",Sx="Glitch.Generated";function $s(t,e){return t+Math.random()*(e-t)}var lJ=class extends ps{constructor({chromaticAberrationOffset:t=null,delay:e=new xe(1.5,3.5),duration:n=new xe(.6,1),strength:r=new xe(.3,1),columns:i=.05,ratio:s=.85,perturbationMap:o=null,dtSize:a=64}={}){if(super("GlitchEffect",aJ,{uniforms:new Map([["perturbationMap",new Ge(null)],["columns",new Ge(i)],["active",new Ge(!1)],["random",new Ge(1)],["seeds",new Ge(new xe)],["distortion",new Ge(new xe)]])}),o===null){const l=new EP(a,a,cs);l.name=Sx,this.perturbationMap=l}else this.perturbationMap=o;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=e,this.duration=n,this.breakPoint=new xe($s(this.delay.x,this.delay.y),$s(this.duration.x,this.duration.y)),this.strength=r,this.mode=Cc.SPORADIC,this.ratio=s,this.chromaticAberrationOffset=t}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(t){this.delay.x=t}getMinDelay(){return this.delay.x}setMinDelay(t){this.delay.x=t}get maxDelay(){return this.delay.y}set maxDelay(t){this.delay.y=t}getMaxDelay(){return this.delay.y}setMaxDelay(t){this.delay.y=t}get minDuration(){return this.duration.x}set minDuration(t){this.duration.x=t}getMinDuration(){return this.duration.x}setMinDuration(t){this.duration.x=t}get maxDuration(){return this.duration.y}set maxDuration(t){this.duration.y=t}getMaxDuration(){return this.duration.y}setMaxDuration(t){this.duration.y=t}get minStrength(){return this.strength.x}set minStrength(t){this.strength.x=t}getMinStrength(){return this.strength.x}setMinStrength(t){this.strength.x=t}get maxStrength(){return this.strength.y}set maxStrength(t){this.strength.y=t}getMaxStrength(){return this.strength.y}setMaxStrength(t){this.strength.y=t}getMode(){return this.mode}setMode(t){this.mode=t}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(t){this.ratio=Math.min(Math.max(1-t,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(t){this.uniforms.get("columns").value=t}getGlitchColumns(){return this.columns}setGlitchColumns(t){this.columns=t}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(t){this.chromaticAberrationOffset=t}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(t){const e=this.perturbationMap;e!==null&&e.name===Sx&&e.dispose(),t.minFilter=t.magFilter=Rn,t.wrapS=t.wrapT=Cm,t.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=t}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(t){this.perturbationMap=t}generatePerturbationMap(t=64){const e=new EP(t,t,cs);return e.name=Sx,e}update(t,e,n){const r=this.mode,i=this.breakPoint,s=this.chromaticAberrationOffset,o=this.strength;let a=this.time,l=!1,u=0,c=0,h;r!==Cc.DISABLED&&(r===Cc.SPORADIC&&(a+=n,h=a>i.x,a>=i.x+i.y&&(i.set($s(this.delay.x,this.delay.y),$s(this.duration.x,this.duration.y)),a=0)),u=Math.random(),this.uniforms.get("random").value=u,h&&u>this.ratio||r===Cc.CONSTANT_WILD?(l=!0,u*=o.y*.03,c=$s(-Math.PI,Math.PI),this.seeds.set($s(-o.y,o.y),$s(-o.y,o.y)),this.distortion.set($s(0,1),$s(0,1))):(h||r===Cc.CONSTANT_MILD)&&(l=!0,u*=o.x*.03,c=$s(-Math.PI,Math.PI),this.seeds.set($s(-o.x,o.x),$s(-o.x,o.x)),this.distortion.set($s(0,1),$s(0,1))),this.time=a),s!==null&&(l?s.set(Math.cos(c),Math.sin(c)).multiplyScalar(u):s.set(0,0)),this.uniforms.get("active").value=l}dispose(){const t=this.perturbationMap;t!==null&&t.name===Sx&&t.dispose()}},uJ=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}`,_E=new j,SP=new Xt,cJ=class extends ps{constructor(t,e,{blendFunction:n=Pt.SCREEN,samples:r=60,density:i=.96,decay:s=.9,weight:o=.4,exposure:a=.6,clampMax:l=1,blur:u=!0,kernelSize:c=hf.SMALL,resolutionScale:h=.5,width:g=er.AUTO_SIZE,height:v=er.AUTO_SIZE,resolutionX:x=g,resolutionY:y=v}={}){super("GodRaysEffect",uJ,{blendFunction:n,attributes:za.DEPTH,uniforms:new Map([["map",new Ge(null)]])}),this.camera=t,this.lightSource=e,this.lightSource.material.depthWrite=!1,this.lightSource.material.transparent=!0,this.lightScene=new Dm,this.screenPosition=new xe,this.renderTargetA=new Dn(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("map").value=this.renderTargetB.texture,this.renderTargetLight=new Dn(1,1),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthTexture=new c1,this.renderPassLight=new Ib(this.lightScene,t),this.renderPassLight.clearPass.overrideClearColor=new tt(0),this.clearPass=new d3(!0,!1,!1),this.clearPass.overrideClearColor=new tt(0),this.blurPass=new Ob({kernelSize:c}),this.blurPass.enabled=u,this.depthMaskPass=new t2(new I$);const _=this.depthMaskMaterial;_.depthBuffer1=this.renderTargetLight.depthTexture,_.copyCameraSettings(t),this.godRaysPass=new t2(new V$(this.screenPosition));const E=this.godRaysMaterial;E.density=i,E.decay=s,E.weight=o,E.exposure=a,E.maxIntensity=l,E.samples=r;const w=this.resolution=new er(this,x,y,h);w.addEventListener("change",M=>this.setSize(w.baseWidth,w.baseHeight))}set mainCamera(t){this.camera=t,this.renderPassLight.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}getBlurPass(){return this.blurPass}get texture(){return this.renderTargetB.texture}getTexture(){return this.texture}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get godRaysMaterial(){return this.godRaysPass.fullscreenMaterial}getGodRaysMaterial(){return this.godRaysMaterial}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.godRaysMaterial.dithering}set dithering(t){const e=this.godRaysMaterial;e.dithering=t,e.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}get samples(){return this.godRaysMaterial.samples}set samples(t){this.godRaysMaterial.samples=t}setDepthTexture(t,e=bo){this.depthMaskPass.fullscreenMaterial.depthBuffer0=t,this.depthMaskPass.fullscreenMaterial.depthPacking0=e}update(t,e,n){const r=this.lightSource,i=r.parent,s=r.matrixAutoUpdate,o=this.renderTargetA,a=this.renderTargetLight;r.material.depthWrite=!0,r.matrixAutoUpdate=!1,r.updateWorldMatrix(!0,!1),i!==null&&(s||SP.copy(r.matrix),r.matrix.copy(r.matrixWorld)),this.lightScene.add(r),this.renderPassLight.render(t,a),this.clearPass.render(t,o),this.depthMaskPass.render(t,a,o),r.material.depthWrite=!1,r.matrixAutoUpdate=s,i!==null&&(s||r.matrix.copy(SP),i.add(r)),_E.setFromMatrixPosition(r.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max((_E.x+1)*.5,-1),2),Math.min(Math.max((_E.y+1)*.5,-1),2)),this.blurPass.enabled&&this.blurPass.render(t,o,o),this.godRaysPass.render(t,o,this.renderTargetB)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.renderTargetLight.setSize(r,i),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.renderPassLight.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),this.godRaysPass.initialize(t,e,n),n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,t.outputEncoding===Rt&&(this.renderTargetA.texture.encoding=Rt,this.renderTargetB.texture.encoding=Rt,this.renderTargetLight.texture.encoding=Rt))}},fJ="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",dJ=class extends ps{constructor({blendFunction:t=Pt.SRC,hue:e=0,saturation:n=0}={}){super("HueSaturationEffect",fJ,{blendFunction:t,uniforms:new Map([["hue",new Ge(new j)],["saturation",new Ge(n)]])}),this.hue=e}get saturation(){return this.uniforms.get("saturation").value}set saturation(t){this.uniforms.get("saturation").value=t}getSaturation(){return this.saturation}setSaturation(t){this.saturation=t}get hue(){const t=this.uniforms.get("hue").value;return Math.acos((t.x*3-1)/2)}set hue(t){const e=Math.sin(t),n=Math.cos(t);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3)}getHue(){return this.hue}setHue(t){this.hue=t}};new tt;var hJ=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,pJ=class extends ps{constructor({blendFunction:t=Pt.SCREEN,premultiply:e=!1}={}){super("NoiseEffect",hJ,{blendFunction:t}),this.premultiply=e}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(t){this.premultiply!==t&&(t?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(t){this.premultiply=t}},mJ=`uniform float count;
#ifdef SCROLL
uniform float scrollSpeed;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;
#ifdef SCROLL
y+=time*scrollSpeed;
#endif
vec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}`,gJ=class extends ps{constructor({blendFunction:t=Pt.OVERLAY,density:e=1.25,scrollSpeed:n=0}={}){super("ScanlineEffect",mJ,{blendFunction:t,uniforms:new Map([["count",new Ge(0)],["scrollSpeed",new Ge(0)]])}),this.resolution=new xe,this.d=e,this.scrollSpeed=n}get density(){return this.d}set density(t){this.d=t,this.setSize(this.resolution.width,this.resolution.height)}getDensity(){return this.density}setDensity(t){this.density=t}get scrollSpeed(){return this.uniforms.get("scrollSpeed").value}set scrollSpeed(t){this.uniforms.get("scrollSpeed").value=t,t===0?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}setSize(t,e){this.resolution.set(t,e),this.uniforms.get("count").value=Math.round(e*this.density)}},vJ="uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",yJ="uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",xJ=Math.PI*.5,w0=new j,AP=new j,_J=class extends ps{constructor(t,e=new j,{speed:n=2,maxRadius:r=1,waveSize:i=.2,amplitude:s=.05}={}){super("ShockWaveEffect",vJ,{vertexShader:yJ,uniforms:new Map([["active",new Ge(!1)],["center",new Ge(new xe(.5,.5))],["cameraDistance",new Ge(1)],["size",new Ge(1)],["radius",new Ge(-i)],["maxRadius",new Ge(r)],["waveSize",new Ge(i)],["amplitude",new Ge(s)]])}),this.position=e,this.speed=n,this.camera=t,this.screenPosition=this.uniforms.get("center").value,this.time=0,this.active=!1}set mainCamera(t){this.camera=t}get amplitude(){return this.uniforms.get("amplitude").value}set amplitude(t){this.uniforms.get("amplitude").value=t}get waveSize(){return this.uniforms.get("waveSize").value}set waveSize(t){this.uniforms.get("waveSize").value=t}get maxRadius(){return this.uniforms.get("maxRadius").value}set maxRadius(t){this.uniforms.get("maxRadius").value=t}get epicenter(){return this.position}set epicenter(t){this.position=t}getPosition(){return this.position}setPosition(t){this.position=t}getSpeed(){return this.speed}setSpeed(t){this.speed=t}explode(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}update(t,e,n){const r=this.position,i=this.camera,s=this.uniforms,o=s.get("active");if(this.active){const a=s.get("waveSize").value;i.getWorldDirection(w0),AP.copy(i.position).sub(r),o.value=w0.angleTo(AP)>xJ,o.value&&(s.get("cameraDistance").value=i.position.distanceTo(r),w0.copy(r).project(i),this.screenPosition.set((w0.x+1)*.5,(w0.y+1)*.5)),this.time+=n*this.speed;const l=this.time-a;s.get("radius").value=l,l>=(s.get("maxRadius").value+a)*2&&(this.active=!1,o.value=!1)}}},wJ="uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",EJ=class extends ps{constructor({blendFunction:t,intensity:e=1}={}){super("SepiaEffect",wJ,{blendFunction:t,uniforms:new Map([["weightsR",new Ge(new j(.393,.769,.189))],["weightsG",new Ge(new j(.349,.686,.168))],["weightsB",new Ge(new j(.272,.534,.131))]])})}get intensity(){return this.blendMode.opacity.value}set intensity(t){this.blendMode.opacity.value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}get weightsR(){return this.uniforms.get("weightsR").value}get weightsG(){return this.uniforms.get("weightsG").value}get weightsB(){return this.uniforms.get("weightsB").value}},YA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",QA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",SJ="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",AJ="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",MJ=class extends ps{constructor({blendFunction:t=Pt.SRC,preset:e=Gp.MEDIUM,edgeDetectionMode:n=Db.COLOR,predicationMode:r=S$.DISABLED}={}){super("SMAAEffect",SJ,{vertexShader:AJ,blendFunction:t,attributes:za.CONVOLUTION|za.DEPTH,uniforms:new Map([["weightMap",new Ge(null)]])});let i,s;arguments.length>1&&(i=arguments[0],s=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(n=arguments[3])),this.renderTargetEdges=new Dn(1,1,{depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new d3(!0,!1,!1),this.clearPass.overrideClearColor=new tt(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new t2(new B$),this.edgeDetectionMaterial.edgeDetectionMode=n,this.edgeDetectionMaterial.predicationMode=r,this.weightsPass=new t2(new Q$);const o=new S1;o.onLoad=()=>{const a=new Xn(i);a.name="SMAA.Search",a.magFilter=Rn,a.minFilter=Rn,a.generateMipmaps=!1,a.needsUpdate=!0,a.flipY=!0,this.weightsMaterial.searchTexture=a;const l=new Xn(s);l.name="SMAA.Area",l.magFilter=zn,l.minFilter=zn,l.generateMipmaps=!1,l.needsUpdate=!0,l.flipY=!1,this.weightsMaterial.areaTexture=l,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),i!==void 0&&s!==void 0?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(i=new Image,s=new Image,i.addEventListener("load",()=>o.itemEnd("search")),s.addEventListener("load",()=>o.itemEnd("area")),i.src=YA,s.src=QA),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(t){this.edgeDetectionMaterial.edgeDetectionThreshold=t}setOrthogonalSearchSteps(t){this.weightsMaterial.orthogonalSearchSteps=t}applyPreset(t){const e=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(t){case Gp.LOW:e.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case Gp.MEDIUM:e.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case Gp.HIGH:e.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case Gp.ULTRA:e.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break}}setDepthTexture(t,e=bo){this.edgeDetectionMaterial.depthBuffer=t,this.edgeDetectionMaterial.depthPacking=e}update(t,e,n){this.clearPass.render(t,this.renderTargetEdges),this.edgeDetectionPass.render(t,e,this.renderTargetEdges),this.weightsPass.render(t,this.renderTargetEdges,this.renderTargetWeights)}setSize(t,e){this.edgeDetectionMaterial.setSize(t,e),this.weightsMaterial.setSize(t,e),this.renderTargetEdges.setSize(t,e),this.renderTargetWeights.setSize(t,e)}dispose(){const{searchTexture:t,areaTexture:e}=this.weightsMaterial;t!==null&&e!==null&&(t.dispose(),e.dispose()),super.dispose()}static get searchImageDataURL(){return YA}static get areaImageDataURL(){return QA}},bJ=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform vec2 maskParams;varying vec2 vUv2;float linearGradientMask(const in float x){return step(maskParams.x,x)-step(maskParams.y,x);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float mask=linearGradientMask(vUv2.y);vec4 texel=texture2D(map,uv);outputColor=mix(texel,inputColor,mask);}`,TJ="uniform vec2 rotation;varying vec2 vUv2;void mainSupport(const in vec2 uv){vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));}",CJ=class extends ps{constructor({blendFunction:t,offset:e=0,rotation:n=0,focusArea:r=.4,feather:i=.3,kernelSize:s=hf.MEDIUM,resolutionScale:o=.5,resolutionX:a=er.AUTO_SIZE,resolutionY:l=er.AUTO_SIZE}={}){super("TiltShiftEffect",bJ,{vertexShader:TJ,blendFunction:t,uniforms:new Map([["rotation",new Ge(new xe)],["maskParams",new Ge(new xe)],["map",new Ge(null)]])}),this._offset=e,this._focusArea=r,this._feather=i,this.renderTarget=new Dn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="TiltShift.Target",this.uniforms.get("map").value=this.renderTarget.texture,this.blurPass=new fZ({kernelSize:s,resolutionScale:o,resolutionX:a,resolutionY:l,offset:e,rotation:n,focusArea:r,feather:i});const u=this.resolution=new er(this,a,l,o);u.addEventListener("change",c=>this.setSize(u.baseWidth,u.baseHeight)),this.rotation=n,this.updateParams()}updateParams(){const t=this.uniforms.get("maskParams").value,e=Math.max(this.focusArea-this.feather,0);t.set(this.offset-e,this.offset+e)}get rotation(){return Math.acos(this.uniforms.get("rotation").value.x)}set rotation(t){this.uniforms.get("rotation").value.set(Math.cos(t),Math.sin(t)),this.blurPass.blurMaterial.rotation=t}get offset(){return this._offset}set offset(t){this._offset=t,this.blurPass.blurMaterial.offset=t,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(t){this._focusArea=t,this.blurPass.blurMaterial.focusArea=t,this.updateParams()}get feather(){return this._feather}set feather(t){this._feather=t,this.blurPass.blurMaterial.feather=t,this.updateParams()}get bias(){return 0}set bias(t){}update(t,e,n){this.blurPass.render(t,e,this.renderTarget)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,t.outputEncoding===Rt&&(this.renderTarget.texture.encoding=Rt))}},PJ=`#include <tonemapping_pars_fragment>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
uniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;
#if TONE_MAPPING_MODE != 2
uniform float averageLuminance;
#endif
vec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);
#if TONE_MAPPING_MODE == 2
float lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));
#else
float lumAvg=averageLuminance;
#endif
float lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2
outputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);
#else
outputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);
#endif
}`,RJ=class extends ps{constructor({blendFunction:t=Pt.SRC,adaptive:e=!0,mode:n=e?Jl.REINHARD2_ADAPTIVE:Jl.REINHARD2,resolution:r=256,maxLuminance:i=16,whitePoint:s=i,middleGrey:o=.6,minLuminance:a=.01,averageLuminance:l=1,adaptationRate:u=1}={}){super("ToneMappingEffect",PJ,{blendFunction:t,uniforms:new Map([["luminanceBuffer",new Ge(null)],["maxLuminance",new Ge(i)],["whitePoint",new Ge(s)],["middleGrey",new Ge(o)],["averageLuminance",new Ge(l)]])}),this.renderTargetLuminance=new Dn(1,1,{minFilter:bu,depthBuffer:!1}),this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetLuminance.texture.name="Luminance",this.luminancePass=new $7({renderTarget:this.renderTargetLuminance}),this.adaptiveLuminancePass=new rZ(this.luminancePass.texture,{minLuminance:a,adaptationRate:u}),this.uniforms.get("luminanceBuffer").value=this.adaptiveLuminancePass.texture,this.resolution=r,this.mode=n}get mode(){return Number(this.defines.get("TONE_MAPPING_MODE"))}set mode(t){if(this.mode!==t){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",t.toFixed(0)),t){case Jl.REINHARD:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case Jl.OPTIMIZED_CINEON:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case Jl.ACES_FILMIC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel");break}this.adaptiveLuminancePass.enabled=t===Jl.REINHARD2_ADAPTIVE,this.setChanged()}}getMode(){return this.mode}setMode(t){this.mode=t}get whitePoint(){return this.uniforms.get("whitePoint").value}set whitePoint(t){this.uniforms.get("whitePoint").value=t}get middleGrey(){return this.uniforms.get("middleGrey").value}set middleGrey(t){this.uniforms.get("middleGrey").value=t}get averageLuminance(){return this.uniforms.get("averageLuminance").value}set averageLuminance(t){this.uniforms.get("averageLuminance").value=t}get adaptiveLuminanceMaterial(){return this.adaptiveLuminancePass.fullscreenMaterial}getAdaptiveLuminanceMaterial(){return this.adaptiveLuminanceMaterial}get resolution(){return this.luminancePass.resolution.width}set resolution(t){const e=Math.max(0,Math.ceil(Math.log2(t))),n=Math.pow(2,e);this.luminancePass.resolution.setPreferredSize(n,n),this.adaptiveLuminanceMaterial.mipLevel1x1=e}getResolution(){return this.resolution}setResolution(t){this.resolution=t}get adaptive(){return this.mode===Jl.REINHARD2_ADAPTIVE}set adaptive(t){this.mode=t?Jl.REINHARD2_ADAPTIVE:Jl.REINHARD2}get adaptationRate(){return this.adaptiveLuminanceMaterial.adaptationRate}set adaptationRate(t){this.adaptiveLuminanceMaterial.adaptationRate=t}get distinction(){return console.warn(this.name,"distinction was removed."),1}set distinction(t){console.warn(this.name,"distinction was removed.")}update(t,e,n){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(t,e),this.adaptiveLuminancePass.render(t,null,null,n))}initialize(t,e,n){this.adaptiveLuminancePass.initialize(t,e,n)}},DJ=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,IJ=class extends ps{constructor({blendFunction:t,technique:e=Ex.DEFAULT,eskil:n=!1,offset:r=.5,darkness:i=.5}={}){super("VignetteEffect",DJ,{blendFunction:t,defines:new Map([["VIGNETTE_TECHNIQUE",e.toFixed(0)]]),uniforms:new Map([["offset",new Ge(r)],["darkness",new Ge(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(t){this.technique!==t&&(this.defines.set("VIGNETTE_TECHNIQUE",t.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Ex.ESKIL}set eskil(t){this.technique=t?Ex.ESKIL:Ex.DEFAULT}getTechnique(){return this.technique}setTechnique(t){this.technique=t}get offset(){return this.uniforms.get("offset").value}set offset(t){this.uniforms.get("offset").value=t}getOffset(){return this.offset}setOffset(t){this.offset=t}get darkness(){return this.uniforms.get("darkness").value}set darkness(t){this.uniforms.get("darkness").value=t}getDarkness(){return this.darkness}setDarkness(t){this.darkness=t}},OJ=class extends zs{load(t=()=>{},e=null){arguments.length===4?(t=arguments[1],e=arguments[3]):(arguments.length===3||typeof arguments[0]!="function")&&(t=arguments[1],e=null);const n=this.manager,r=new S1;return new Promise((i,s)=>{const o=new Image,a=new Image;r.onError=l=>{n.itemError(l),e!==null?(e(`Failed to load ${l}`),i()):s(`Failed to load ${l}`)},r.onLoad=()=>{const l=[o,a];t(l),i(l)},o.addEventListener("error",l=>{r.itemError("smaa-search")}),a.addEventListener("error",l=>{r.itemError("smaa-area")}),o.addEventListener("load",()=>{n.itemEnd("smaa-search"),r.itemEnd("smaa-search")}),a.addEventListener("load",()=>{n.itemEnd("smaa-area"),r.itemEnd("smaa-area")}),n.itemStart("smaa-search"),n.itemStart("smaa-area"),r.itemStart("smaa-search"),r.itemStart("smaa-area"),o.src=YA,a.src=QA})}};const Io=function(t,e){return e===void 0&&(e=Pt.NORMAL),b.forwardRef(function(r,i){let{blendFunction:s,opacity:o,...a}=r;const l=Qn(c=>c.invalidate),u=b.useMemo(()=>new t(a),[a]);return b.useLayoutEffect(()=>{u.blendMode.blendFunction=!s&&s!==0?e:s,o!==void 0&&(u.blendMode.opacity.value=o),l()},[s,u.blendMode,o]),ee.createElement("primitive",{ref:i,object:u,dispose:null})})},wE=(t,e)=>{const n=t[e];return b.useMemo(()=>{if(n instanceof xe)return new xe().set(n.x,n.y);if(Array.isArray(n)){const[r,i]=n;return new xe().set(r,i)}},[n])},LJ=Io($Z,Pt.ADD);Io(JZ);Io(tJ);Io(rJ);const Z7=b.createContext(null),J7=ee.memo(b.forwardRef((t,e)=>{let{children:n,camera:r,scene:i,resolutionScale:s,enabled:o=!0,renderPriority:a=1,autoClear:l=!0,depthBuffer:u,disableNormalPass:c,stencilBuffer:h,multisampling:g=8,frameBufferType:v=$c}=t;const{gl:x,scene:y,camera:_,size:E}=Qn();i=i||y,r=r||_;const[w,M,C]=b.useMemo(()=>{const k=bK(),P=new pZ(x,{depthBuffer:u,stencilBuffer:h,multisampling:g>0&&k?g:0,frameBufferType:v});P.addPass(new Ib(i,r));let z=null,B=null;return c||(B=new cZ(i,r),B.enabled=!1,P.addPass(B),s!==void 0&&k&&(z=new sZ({normalBuffer:B.texture,resolutionScale:s}),z.enabled=!1,P.addPass(z))),[P,B,z]},[r,x,u,h,g,v,i,c,s]);b.useEffect(()=>w==null?void 0:w.setSize(E.width,E.height),[w,E]),Al((k,P)=>{o&&(x.autoClear=l,w.render(P))},o?a:0);const R=b.useRef(null);b.useLayoutEffect(()=>{let k;return R.current&&R.current.__r3f&&w&&(k=new aZ(r,...R.current.__r3f.objects),k.renderToScreen=!0,w.addPass(k),M&&(M.enabled=!0),C&&(C.enabled=!0)),()=>{k&&(w==null||w.removePass(k)),M&&(M.enabled=!1),C&&(C.enabled=!1)}},[w,n,r,M,C]);const O=b.useMemo(()=>({composer:w,normalPass:M,downSamplingPass:C,resolutionScale:s,camera:r,scene:i}),[w,M,C,s,r,i]);return b.useImperativeHandle(e,()=>w,[w]),ee.createElement(Z7.Provider,{value:O},ee.createElement("group",{ref:R},n))}));Io(sJ);const kJ=b.forwardRef(function(e,n){let{active:r=!0,...i}=e;const s=Qn(c=>c.invalidate),o=wE(i,"delay"),a=wE(i,"duration"),l=wE(i,"strength"),u=b.useMemo(()=>new lJ({...i,delay:o,duration:a,strength:l}),[o,a,i,l]);return b.useLayoutEffect(()=>{u.mode=r?i.mode||Cc.SPORADIC:Cc.DISABLED,s()},[r,u,i.mode]),ee.createElement("primitive",{ref:n,object:u,dispose:null})}),NJ=b.forwardRef(function(e,n){const{camera:r}=b.useContext(Z7),i=b.useMemo(()=>new cJ(r,e.sun,e),[r,e]);return ee.createElement("primitive",{ref:n,object:i,dispose:null})});Io(dJ);const ek=Io(pJ,Pt.COLOR_DODGE);Io(gJ,Pt.OVERLAY);Io(EJ);const zJ=b.forwardRef(function(e,n){let{preset:r=Gp.HIGH,edgeDetectionMode:i=Db.COLOR}=e;const s=rg(OJ,""),o=b.useMemo(()=>new MJ(...s,r,i),[s,r,i]);return ee.createElement("primitive",{ref:n,object:o,dispose:null})});Io(RJ);Io(IJ);Io(_J);Io(CJ,Pt.ADD);function BJ(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}const tk=b.forwardRef((t,e)=>{const{children:n,...r}=t;return b.Children.toArray(n).some(MP)?b.createElement(b.Fragment,null,b.Children.map(n,i=>MP(i)?b.createElement(XA,It({},r,{ref:e}),i.props.children):i)):b.createElement(XA,It({},r,{ref:e}),n)});tk.displayName="Slot";const XA=b.forwardRef((t,e)=>{const{children:n,...r}=t;return b.isValidElement(n)?b.cloneElement(n,{...UJ(r,n.props),ref:BJ(e,n.ref)}):b.Children.count(n)>1?b.Children.only(null):null});XA.displayName="SlotClone";const FJ=({children:t})=>b.createElement(b.Fragment,null,t);function MP(t){return b.isValidElement(t)&&t.type===FJ}function UJ(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const HJ=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:b.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?tk:e;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.createElement(o,It({},s,{ref:r}))})}),{}),qJ=Boolean(globalThis==null?void 0:globalThis.document)?b.useLayoutEffect:()=>{},VJ=b.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=b.useState({});return qJ(()=>{l({})},[]),a?fu.createPortal(b.createElement(HJ.div,It({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),GJ=VJ;var bP=Object.prototype.hasOwnProperty;function Gv(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Gv(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(bP.call(t,n)&&++r&&!bP.call(e,n)||!(n in e)||!Gv(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var h3=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};h3.prototype._test=function(e){var n=this.fn;try{_m(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return _m(this.modifiers.slice(),n,this)(e)}catch{return!1}};h3.prototype._check=function(e){try{_m(this.modifiers.slice(),this.fn,this)(e)}catch{if(_m(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!_m(this.modifiers.slice(),this.fn,this)(e))throw null};h3.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){rk(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function nk(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function _m(t,e,n){if(t.length){var r=t.shift(),i=_m(t,e,n);return r.perform(i,n)}else return nk(e)}function rk(t,e,n){if(t.length){var r=t.shift(),i=rk(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(nk(e,"async")(s))}}var WJ=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},Lb=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),wl=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};wl.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new h3(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};wl.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new WJ(n,e.simple,e.async)),this};wl.prototype._clone=function(){return new wl(this.chain.slice(),this.nextRuleModifiers.slice())};wl.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};wl.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new Lb(r,e,i))}}),n};wl.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new Lb(n,e,r)}})};wl.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){ik(e,n.chain.slice(),r,i)})};function ik(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){ik(t,e,n,r)},function(s){r(new Lb(i,t,s))})}else n(t)}var TP=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function jJ(t,e){return e===void 0&&(e=!1),{simple:function(n){return TP(n,e)||t.check(n)===void 0},async:function(n){return TP(n,e)||t.testAsync(n)}}}function to(){return typeof Proxy<"u"?sk(new wl):KA(new wl)}var Wv={};to.extend=function(t){Object.assign(Wv,t)};to.clearCustomRules=function(){Wv={}};function sk(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=sk(t._clone());if(r in n2)return i._applyModifier(n2[r],r);if(r in Wv)return i._applyRule(Wv[r],r);if(r in $A)return i._applyRule($A[r],r)}})}function KA(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=KA(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},n=e($A,t),r=e(Wv,n);return Object.keys(n2).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=KA(r._clone());return s._applyModifier(n2[i],i)}})}),r}var n2={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Ax(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Ax(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Ax(e).every(t)}},async:function(t){return function(e){return Promise.all(Ax(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return CP(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return CP(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function CP(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Ax(t){return typeof t=="string"?t.split(""):t}var $A={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||YJ;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Ip("string")},boolean:function(){return Ip("boolean")},undefined:function(){return Ip("undefined")},null:function(){return Ip("null")},array:function(){return Ip("array")},object:function(){return Ip("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return QJ(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:jJ};function Ip(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function YJ(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function QJ(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var qn="colors",Ms="sizes",pt="space",XJ={gap:pt,gridGap:pt,columnGap:pt,gridColumnGap:pt,rowGap:pt,gridRowGap:pt,inset:pt,insetBlock:pt,insetBlockEnd:pt,insetBlockStart:pt,insetInline:pt,insetInlineEnd:pt,insetInlineStart:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockEnd:pt,marginBlockStart:pt,marginInline:pt,marginInlineEnd:pt,marginInlineStart:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockEnd:pt,paddingBlockStart:pt,paddingInline:pt,paddingInlineEnd:pt,paddingInlineStart:pt,top:pt,right:pt,bottom:pt,left:pt,scrollMargin:pt,scrollMarginTop:pt,scrollMarginRight:pt,scrollMarginBottom:pt,scrollMarginLeft:pt,scrollMarginX:pt,scrollMarginY:pt,scrollMarginBlock:pt,scrollMarginBlockEnd:pt,scrollMarginBlockStart:pt,scrollMarginInline:pt,scrollMarginInlineEnd:pt,scrollMarginInlineStart:pt,scrollPadding:pt,scrollPaddingTop:pt,scrollPaddingRight:pt,scrollPaddingBottom:pt,scrollPaddingLeft:pt,scrollPaddingX:pt,scrollPaddingY:pt,scrollPaddingBlock:pt,scrollPaddingBlockEnd:pt,scrollPaddingBlockStart:pt,scrollPaddingInline:pt,scrollPaddingInlineEnd:pt,scrollPaddingInlineStart:pt,fontSize:"fontSizes",background:qn,backgroundColor:qn,backgroundImage:qn,borderImage:qn,border:qn,borderBlock:qn,borderBlockEnd:qn,borderBlockStart:qn,borderBottom:qn,borderBottomColor:qn,borderColor:qn,borderInline:qn,borderInlineEnd:qn,borderInlineStart:qn,borderLeft:qn,borderLeftColor:qn,borderRight:qn,borderRightColor:qn,borderTop:qn,borderTopColor:qn,caretColor:qn,color:qn,columnRuleColor:qn,fill:qn,outline:qn,outlineColor:qn,stroke:qn,textDecorationColor:qn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Ms,minBlockSize:Ms,maxBlockSize:Ms,inlineSize:Ms,minInlineSize:Ms,maxInlineSize:Ms,width:Ms,minWidth:Ms,maxWidth:Ms,height:Ms,minHeight:Ms,maxHeight:Ms,flexBasis:Ms,gridTemplateColumns:Ms,gridTemplateRows:Ms,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},KJ=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,ig=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,KJ))(e);return i in t?t[i]:t[i]=n(e,...r)}},Yd=Symbol.for("sxs.internal"),kb=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),PP=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:$J}=Object.prototype,ZA=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),ZJ=/\s+(?![^()]*\))/,Op=t=>e=>t(...typeof e=="string"?String(e).split(ZJ):[e]),RP={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Op((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Op((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Op((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Op((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Op((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Op((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},EE=/([\d.]+)([^]*)/,JJ=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,eee=(t,e)=>t in tee&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${ZA(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${ZA(t)}:${r}fit-content`)+s):String(e),tee={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Tu=t=>t?t+"-":"",ok=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Tu(e)+(a.includes("$")?"":Tu(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),nee=/\s*,\s*(?![^()]*\))/,ree=Object.prototype.toString,fm=(t,e,n,r,i)=>{let s,o,a;const l=(u,c,h)=>{let g,v;const x=y=>{for(g in y){const w=g.charCodeAt(0)===64,M=w&&Array.isArray(y[g])?y[g]:[y[g]];for(v of M){const C=/[A-Z]/.test(E=g)?E:E.replace(/-[^]/g,O=>O[1].toUpperCase()),R=typeof v=="object"&&v&&v.toString===ree&&(!r.utils[C]||!c.length);if(C in r.utils&&!R){const O=r.utils[C];if(O!==o){o=O,x(O(v)),o=null;continue}}else if(C in RP){const O=RP[C];if(O!==a){a=O,x(O(v)),a=null;continue}}if(w&&(_=g.slice(1)in r.media?"@media "+r.media[g.slice(1)]:g,g=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(O,k,P,z,B,q)=>{const Q=EE.test(k),W=.0625*(Q?-1:1),[X,ne]=Q?[z,k]:[k,z];return"("+(P[0]==="="?"":P[0]===">"===Q?"max-":"min-")+X+":"+(P[0]!=="="&&P.length===1?ne.replace(EE,(se,de,G)=>Number(de)+W*(P===">"?1:-1)+G):ne)+(B?") and ("+(B[0]===">"?"min-":"max-")+X+":"+(B.length===1?q.replace(EE,(se,de,G)=>Number(de)+W*(B===">"?-1:1)+G):q):"")+")"})),R){const O=w?h.concat(g):[...h],k=w?[...c]:JJ(c,g.split(nee));s!==void 0&&i(DP(...s)),s=void 0,l(v,k,O)}else s===void 0&&(s=[[],c,h]),g=w||g.charCodeAt(0)!==36?g:`--${Tu(r.prefix)}${g.slice(1).replace(/\$/g,"-")}`,v=R?v:typeof v=="number"?v&&C in iee?String(v)+"px":String(v):ok(eee(C,v??""),r.prefix,r.themeMap[C]),s[0].push(`${w?`${g} `:`${ZA(g)}:`}${v}`)}}var _,E};x(u),s!==void 0&&i(DP(...s)),s=void 0};l(t,e,n)},DP=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,iee={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},IP=t=>String.fromCharCode(t+(t>25?39:97)),Qd=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=IP(n%52)+r;return IP(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),k0=["themed","global","styled","onevar","resonevar","allvar","inline"],see=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},oee=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(see(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const h=Object(u[l+1]);if(h.type!==4)continue;++l;const{cssText:g}=c;if(!g.startsWith("--sxs"))continue;const v=g.slice(14,-3).trim().split(/\s+/),x=k0[v[0]];x&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[x]={group:h,index:l,cache:new Set(v)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,h){this.cssRules.splice(h,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=k0.length-1;a>=0;--a){const l=k0[a];if(!o[l]){const u=k0[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}aee(o[l])}};return r(),e},aee=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},E0=Symbol(),lee=ig(),OP=(t,e)=>lee(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[Yd]){r.type==null&&(r.type=i[Yd].type);for(const s of i[Yd].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(uee(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),cee(t,r,e)}),uee=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${Tu(i.prefix)}c-${Qd(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const g in n)l[g]=String(n[g]);if(typeof t=="object"&&t)for(const g in t){c=l,h=g,$J.call(c,h)||(l[g]="undefined");const v=t[g];for(const x in v){const y={[g]:String(x)};String(x)==="undefined"&&u.push(g);const _=v[x],E=[y,_,!PP(_)];o.push(E)}}var c,h;if(typeof e=="object"&&e)for(const g of e){let{css:v,...x}=g;v=typeof v=="object"&&v||{};for(const _ in x)x[_]=String(x[_]);const y=[x,v,!PP(v)];a.push(y)}return[s,r,o,a,l,u]},cee=(t,e,n)=>{const[r,i,s,o]=fee(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function g(){for(let v=0;v<g[E0].length;v++){const[x,y]=g[E0][v];h.rules[x].apply(y)}return g[E0]=[],null}return g[E0]=[],g.rules={},k0.forEach(v=>g.rules[v]={apply:x=>g[E0].push([v,x])}),g})(n):null,l=(a||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=h=>{h=typeof h=="object"&&h||dee;const{css:g,...v}=h,x={};for(const E in s)if(delete v[E],E in h){let w=h[E];typeof w=="object"&&w?x[E]={"@initial":s[E],...w}:(w=String(w),x[E]=w!=="undefined"||o.has(E)?w:s[E])}else x[E]=s[E];const y=new Set([...i]);for(const[E,w,M,C]of e.composers){n.rules.styled.cache.has(E)||(n.rules.styled.cache.add(E),fm(w,[`.${E}`],[],t,k=>{l.styled.apply(k)}));const R=LP(M,x,t.media),O=LP(C,x,t.media,!0);for(const k of R)if(k!==void 0)for(const[P,z,B]of k){const q=`${E}-${Qd(z)}-${P}`;y.add(q);const Q=(B?n.rules.resonevar:n.rules.onevar).cache,W=B?l.resonevar:l.onevar;Q.has(q)||(Q.add(q),fm(z,[`.${q}`],[],t,X=>{W.apply(X)}))}for(const k of O)if(k!==void 0)for(const[P,z]of k){const B=`${E}-${Qd(z)}-${P}`;y.add(B),n.rules.allvar.cache.has(B)||(n.rules.allvar.cache.add(B),fm(z,[`.${B}`],[],t,q=>{l.allvar.apply(q)}))}}if(typeof g=="object"&&g){const E=`${r}-i${Qd(g)}-css`;y.add(E),n.rules.inline.cache.has(E)||(n.rules.inline.cache.add(E),fm(g,[`.${E}`],[],t,w=>{l.inline.apply(w)}))}for(const E of String(h.className||"").trim().split(/\s+/))E&&y.add(E);const _=v.className=[...y].join(" ");return{type:e.type,className:_,selector:u,props:v,toString:()=>_,deferredInjector:a}};return kb(c,{className:r,selector:u,[Yd]:e,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},fee=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,n,r,new Set(i)]},LP=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,u=0,c=!1;for(l in s){const h=s[l];let g=e[l];if(g!==h){if(typeof g!="object"||!g)continue e;{let v,x,y=0;for(const _ in g){if(h===String(g[_])){if(_!=="@initial"){const E=_.slice(1);(x=x||[]).push(E in n?n[E]:_.replace(/^@media ?/,"")),c=!0}u+=y,v=!0}++y}if(x&&x.length&&(o={["@media "+x.join(", ")]:o}),!v)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},dee={},hee=ig(),pee=(t,e)=>hee(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=Qd(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}fm(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return kb(r,{toString:r})}),mee=ig(),gee=(t,e)=>mee(t,()=>n=>{const r=`${Tu(t.prefix)}k-${Qd(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];fm(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return kb(i,{get name(){return i()},toString:i})}),vee=class{constructor(e,n,r,i){this.token=e==null?"":String(e),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Tu(this.prefix)+Tu(this.scale)+this.token}toString(){return this.computedValue}},yee=ig(),xee=(t,e)=>yee(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${Tu(t.prefix)}t-${Qd(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${Tu(t.prefix)}${l}-${u}`,h=ok(String(r[l][u]),t.prefix,l);s[l][u]=new vee(u,h,l,t.prefix),o.push(`${c}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),_ee=ig(),wee=ig(),Eee=t=>{const e=(n=>{let r=!1;const i=_ee(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...XJ},utils:typeof s.utils=="object"&&s.utils||{}},h=oee(l),g={css:OP(c,h),globalCss:pee(c,h),keyframes:gee(c,h),createTheme:xee(c,h),reset(){h.reset(),g.theme.toString()},theme:{},sheet:h,config:c,prefix:o,getCssText:h.toString,toString:h.toString};return String(g.theme=g.createTheme(u)),g});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>wee(n,()=>{const i=OP(n,r);return(...s)=>{const o=i(...s),a=o[Yd].type,l=ee.forwardRef((u,c)=>{const h=u&&u.as||a,{props:g,deferredInjector:v}=o(u);return delete g.as,g.ref=c,v?ee.createElement(ee.Fragment,null,ee.createElement(h,g),ee.createElement(v,null)):ee.createElement(h,g)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Yd]=o[Yd],l}}))(e),e};const See=Boolean(globalThis==null?void 0:globalThis.document)?b.useLayoutEffect:()=>{},Aee=w_["useId".toString()]||(()=>{});let Mee=0;function bee(t){const[e,n]=b.useState(Aee());return See(()=>{t||n(r=>r??String(Mee++))},[t]),t||(e?`radix-${e}`:"")}function ak(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function Nb(...t){return b.useCallback(ak(...t),t)}const lk=b.forwardRef((t,e)=>{const{children:n,...r}=t;return b.Children.toArray(n).some(kP)?b.createElement(b.Fragment,null,b.Children.map(n,i=>kP(i)?b.createElement(JA,It({},r,{ref:e}),i.props.children):i)):b.createElement(JA,It({},r,{ref:e}),n)});lk.displayName="Slot";const JA=b.forwardRef((t,e)=>{const{children:n,...r}=t;return b.isValidElement(n)?b.cloneElement(n,{...Tee(r,n.props),ref:ak(e,n.ref)}):b.Children.count(n)>1?b.Children.only(null):null});JA.displayName="SlotClone";const uk=({children:t})=>b.createElement(b.Fragment,null,t);function kP(t){return b.isValidElement(t)&&t.type===uk}function Tee(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const sg=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:b.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?lk:e;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.as&&console.error(Cee),b.createElement(o,It({},s,{ref:r}))})}),{}),Cee="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",Pee=b.forwardRef((t,e)=>b.createElement(sg.span,It({},t,{ref:e,style:{...t.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),Ree=Pee,Dee=Boolean(globalThis==null?void 0:globalThis.document)?b.useLayoutEffect:()=>{},Iee=b.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=b.useState({});return Dee(()=>{l({})},[]),a?fu.createPortal(b.createElement(sg.div,It({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),Oee=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return b.createElement(sg.svg,It({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:b.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Lee=Oee;function NP(t){const[e,n]=b.useState(void 0);return b.useEffect(()=>{if(t){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else{const l=t.getBoundingClientRect();o=l.width,a=l.height}n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>{n(void 0),r.unobserve(t)}}},[t]),e}function kee(t,e){const n=Md.get(t);return n===void 0?(Md.set(t,{rect:{},callbacks:[e]}),Md.size===1&&(e4=requestAnimationFrame(ck))):(n.callbacks.push(e),e(t.getBoundingClientRect())),()=>{const r=Md.get(t);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(Md.delete(t),Md.size===0&&cancelAnimationFrame(e4))}}let e4;const Md=new Map;function ck(){const t=[];Md.forEach((e,n)=>{const r=n.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,t.push(e))}),t.forEach(e=>{e.callbacks.forEach(n=>n(e.rect))}),e4=requestAnimationFrame(ck)}function fk(t){const[e,n]=b.useState();return b.useEffect(()=>{if(t){const r=kee(t,n);return()=>{n(void 0),r()}}},[t]),e}function dk(t,e=[]){let n=[];const r=()=>{const i=n.map(s=>b.createContext(s));return function(s){const o=(s==null?void 0:s[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:o}}),[s,o])}};return r.scopeName=t,[function(i,s){const o=b.createContext(s),a=n.length;function l(u){const{scope:c,children:h,...g}=u,v=(c==null?void 0:c[t][a])||o,x=b.useMemo(()=>g,Object.values(g));return b.createElement(v.Provider,{value:x},h)}return n=[...n,s],l.displayName=i+"Provider",[l,function(u,c){const h=(c==null?void 0:c[t][a])||o,g=b.useContext(h);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${i}\``)}]},Nee(r,...e)]}function Nee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function zee({anchorRect:t,popperSize:e,arrowSize:n,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:u,collisionTolerance:c=0}){if(!t||!e||!u)return{popperStyles:Bee,arrowStyles:SE};const h=function(k,P,z=0,B=0,q){const Q=q?q.height:0,W=zP(P,k,"x"),X=zP(P,k,"y"),ne=X.before-z-Q,se=X.after+z+Q,de=W.before-z-Q,G=W.after+z+Q;return{top:{start:{x:W.start+B,y:ne},center:{x:W.center,y:ne},end:{x:W.end-B,y:ne}},right:{start:{x:G,y:X.start+B},center:{x:G,y:X.center},end:{x:G,y:X.end-B}},bottom:{start:{x:W.start+B,y:se},center:{x:W.center,y:se},end:{x:W.end-B,y:se}},left:{start:{x:de,y:X.start+B},center:{x:de,y:X.center},end:{x:de,y:X.end-B}}}}(e,t,s,a,n),g=h[i][o];if(l===!1){const k=BP(g);let P=SE;return n&&(P=UP({popperSize:e,arrowSize:n,arrowOffset:r,side:i,align:o})),{popperStyles:{...k,"--radix-popper-transform-origin":FP(e,i,o,r,n)},arrowStyles:P,placedSide:i,placedAlign:o}}const v=DOMRect.fromRect({...e,...g}),x=(y=u,_=c,DOMRect.fromRect({width:y.width-2*_,height:y.height-2*_,x:y.left+_,y:y.top+_}));var y,_;const E=qP(v,x),w=h[HP(i)][o],M=function(k,P,z){const B=HP(k);return P[k]&&!z[B]?B:k}(i,E,qP(DOMRect.fromRect({...e,...w}),x)),C=function(k,P,z,B,q){const Q=z==="top"||z==="bottom",W=Q?"left":"top",X=Q?"right":"bottom",ne=Q?"width":"height",se=P[ne]>k[ne];return(B==="start"||B==="center")&&(q[W]&&se||q[X]&&!se)?"end":(B==="end"||B==="center")&&(q[X]&&se||q[W]&&!se)?"start":B}(e,t,i,o,E),R=BP(h[M][C]);let O=SE;return n&&(O=UP({popperSize:e,arrowSize:n,arrowOffset:r,side:M,align:C})),{popperStyles:{...R,"--radix-popper-transform-origin":FP(e,M,C,r,n)},arrowStyles:O,placedSide:M,placedAlign:C}}function zP(t,e,n){const r=t[n==="x"?"left":"top"],i=n==="x"?"width":"height",s=t[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function BP(t){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(t.x+window.scrollX)}px, ${Math.round(t.y+window.scrollY)}px, 0)`}}function FP(t,e,n,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let u="",c="";return s?(u={start:`${l}px`,center:"center",end:t.width-l+"px"}[n],c=e==="top"?`${t.height+a}px`:-a+"px"):(u=e==="left"?`${t.width+a}px`:-a+"px",c={start:`${l}px`,center:"center",end:t.height-l+"px"}[n]),`${u} ${c}`}const Bee={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},SE={position:"absolute",opacity:0};function UP({popperSize:t,arrowSize:e,arrowOffset:n,side:r,align:i}){const s=(t.width-e.width)/2,o=(t.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),u={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:Fee(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(u.left=`${n}px`),i==="center"&&(u.left=`${s}px`),i==="end"&&(u.right=`${n}px`)),r!=="left"&&r!=="right"||(i==="start"&&(u.top=`${n}px`),i==="center"&&(u.top=`${o}px`),i==="end"&&(u.bottom=`${n}px`)),u}function Fee(t,e){return(t!=="top"&&t!=="right"||e!=="end")&&(t!=="bottom"&&t!=="left"||e==="end")?"ltr":"rtl"}function HP(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]}function qP(t,e){return{top:t.top<e.top,right:t.right>e.right,bottom:t.bottom>e.bottom,left:t.left<e.left}}const[hk,pk]=dk("Popper"),[Uee,mk]=hk("Popper"),Hee=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return b.createElement(Uee,{scope:e,anchor:r,onAnchorChange:i},n)},qee=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=mk("PopperAnchor",n),o=b.useRef(null),a=Nb(e,o);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:b.createElement(sg.div,It({},i,{ref:a}))}),[Vee,Gee]=hk("PopperContent"),Wee=b.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...u}=t,c=mk("PopperContent",n),[h,g]=b.useState(),v=fk(c.anchor),[x,y]=b.useState(null),_=NP(x),[E,w]=b.useState(null),M=NP(E),C=Nb(e,Q=>y(Q)),R=function(){const[Q,W]=b.useState(void 0);return b.useEffect(()=>{let X;function ne(){W({width:window.innerWidth,height:window.innerHeight})}function se(){window.clearTimeout(X),X=window.setTimeout(ne,100)}return ne(),window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),Q}(),O=R?DOMRect.fromRect({...R,x:0,y:0}):void 0,{popperStyles:k,arrowStyles:P,placedSide:z,placedAlign:B}=zee({anchorRect:v,popperSize:_,arrowSize:M,arrowOffset:h,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:O,collisionTolerance:a}),q=z!==void 0;return b.createElement("div",{style:k,"data-radix-popper-content-wrapper":""},b.createElement(Vee,{scope:n,arrowStyles:P,onArrowChange:w,onArrowOffsetChange:g},b.createElement(sg.div,It({"data-side":z,"data-align":B},u,{style:{...u.style,animation:q?void 0:"none"},ref:C}))))}),jee=b.forwardRef(function(t,e){const{__scopePopper:n,offset:r,...i}=t,s=Gee("PopperArrow",n),{onArrowOffsetChange:o}=s;return b.useEffect(()=>o(r),[o,r]),b.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},b.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},b.createElement(Lee,It({},i,{ref:e,style:{...i.style,display:"block"}}))))}),Yee=Hee,Qee=qee,Xee=Wee,Kee=jee,VP=Boolean(globalThis==null?void 0:globalThis.document)?b.useLayoutEffect:()=>{};function $ee(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function Zee(...t){return b.useCallback($ee(...t),t)}const gk=t=>{const{present:e,children:n}=t,r=function(o){const[a,l]=b.useState(),u=b.useRef({}),c=b.useRef(o),h=b.useRef("none"),g=o?"mounted":"unmounted",[v,x]=function(y,_){return b.useReducer((E,w)=>{const M=_[E][w];return M??E},y)}(g,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const y=Mx(u.current);h.current=v==="mounted"?y:"none"},[v]),VP(()=>{const y=u.current,_=c.current;if(_!==o){const E=h.current,w=Mx(y);o?x("MOUNT"):w==="none"||(y==null?void 0:y.display)==="none"?x("UNMOUNT"):x(_&&E!==w?"ANIMATION_OUT":"UNMOUNT"),c.current=o}},[o,x]),VP(()=>{if(a){const y=E=>{const w=Mx(u.current).includes(E.animationName);E.target===a&&w&&x("ANIMATION_END")},_=E=>{E.target===a&&(h.current=Mx(u.current))};return a.addEventListener("animationstart",_),a.addEventListener("animationcancel",y),a.addEventListener("animationend",y),()=>{a.removeEventListener("animationstart",_),a.removeEventListener("animationcancel",y),a.removeEventListener("animationend",y)}}},[a,x]),{isPresent:["mounted","unmountSuspended"].includes(v),ref:b.useCallback(y=>{y&&(u.current=getComputedStyle(y)),l(y)},[])}}(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Zee(r.ref,i.ref);return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};function Mx(t){return(t==null?void 0:t.animationName)||"none"}gk.displayName="Presence";function GP(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t},[t]),e.current}function Jee(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function ete(t){const e=Jee(t);b.useEffect(()=>{const n=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e])}function WP(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function tte({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=function({defaultProp:l,onChange:u}){const c=b.useState(l),[h]=c,g=b.useRef(h),v=WP(u);return b.useEffect(()=>{g.current!==h&&(v(h),g.current=h)},[h,g,v]),c}({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=WP(n);return[o,b.useCallback(l=>{if(s){const u=l,c=typeof l=="function"?u(t):l;c!==t&&a(c)}else i(l)},[s,t,i,a])]}function Lp(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[vk,vve]=dk("Tooltip",[pk]),p3=pk(),nte=700,[yve,rte]=vk("TooltipProvider",{isOpenDelayed:!0,delayDuration:nte,onOpen:()=>{},onClose:()=>{}}),[ite,m3]=vk("Tooltip"),ste=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=t,a=rte("Tooltip",e),l=p3(e),[u,c]=b.useState(null),h=bee(),g=b.useRef(0),v=o??a.delayDuration,x=b.useRef(!1),{onOpen:y,onClose:_}=a,[E=!1,w]=tte({prop:r,defaultProp:i,onChange:O=>{O&&(document.dispatchEvent(new CustomEvent("tooltip.open")),y()),s==null||s(O)}}),M=b.useMemo(()=>E?x.current?"delayed-open":"instant-open":"closed",[E]),C=b.useCallback(()=>{window.clearTimeout(g.current),x.current=!1,w(!0)},[w]),R=b.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,w(!0)},v)},[v,w]);return b.useEffect(()=>()=>window.clearTimeout(g.current),[]),b.createElement(Yee,l,b.createElement(ite,{scope:e,contentId:h,open:E,stateAttribute:M,trigger:u,onTriggerChange:c,onTriggerEnter:b.useCallback(()=>{a.isOpenDelayed?R():C()},[a.isOpenDelayed,R,C]),onOpen:b.useCallback(C,[C]),onClose:b.useCallback(()=>{window.clearTimeout(g.current),w(!1),_()},[w,_])},n))},ote=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=m3("TooltipTrigger",n),s=p3(n),o=Nb(e,i.onTriggerChange),a=b.useRef(!1),l=b.useCallback(()=>a.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),b.createElement(Qee,It({asChild:!0},s),b.createElement(sg.button,It({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:Lp(t.onMouseEnter,i.onTriggerEnter),onMouseLeave:Lp(t.onMouseLeave,i.onClose),onMouseDown:Lp(t.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:Lp(t.onFocus,()=>{a.current||i.onOpen()}),onBlur:Lp(t.onBlur,i.onClose),onClick:Lp(t.onClick,i.onClose)})))}),ate=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=m3("TooltipContent",t.__scopeTooltip);return b.createElement(gk,{present:n||i.open},b.createElement(lte,It({ref:e},r)))}),lte=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,portalled:s=!0,...o}=t,a=m3("TooltipContent",n),l=p3(n),u=s?Iee:b.Fragment,{onClose:c}=a;return ete(()=>c()),b.useEffect(()=>(document.addEventListener("tooltip.open",c),()=>document.removeEventListener("tooltip.open",c)),[c]),b.createElement(u,null,b.createElement(cte,{__scopeTooltip:n}),b.createElement(Xee,It({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),b.createElement(uk,null,r),b.createElement(Ree,{id:a.contentId,role:"tooltip"},i||r)))}),ute=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=p3(n);return b.createElement(Kee,It({},i,r,{ref:e}))});function cte(t){const{__scopeTooltip:e}=t,n=m3("CheckTriggerMoved",e),r=fk(n.trigger),i=r==null?void 0:r.left,s=GP(i),o=r==null?void 0:r.top,a=GP(o),l=n.onClose;return b.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const fte=ste,dte=ote,hte=ate,pte=ute;function mte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vn(t,e){if(t==null)return{};var n=mte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let vr;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(vr||(vr={}));const gte={[vr.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[vr.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[vr.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[vr.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[vr.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[vr.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[vr.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[vr.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[vr.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[vr.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[vr.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function yk(t,e,...n){const[r,...i]=gte[e](...n);console[t]("LEVA: "+r,...i)}const ou=yk.bind(null,"warn"),vte=yk.bind(null,"log"),yte=["value"],xte=["schema"],_te=["value"],xk=[],uh={};function jP(t){let{value:e}=t,n=Vn(t,yte);for(let r of xk){const i=r(e,n);if(i)return i}}function ku(t,e){let{schema:n}=e,r=Vn(e,xte);if(t in uh){ou(vr.ALREADY_REGISTERED_TYPE,t);return}xk.push((i,s)=>n(i,s)&&t),uh[t]=r}function AE(t,e,n,r){const{normalize:i}=uh[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Vn(e,_te);return{value:s,settings:o}}function wte(t,e,n,r,i,s){const{sanitize:o}=uh[t];return o?o(e,n,r,i,s):e}function YP(t,e,n){const{format:r}=uh[t];return r?r(e,n):e}function Ete(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const ef=(t,e,n)=>t>n?n:t<e?e:t,Ste=t=>{if(t===""||typeof t=="number")return t;try{const e=wc(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},Ate=Math.log(10);function XP(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/Ate)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const r2=(t,e,n)=>n===e?0:(ef(t,e,n)-e)/(n-e),i2=(t,e,n)=>t*(n-e)+e,Mte=()=>"_"+Math.random().toString(36).substr(2,9),KP=/\(([0-9+\-*/^ .]+)\)/,$P=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,ZP=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,JP=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,eR=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,tR=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function wc(t){if(isNaN(Number(t)))if(KP.test(t)){const e=t.replace(KP,(n,r)=>String(wc(r)));return wc(e)}else if($P.test(t)){const e=t.replace($P,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return wc(e)}else if(ZP.test(t)){const e=t.replace(ZP,(n,r,i)=>String(Number(r)*Number(i)));return wc(e)}else if(JP.test(t)){const e=t.replace(JP,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return wc(e)}else if(eR.test(t)){const e=t.replace(eR,(n,r,i)=>String(Number(r)+Number(i)));return wc(e)}else if(tR.test(t)){const e=t.replace(tR,(n,r,i)=>String(Number(r)-Number(i)));return wc(e)}else return Number(t);return Number(t)}function bte(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function Tte(t,e){const n=Ot({},t);return e.forEach(r=>r in t&&delete n[r]),n}function Cte(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function _k(t){return Object.prototype.toString.call(t)==="[object Object]"}const Pte=t=>_k(t)&&Object.keys(t).length===0;let Ao;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(Ao||(Ao={}));let Ua;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(Ua||(Ua={}));const Rte=["type","__customInput"],Dte=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Ite=["type"];function wk(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:Ot({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:R,__customInput:O}=t,k=Vn(t,Rte);return wk(O,e,k,R)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:h,onChange:g,onEditStart:v,onEditEnd:x,transient:y}=t,_=Vn(t,Dte),E=Ot({render:o,key:e,label:a??e,hint:h,transient:y??!!g,onEditStart:v,onEditEnd:x,disabled:c,optional:l,order:u},n);let{type:w}=_,M=Vn(_,Ite);if(w=r??w,w in Ao)return{type:w,input:M,options:E};let C;return r&&_k(M)&&"value"in M?C=M.value:C=Pte(M)?void 0:M,{type:w,input:C,options:Ot(Ot({},E),{},{onChange:g,optional:(i=E.optional)!==null&&i!==void 0?i:!1,disabled:(s=E.disabled)!==null&&s!==void 0?s:!1})}}function Ote(t,e,n,r){const i=wk(t,e),{type:s,input:o,options:a}=i;if(s)return s in Ao?i:{type:s,input:AE(s,o,n,r),options:a};let l=jP(o);return l?{type:l,input:AE(l,o,n,r),options:a}:(l=jP({value:o}),l?{type:l,input:AE(l,{value:o},n,r),options:a}:!1)}function nR(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=Ek({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const Lte=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function Ek({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=wte(t,o,n,e,i,s)}catch(l){throw new Lte(`The value \`${r}\` did not result in a correct value.`,e,l)}return Gv(a,e)?e:a}const Sk=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},Ak=t=>t.shiftKey?5:t.altKey?1/5:1;function kte(t,e){const n=console.error;console.error=()=>{},fu.render(t,e),console.error=n}const Nte=["value"],zte=["min","max"],Bte=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},Mk=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=ef(i,e,n);return r?s+r:s},Fte=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},bk=t=>{let{value:e}=t,n=Vn(t,Nte);const{min:r=-1/0,max:i=1/0}=n,s=Vn(n,zte);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=ef(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?XP(l)*10:XP(o);l=l||u/10;const c=Math.round(ef(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:Ot({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},Tk=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var Ck=Object.freeze({__proto__:null,schema:Bte,sanitize:Mk,format:Fte,normalize:bk,sanitizeStep:Tk});function Ir(){return Ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ir.apply(this,arguments)}const Pk=b.createContext({});function ms(){return b.useContext(Pk)}const zb=b.createContext(null),Rk=b.createContext(null),Dk=b.createContext(null);function R1(){return b.useContext(Rk)}function Ute(){return b.useContext(Dk)}const Ik=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function bx(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const S0={$inputStyle:()=>t=>bx(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>bx(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>bx(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>bx(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Dt,css:xve,createTheme:Hte,globalCss:qte,keyframes:_ve}=Eee({prefix:"leva",theme:Ik(),utils:Ot(Ot({},S0),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":S0.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":S0.$focusStyle()(t)}),$hover:t=>({"&:hover":S0.$hoverStyle()(t)}),$active:t=>({"&:active":S0.$activeStyle()(t)})})}),Vte=qte({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Gte(t){const e=Ik();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=Hte(e);return{theme:e,className:n.className}}function mu(t,e){const{theme:n}=b.useContext(zb);if(!(t in n)||!(e in n[t]))return ou(vr.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const Ok=Dt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),Lk=Dt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${Ok}`]:{paddingLeft:0}}),Wte=Dt(Lk,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),jte=Dt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Yte=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Qte=["onUpdate"];function Bb(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=t,c=Vn(t,Yte);const{id:h,emitOnEditStart:g,emitOnEditEnd:v,disabled:x}=ms(),y=a||h,_=b.useRef(null),E=u>0,w=E?"textarea":"input",M=b.useCallback(O=>k=>{const P=k.currentTarget.value;O(P)},[]);ee.useEffect(()=>{const O=_.current,k=M(P=>{r(P),v()});return O==null||O.addEventListener("blur",k),()=>O==null?void 0:O.removeEventListener("blur",k)},[M,r,v]);const C=b.useCallback(O=>{O.key==="Enter"&&M(r)(O)},[M,r]),R=Object.assign({as:w},E?{rows:u}:{},c);return ee.createElement(jte,{textArea:E},e&&typeof e=="string"?ee.createElement(Lk,null,e):e,ee.createElement(Ok,Ir({levaType:o,ref:_,id:y,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:M(i),onFocus:()=>g(),onKeyPress:C,onKeyDown:s,disabled:x},R)))}function Xte(t){let{onUpdate:e}=t,n=Vn(t,Qte);const r=b.useCallback(s=>e(Ste(s)),[e]),i=b.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return ee.createElement(Bb,Ir({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const s2=Dt("div",{}),t4=Dt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Kte=Dt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${t4}::after`]:{opacity:.6},[`${s2}:hover > & + ${t4}::after`]:{opacity:.6},[`${s2}:hover > & > svg`]:{opacity:1}}),kk=Dt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${s2}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),Nk=Dt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${kk} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),zk=Dt(Nk,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),$te=Dt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Zte=Dt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),n4=Dt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Jte=Dt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${n4}`]:{pointerEvents:"auto"}}}}}),Bk=Dt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),ene=Dt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),tne=Dt(pte,{fill:"$toolTipBackground"});function Fb({children:t}){const{className:e}=b.useContext(zb);return ee.createElement(GJ,{className:e},t)}const nne=["align"];function rne(){const{id:t,disable:e,disabled:n}=ms();return ee.createElement(ee.Fragment,null,ee.createElement(Zte,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),ee.createElement("label",{htmlFor:t+"__disable"}))}function ine(t){const{id:e,optional:n,hint:r}=ms(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return ee.createElement(ee.Fragment,null,n&&ee.createElement(rne,null),r!==void 0?ee.createElement(fte,null,ee.createElement(dte,{asChild:!0},ee.createElement(n4,Ir({},i,t))),ee.createElement(hte,{side:"top",sideOffset:2},ee.createElement(ene,null,r,ee.createElement(tne,null)))):ee.createElement(n4,Ir({},i,s,t)))}function Va(t){let{align:e}=t,n=Vn(t,nne);const{value:r,label:i,key:s,disabled:o}=ms(),{hideCopyButton:a}=Ute(),l=!a&&s!==void 0,[u,c]=b.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{ou(vr.CLIPBOARD_ERROR,{[s]:r})}};return ee.createElement($te,{align:e,onPointerLeave:()=>c(!1)},ee.createElement(ine,n),l&&!o&&ee.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ee.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ee.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):ee.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ee.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ee.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const sne=["toggled"],one=Dt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Ub(t){let{toggled:e}=t,n=Vn(t,sne);return ee.createElement(one,Ir({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),ee.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const ane=["input"];function sa(t){let{input:e}=t,n=Vn(t,ane);return e?ee.createElement(zk,n):ee.createElement(Nk,n)}function Fk({value:t,type:e,settings:n,setValue:r}){const[i,s]=b.useState(YP(e,t,n)),o=b.useRef(t),a=b.useRef(n);a.current=n;const l=b.useCallback(c=>s(YP(e,c,a.current)),[e]),u=b.useCallback(c=>{try{r(c)}catch(h){const{type:g,previousValue:v}=h;if(g!=="LEVA_ERROR")throw h;l(v)}},[l,r]);return b.useEffect(()=>{Gv(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:u}}function D1(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=ms();return EK(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function lne(t){const e=b.useRef(null),n=b.useRef(null),r=b.useRef(!1);return b.useEffect(()=>{const i=Sk(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),b.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function Uk(){const t=b.useRef(null),e=b.useRef({x:0,y:0}),n=b.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const une=["__refCount"],ME=(t,e)=>{if(!t[e])return null;const n=t[e];return Vn(n,une)};function cne(t){const e=R1(),[n,r]=b.useState(ME(e.getData(),t)),i=b.useCallback(u=>e.setValueAtPath(t,u,!0),[t,e]),s=b.useCallback(u=>e.setSettingsAtPath(t,u),[t,e]),o=b.useCallback(u=>e.disableInputAtPath(t,u),[t,e]),a=b.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=b.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return b.useEffect(()=>{r(ME(e.getData(),t));const u=e.useStore.subscribe(c=>ME(c.data,t),r,{equalityFn:C1});return()=>u()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const fne=Dt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Hk=Dt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),r4=Dt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),qk=Dt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Vk=Dt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function dne({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=b.useRef(null),a=b.useRef(null),l=b.useRef(0),u=mu("sizes","scrubberWidth"),c=D1(({event:g,first:v,xy:[x],movement:[y],memo:_})=>{if(v){const{width:w,left:M}=o.current.getBoundingClientRect();l.current=w-parseFloat(u),_=(g==null?void 0:g.target)===a.current?t:i2((x-M)/w,e,n)}const E=_+i2(y/l.current,0,n-e);return r(Tk(E,{step:i,initialValue:s})),_}),h=r2(t,e,n);return ee.createElement(qk,Ir({ref:o},c()),ee.createElement(Hk,null,ee.createElement(Vk,{style:{left:0,right:`${(1-h)*100}%`}})),ee.createElement(r4,{ref:a,style:{left:`calc(${h} * (100% - ${u}))`}}))}const hne=ee.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=b.useState(!1),o=D1(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(h=>parseFloat(h)+Math.floor(c)*n*Ak(u)),c=0),c));return ee.createElement(Wte,Ir({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function Gk({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&ee.createElement(hne,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return ee.createElement(Xte,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function pne(){const t=ms(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return ee.createElement(sa,{input:!0},ee.createElement(Va,null,e),ee.createElement(fne,{hasRange:l},l&&ee.createElement(dne,Ir({value:parseFloat(n),onDrag:r},i)),ee.createElement(Gk,Ir({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:mne}=Ck,gne=Vn(Ck,["sanitizeStep"]);var vne=Ot({component:pne},gne);const yne=(t,e)=>to().schema({options:to().passesAnyOf(to().object(),to().array())}).test(e),xne=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},_ne=(t,{values:e})=>e.indexOf(t),wne=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Ene=Object.freeze({__proto__:null,schema:yne,sanitize:xne,format:_ne,normalize:wne});const Sne=Dt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),i4=Dt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Ane=Dt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${i4}:focus + &`]:{$focusStyle:""},[`${i4}:hover + &`]:{$hoverStyle:""}});function Mne({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=b.useRef();return e===a[t]&&(l.current=o[t]),ee.createElement(Sne,null,ee.createElement(i4,{id:r,value:t,onChange:u=>n(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>ee.createElement("option",{key:u,value:c},u))),ee.createElement(Ane,null,l.current),ee.createElement(Ub,{toggled:!0}))}function bne(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=ms();return ee.createElement(sa,{input:!0},ee.createElement(Va,null,t),ee.createElement(Mne,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var Tne=Ot({component:bne},Ene);const Cne=t=>to().string().test(t),Pne=t=>{if(typeof t!="string")throw Error("Invalid string");return t},Rne=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var Dne=Object.freeze({__proto__:null,schema:Cne,sanitize:Pne,normalize:Rne});const Ine=["displayValue","onUpdate","onChange","editable"],One=Dt("div",{whiteSpace:"pre-wrap"});function Lne(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=Vn(t,Ine);return i?ee.createElement(Bb,Ir({value:e,onUpdate:n,onChange:r},s)):ee.createElement(One,null,e)}function kne(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=ms();return ee.createElement(sa,{input:!0},ee.createElement(Va,null,t),ee.createElement(Lne,Ir({displayValue:n,onUpdate:r,onChange:i},e)))}var Nne=Ot({component:kne},Dne);const zne=t=>to().boolean().test(t),Bne=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var Fne=Object.freeze({__proto__:null,schema:zne,sanitize:Bne});const Une=Dt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Hne({value:t,onUpdate:e,id:n,disabled:r}){return ee.createElement(Une,null,ee.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),ee.createElement("label",{htmlFor:n},ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function qne(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=ms();return ee.createElement(sa,{input:!0},ee.createElement(Va,null,t),ee.createElement(Hne,{value:e,onUpdate:n,id:i,disabled:r}))}var Vne=Ot({component:qne},Fne);const Gne=["locked"];function Wne({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=b.useRef(t[n]);o.current=t[n];const a=b.useCallback(u=>i({[n]:Ek({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,n]),l=Fk({type:"NUMBER",value:t[n],settings:r,setValue:a});return ee.createElement(Gk,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const jne=Dt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Yne(t){let{locked:e}=t,n=Vn(t,Gne);return ee.createElement("svg",Ir({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?ee.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ee.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Hb({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=ms(),{lock:o,locked:a}=n;return ee.createElement(jne,{withLock:o},o&&ee.createElement(Yne,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,u)=>ee.createElement(Wne,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const Wk=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=bk(Ot({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},Qne=["lock"],Xne=["value"];function Kne(t){const e=to().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function $ne(t){return Array.isArray(t)?"array":"object"}function Z0(t,e,n){return $ne(t)===e?t:e==="array"?Object.values(t):Cte(t,n)}const Zne=(t,e,n)=>{const r=Z0(t,"object",e.keys);for(let o in r)r[o]=Mk(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Z0(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let h in o)h===a?s[a]=l:s[h]=o[h]*c}else s=Ot(Ot({},o),r)}return Z0(s,e.format,e.keys)},Jne=(t,e)=>Z0(t,"object",e.keys),ere=t=>!!t&&("step"in t||"min"in t||"max"in t);function tre(t,e,n=[]){const{lock:r=!1}=e,i=Vn(e,Qne),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=Z0(t,"object",o),l=ere(i)?o.reduce((c,h)=>Object.assign(c,{[h]:i}),{}):i,u=Wk(a,l);return{value:s==="array"?t:a,settings:Ot(Ot({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function jk(t){return{schema:Kne(t.length),normalize:e=>{let{value:n}=e,r=Vn(e,Xne);return tre(n,r,t)},format:(e,n)=>Jne(e,n),sanitize:(e,n,r)=>Zne(e,n,r)}}var nre={grad:.9,turn:360,rad:360/(2*Math.PI)},eu=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Pi=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Jo=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Yk=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},rR=function(t){return{r:Jo(t.r,0,255),g:Jo(t.g,0,255),b:Jo(t.b,0,255),a:Jo(t.a)}},bE=function(t){return{r:Pi(t.r),g:Pi(t.g),b:Pi(t.b),a:Pi(t.a,3)}},rre=/^#([0-9a-f]{3,8})$/i,Tx=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Qk=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Xk=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},iR=function(t){return{h:Yk(t.h),s:Jo(t.s,0,100),l:Jo(t.l,0,100),a:Jo(t.a)}},sR=function(t){return{h:Pi(t.h),s:Pi(t.s),l:Pi(t.l),a:Pi(t.a,3)}},oR=function(t){return Xk((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},J0=function(t){return{h:(e=Qk(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},ire=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sre=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ore=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,are=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,s4={string:[[function(t){var e=rre.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Pi(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Pi(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=ore.exec(t)||are.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:rR({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=ire.exec(t)||sre.exec(t);if(!e)return null;var n,r,i=iR({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(nre[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return oR(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return eu(e)&&eu(n)&&eu(r)?rR({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!eu(e)||!eu(n)||!eu(r))return null;var o=iR({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return oR(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!eu(e)||!eu(n)||!eu(r))return null;var o=function(a){return{h:Yk(a.h),s:Jo(a.s,0,100),v:Jo(a.v,0,100),a:Jo(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return Xk(o)},"hsv"]]},aR=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},Kk=function(t){return typeof t=="string"?aR(t.trim(),s4.string):typeof t=="object"&&t!==null?aR(t,s4.object):[null,void 0]},lre=function(t){return Kk(t)[1]},TE=function(t,e){var n=J0(t);return{h:n.h,s:Jo(n.s+100*e,0,100),l:n.l,a:n.a}},CE=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},lR=function(t,e){var n=J0(t);return{h:n.h,s:n.s,l:Jo(n.l+100*e,0,100),a:n.a}},o4=function(){function t(e){this.parsed=Kk(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Pi(CE(this.rgba),2)},t.prototype.isDark=function(){return CE(this.rgba)<.5},t.prototype.isLight=function(){return CE(this.rgba)>=.5},t.prototype.toHex=function(){return e=bE(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Tx(Pi(255*s)):"","#"+Tx(n)+Tx(r)+Tx(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return bE(this.rgba)},t.prototype.toRgbString=function(){return e=bE(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return sR(J0(this.rgba))},t.prototype.toHslString=function(){return e=sR(J0(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=Qk(this.rgba),{h:Pi(e.h),s:Pi(e.s),v:Pi(e.v),a:Pi(e.a,3)};var e},t.prototype.invert=function(){return Cs({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Cs(TE(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Cs(TE(this.rgba,-e))},t.prototype.grayscale=function(){return Cs(TE(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Cs(lR(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Cs(lR(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Cs({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Pi(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=J0(this.rgba);return typeof e=="number"?Cs({h:e,s:n.s,l:n.l,a:n.a}):Pi(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Cs(e).toHex()},t}(),Cs=function(t){return t instanceof o4?t:new o4(t)},uR=[],ure=function(t){t.forEach(function(e){uR.indexOf(e)<0&&(e(o4,s4),uR.push(e))})};function cre(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),h=1/0,g="black";if(!s.length)for(var v in n)s[v]=new t(n[v]).toRgb();for(var x in n){var y=(a=c,l=s[x],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<h&&(h=y,g=x)}return g}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function og(){return(og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function qb(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function a4(t){var e=b.useRef(t),n=b.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var Lm=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},ev=function(t){return"touches"in t},l4=function(t){return t&&t.ownerDocument.defaultView||self},cR=function(t,e,n){var r=t.getBoundingClientRect(),i=ev(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:Lm((i.pageX-(r.left+l4(t).pageXOffset))/r.width),top:Lm((i.pageY-(r.top+l4(t).pageYOffset))/r.height)}},fR=function(t){!ev(t)&&t.preventDefault()},Vb=ee.memo(function(t){var e=t.onMove,n=t.onKey,r=qb(t,["onMove","onKey"]),i=b.useRef(null),s=a4(e),o=a4(n),a=b.useRef(null),l=b.useRef(!1),u=b.useMemo(function(){var v=function(_){fR(_),(ev(_)?_.touches.length>0:_.buttons>0)&&i.current?s(cR(i.current,_,a.current)):y(!1)},x=function(){return y(!1)};function y(_){var E=l.current,w=l4(i.current),M=_?w.addEventListener:w.removeEventListener;M(E?"touchmove":"mousemove",v),M(E?"touchend":"mouseup",x)}return[function(_){var E=_.nativeEvent,w=i.current;if(w&&(fR(E),!function(C,R){return R&&!ev(C)}(E,l.current)&&w)){if(ev(E)){l.current=!0;var M=E.changedTouches||[];M.length&&(a.current=M[0].identifier)}w.focus(),s(cR(w,E,a.current)),y(!0)}},function(_){var E=_.which||_.keyCode;E<37||E>40||(_.preventDefault(),o({left:E===39?.05:E===37?-.05:0,top:E===40?.05:E===38?-.05:0}))},y]},[o,s]),c=u[0],h=u[1],g=u[2];return b.useEffect(function(){return g},[g]),ee.createElement("div",og({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),I1=function(t){return t.filter(Boolean).join(" ")},Gb=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=I1(["react-colorful__pointer",t.className]);return ee.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},ee.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Rs=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},$k=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:Rs(t.h),s:Rs(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:Rs(i/2),a:Rs(r,2)}},u4=function(t){var e=$k(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},PE=function(t){var e=$k(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},Zk=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:Rs(255*[r,a,o,o,l,r][u]),g:Rs(255*[l,r,r,a,o,o][u]),b:Rs(255*[o,o,l,r,r,a][u]),a:Rs(i,2)}},Jk=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:Rs(60*(a<0?a+6:a)),s:Rs(s?o/s*100:0),v:Rs(s/255*100),a:i}},eN=ee.memo(function(t){var e=t.hue,n=t.onChange,r=I1(["react-colorful__hue",t.className]);return ee.createElement("div",{className:r},ee.createElement(Vb,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:Lm(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Rs(e),"aria-valuemax":"360","aria-valuemin":"0"},ee.createElement(Gb,{className:"react-colorful__hue-pointer",left:e/360,color:u4({h:e,s:100,v:100,a:1})})))}),tN=ee.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:u4({h:e.h,s:100,v:100,a:1})};return ee.createElement("div",{className:"react-colorful__saturation",style:r},ee.createElement(Vb,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:Lm(e.s+100*i.left,0,100),v:Lm(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Rs(e.s)+"%, Brightness "+Rs(e.v)+"%"},ee.createElement(Gb,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:u4(e)})))}),Wb=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function nN(t,e,n){var r=a4(n),i=b.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=b.useRef({color:e,hsva:s});b.useEffect(function(){if(!t.equal(e,a.current.color)){var u=t.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,t]),b.useEffect(function(){var u;Wb(s,a.current.hsva)||t.equal(u=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,t,r]);var l=b.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var fre=typeof window<"u"?b.useLayoutEffect:b.useEffect,dre=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},dR=new Map,rN=function(t){fre(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!dR.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,dR.set(e,n);var r=dre();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},hre=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=qb(t,["className","colorModel","color","onChange"]),a=b.useRef(null);rN(a);var l=nN(n,i,s),u=l[0],c=l[1],h=I1(["react-colorful",e]);return ee.createElement("div",og({},o,{ref:a,className:h}),ee.createElement(tN,{hsva:u,onChange:c}),ee.createElement(eN,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},pre=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+PE(Object.assign({},n,{a:0}))+", "+PE(Object.assign({},n,{a:1}))+")"},s=I1(["react-colorful__alpha",e]),o=Rs(100*n.a);return ee.createElement("div",{className:s},ee.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),ee.createElement(Vb,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Lm(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},ee.createElement(Gb,{className:"react-colorful__alpha-pointer",left:n.a,color:PE(n)})))},mre=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=qb(t,["className","colorModel","color","onChange"]),a=b.useRef(null);rN(a);var l=nN(n,i,s),u=l[0],c=l[1],h=I1(["react-colorful",e]);return ee.createElement("div",og({},o,{ref:a,className:h}),ee.createElement(tN,{hsva:u,onChange:c}),ee.createElement(eN,{hue:u.h,onChange:c}),ee.createElement(pre,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},gre={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Jk,fromHsva:Zk,equal:Wb},vre=function(t){return ee.createElement(mre,og({},t,{colorModel:gre}))},yre={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return Jk({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=Zk(t)).r,g:e.g,b:e.b};var e},equal:Wb},xre=function(t){return ee.createElement(hre,og({},t,{colorModel:yre}))};function ag(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function lg(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function _re(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function wre(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_re(arguments[e]));return t}var Ere=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function O1(t,e){var n=Sre(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Sre(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=Ere.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var Are=[".DS_Store","Thumbs.db"];function Mre(t){return ag(this,void 0,void 0,function(){return lg(this,function(e){return o2(t)&&bre(t)?[2,Rre(t.dataTransfer,t.type)]:Tre(t)?[2,Cre(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,Pre(t)]:[2,[]]})})}function bre(t){return o2(t.dataTransfer)}function Tre(t){return o2(t)&&o2(t.target)}function o2(t){return typeof t=="object"&&t!==null}function Cre(t){return c4(t.target.files).map(function(e){return O1(e)})}function Pre(t){return ag(this,void 0,void 0,function(){var e;return lg(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return O1(r)})]}})})}function Rre(t,e){return ag(this,void 0,void 0,function(){var n,r;return lg(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=c4(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(Dre))]):[3,2];case 1:return r=i.sent(),[2,hR(iN(r))];case 2:return[2,hR(c4(t.files).map(function(s){return O1(s)}))]}})})}function hR(t){return t.filter(function(e){return Are.indexOf(e.name)===-1})}function c4(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function Dre(t){if(typeof t.webkitGetAsEntry!="function")return pR(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?sN(e):pR(t)}function iN(t){return t.reduce(function(e,n){return wre(e,Array.isArray(n)?iN(n):[n])},[])}function pR(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=O1(e);return Promise.resolve(n)}function Ire(t){return ag(this,void 0,void 0,function(){return lg(this,function(e){return[2,t.isDirectory?sN(t):Ore(t)]})})}function sN(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return ag(o,void 0,void 0,function(){var l,u,c;return lg(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=h.sent(),n(l),[3,4];case 3:return u=h.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(Ire)),i.push(c),s(),h.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Ore(t){return ag(this,void 0,void 0,function(){return lg(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=O1(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var Lre=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){oN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vR(t,e){return Bre(t)||zre(t,e)||Nre(t,e)||kre()}function kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(t,e){if(t){if(typeof t=="string")return yR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Bre(t){if(Array.isArray(t))return t}var Fre="file-invalid-type",Ure="file-too-large",Hre="file-too-small",qre="too-many-files",Vre=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Fre,message:"File type must be ".concat(n)}},xR=function(e){return{code:Ure,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},_R=function(e){return{code:Hre,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Gre={code:qre,message:"Too many files"};function aN(t,e){var n=t.type==="application/x-moz-file"||Lre(t,e);return[n,n?null:Vre(e)]}function lN(t,e,n){if(A0(t.size))if(A0(e)&&A0(n)){if(t.size>n)return[!1,xR(n)];if(t.size<e)return[!1,_R(e)]}else{if(A0(e)&&t.size<e)return[!1,_R(e)];if(A0(n)&&t.size>n)return[!1,xR(n)]}return[!0,null]}function A0(t){return t!=null}function Wre(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=aN(a,n),u=vR(l,1),c=u[0],h=lN(a,r,i),g=vR(h,1),v=g[0];return c&&v})}function a2(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Cx(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function wR(t){t.preventDefault()}function jre(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Yre(t){return t.indexOf("Edge/")!==-1}function Qre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return jre(t)||Yre(t)}function ul(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!a2(r)&&a&&a.apply(void 0,[r].concat(s)),a2(r)})}}function Xre(){return"showOpenFilePicker"in window}function Kre(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return gR(gR({},e),{},oN({},n,[]))},{}):{}}]}function $re(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Zre(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var Jre=["children"],eie=["open"],tie=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nie=["refKey","onChange","onClick"];function rie(t){return oie(t)||sie(t)||uN(t)||iie()}function iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oie(t){if(Array.isArray(t))return f4(t)}function RE(t,e){return uie(t)||lie(t,e)||uN(t,e)||aie()}function aie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uN(t,e){if(t){if(typeof t=="string")return f4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f4(t,e)}}function f4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function uie(t){if(Array.isArray(t))return t}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){d4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l2(t,e){if(t==null)return{};var n=cie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jb=b.forwardRef(function(t,e){var n=t.children,r=l2(t,Jre),i=fN(r),s=i.open,o=l2(i,eie);return b.useImperativeHandle(e,function(){return{open:s}},[s]),ee.createElement(b.Fragment,null,n(gr(gr({},o),{},{open:s})))});jb.displayName="Dropzone";var cN={disabled:!1,getFilesFromEvent:Mre,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};jb.defaultProps=cN;jb.propTypes={children:Vt.func,accept:Vt.oneOfType([Vt.string,Vt.arrayOf(Vt.string)]),multiple:Vt.bool,preventDropOnDocument:Vt.bool,noClick:Vt.bool,noKeyboard:Vt.bool,noDrag:Vt.bool,noDragEventsBubbling:Vt.bool,minSize:Vt.number,maxSize:Vt.number,maxFiles:Vt.number,disabled:Vt.bool,getFilesFromEvent:Vt.func,onFileDialogCancel:Vt.func,onFileDialogOpen:Vt.func,useFsAccessApi:Vt.bool,onDragEnter:Vt.func,onDragLeave:Vt.func,onDragOver:Vt.func,onDrop:Vt.func,onDropAccepted:Vt.func,onDropRejected:Vt.func,validator:Vt.func};var h4={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function fN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=gr(gr({},cN),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,h=e.onDragOver,g=e.onDrop,v=e.onDropAccepted,x=e.onDropRejected,y=e.onFileDialogCancel,_=e.onFileDialogOpen,E=e.useFsAccessApi,w=e.preventDropOnDocument,M=e.noClick,C=e.noKeyboard,R=e.noDrag,O=e.noDragEventsBubbling,k=e.validator,P=b.useMemo(function(){return typeof _=="function"?_:SR},[_]),z=b.useMemo(function(){return typeof y=="function"?y:SR},[y]),B=b.useRef(null),q=b.useRef(null),Q=b.useReducer(fie,h4),W=RE(Q,2),X=W[0],ne=W[1],se=X.isFocused,de=X.isFileDialogActive,G=X.draggedFiles,te=b.useRef(typeof window<"u"&&window.isSecureContext&&E&&Xre()),re=function(){!te.current&&de&&setTimeout(function(){if(q.current){var ae=q.current.files;ae.length||(ne({type:"closeDialog"}),z())}},300)};b.useEffect(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[q,de,z,te]);var V=b.useRef([]),J=function(ae){B.current&&B.current.contains(ae.target)||(ae.preventDefault(),V.current=[])};b.useEffect(function(){return w&&(document.addEventListener("dragover",wR,!1),document.addEventListener("drop",J,!1)),function(){w&&(document.removeEventListener("dragover",wR),document.removeEventListener("drop",J))}},[B,w]);var he=b.useCallback(function(U){U.preventDefault(),U.persist(),He(U),V.current=[].concat(rie(V.current),[U.target]),Cx(U)&&Promise.resolve(i(U)).then(function(ae){a2(U)&&!O||(ne({draggedFiles:ae,isDragActive:!0,type:"setDraggedFiles"}),u&&u(U))})},[i,u,O]),we=b.useCallback(function(U){U.preventDefault(),U.persist(),He(U);var ae=Cx(U);if(ae&&U.dataTransfer)try{U.dataTransfer.dropEffect="copy"}catch{}return ae&&h&&h(U),!1},[h,O]),be=b.useCallback(function(U){U.preventDefault(),U.persist(),He(U);var ae=V.current.filter(function(ze){return B.current&&B.current.contains(ze)}),Ee=ae.indexOf(U.target);Ee!==-1&&ae.splice(Ee,1),V.current=ae,!(ae.length>0)&&(ne({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Cx(U)&&c&&c(U))},[B,c,O]),pe=b.useCallback(function(U,ae){var Ee=[],ze=[];U.forEach(function(qe){var xt=aN(qe,n),$e=RE(xt,2),Le=$e[0],mt=$e[1],ie=lN(qe,o,s),Se=RE(ie,2),Ue=Se[0],Ye=Se[1],wt=k?k(qe):null;if(Le&&Ue&&!wt)Ee.push(qe);else{var Gt=[mt,Ye];wt&&(Gt=Gt.concat(wt)),ze.push({file:qe,errors:Gt.filter(function(In){return In})})}}),(!a&&Ee.length>1||a&&l>=1&&Ee.length>l)&&(Ee.forEach(function(qe){ze.push({file:qe,errors:[Gre]})}),Ee.splice(0)),ne({acceptedFiles:Ee,fileRejections:ze,type:"setFiles"}),g&&g(Ee,ze,ae),ze.length>0&&x&&x(ze,ae),Ee.length>0&&v&&v(Ee,ae)},[ne,a,n,o,s,l,g,v,x,k]),Ke=b.useCallback(function(U){U.preventDefault(),U.persist(),He(U),V.current=[],Cx(U)&&Promise.resolve(i(U)).then(function(ae){a2(U)&&!O||pe(ae,U)}),ne({type:"reset"})},[i,pe,O]),We=b.useCallback(function(){if(te.current){ne({type:"openDialog"}),P();var U={multiple:a,types:Kre(n)};window.showOpenFilePicker(U).then(function(ae){return i(ae)}).then(function(ae){pe(ae,null),ne({type:"closeDialog"})}).catch(function(ae){$re(ae)?(z(ae),ne({type:"closeDialog"})):Zre(ae)&&(te.current=!1,q.current&&(q.current.value=null,q.current.click()))});return}q.current&&(ne({type:"openDialog"}),P(),q.current.value=null,q.current.click())},[ne,P,z,E,pe,n,a]),rt=b.useCallback(function(U){!B.current||!B.current.isEqualNode(U.target)||(U.key===" "||U.key==="Enter"||U.keyCode===32||U.keyCode===13)&&(U.preventDefault(),We())},[B,We]),Qe=b.useCallback(function(){ne({type:"focus"})},[]),ut=b.useCallback(function(){ne({type:"blur"})},[]),Pe=b.useCallback(function(){M||(Qre()?setTimeout(We,0):We())},[M,We]),ye=function(ae){return r?null:ae},De=function(ae){return C?null:ye(ae)},Je=function(ae){return R?null:ye(ae)},He=function(ae){O&&ae.stopPropagation()},St=b.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=U.refKey,Ee=ae===void 0?"ref":ae,ze=U.role,qe=U.onKeyDown,xt=U.onFocus,$e=U.onBlur,Le=U.onClick,mt=U.onDragEnter,ie=U.onDragOver,Se=U.onDragLeave,Ue=U.onDrop,Ye=l2(U,tie);return gr(gr(d4({onKeyDown:De(ul(qe,rt)),onFocus:De(ul(xt,Qe)),onBlur:De(ul($e,ut)),onClick:ye(ul(Le,Pe)),onDragEnter:Je(ul(mt,he)),onDragOver:Je(ul(ie,we)),onDragLeave:Je(ul(Se,be)),onDrop:Je(ul(Ue,Ke)),role:typeof ze=="string"&&ze!==""?ze:"button"},Ee,B),!r&&!C?{tabIndex:0}:{}),Ye)}},[B,rt,Qe,ut,Pe,he,we,be,Ke,C,R,r]),gt=b.useCallback(function(U){U.stopPropagation()},[]),ft=b.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=U.refKey,Ee=ae===void 0?"ref":ae,ze=U.onChange,qe=U.onClick,xt=l2(U,nie),$e=d4({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:ye(ul(ze,Ke)),onClick:ye(ul(qe,gt)),tabIndex:-1},Ee,q);return gr(gr({},$e),xt)}},[q,n,a,Ke,r]),Lt=G.length,qt=Lt>0&&Wre({files:G,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),Z=Lt>0&&!qt;return gr(gr({},X),{},{isDragAccept:qt,isDragReject:Z,isFocused:se&&!r,getRootProps:St,getInputProps:ft,rootRef:B,inputRef:q,open:ye(We)})}function fie(t,e){switch(e.type){case"focus":return gr(gr({},t),{},{isFocused:!0});case"blur":return gr(gr({},t),{},{isFocused:!1});case"openDialog":return gr(gr({},h4),{},{isFileDialogActive:!0});case"closeDialog":return gr(gr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return gr(gr({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return gr(gr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return gr({},h4);default:return t}}function SR(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var die=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var hie=die;function AR(t){return hie(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var dN=function(e){var n,r;return!(AR(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,AR(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var pie=dN,Yb=function(e){return pie(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var mie=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},gie=Yb,vie=mie;function hN(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];p4(i)&&vie(i,yie,t)}return t}function yie(t,e){if(xie(e)){var n=this[e];p4(t)&&p4(n)?hN(n,t):this[e]=t}}function p4(t){return gie(t)&&!Array.isArray(t)}function xie(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var _ie=hN;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var wie=function(t,e,n,r,i){if(!Eie(t)||!e)return t;if(e=Px(e),n&&(e+="."+Px(n)),r&&(e+="."+Px(r)),i&&(e+="."+Px(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function Eie(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function Px(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Sie=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];n.call(o,u)&&(r[u]=o[u])}return r},Aie=Yb,Mie=Sie,bie=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");MR(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];Cie(n)&&(n=Pie(n)),MR(n)&&(Tie(t,n),Mie(t,n))}return t};function Tie(t,e){for(var n in e)Rie(e,n)&&(t[n]=e[n])}function Cie(t){return t&&typeof t=="string"}function Pie(t){var e={};for(var n in t)e[n]=t[n];return e}function MR(t){return t&&typeof t=="object"||Aie(t)}function Rie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Die=bie,Iie=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=Die({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=t.length,h=-1,g;function v(){if(s&&a.length)return s[a[a.length-1]]}for(;++h<c;){var x=t[h],y=t[h+1],_={val:x,idx:h,arr:l,str:t};if(o.push(_),x==="\\"){_.val=Lie(r,t,h)===!0?x+y:y,_.escaped=!0,typeof n=="function"&&n(_),l[l.length-1]+=_.val,h++;continue}if(s&&s[x]){a.push(x);var E=v(),w=h+1;if(t.indexOf(E,w+1)!==-1)for(;a.length&&w<c;){var M=t[++w];if(M==="\\"){M++;continue}if(i.indexOf(M)!==-1){w=m4(t,M,w+1);continue}if(E=v(),a.length&&t.indexOf(E,w+1)===-1)break;if(s[M]){a.push(M);continue}E===M&&a.pop()}if(g=w,g===-1){l[l.length-1]+=x;continue}x=t.slice(h,g+1),_.val=x,_.idx=h=g}if(i.indexOf(x)!==-1){if(g=m4(t,x,h+1),g===-1){l[l.length-1]+=x;continue}Oie(x,r)===!0?x=t.slice(h,g+1):x=t.slice(h+1,g),_.val=x,_.idx=h=g}if(typeof n=="function"&&(n(_,o),x=_.val,h=_.idx),_.val===u&&_.split!==!1){l.push("");continue}l[l.length-1]+=_.val}return l};function m4(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?m4(t,e,i+1):i}function Oie(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function Lie(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var kie=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},bR=kie,Nie=function(e){bR(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];bR(i)&&zie(e,i)}return e};function zie(t,e){for(var n in e)Bie(e,n)&&(t[n]=e[n])}function Bie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Fie=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Uie=Iie,Hie=Nie,TR=dN,CR=Fie,qie=function(t,e,n){if(!CR(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=Uie(e,{sep:".",brackets:!0}).filter(Vie),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){CR(o[a])||(o[a]={}),o=o[a];continue}TR(o[a])&&TR(n)?o[a]=Hie({},o[a],n):o[a]=n}return t};function Vie(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var DE=Yb,PR=_ie,Gie=wie,RR=qie,Wie=function(e,n,r){if(!DE(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return PR.apply(null,arguments);if(typeof r=="string")return RR(e,n,r),e;var i=Gie(e,n);return DE(r)&&DE(i)&&(r=PR({},i,r)),RR(e,n,r),e};const Qb=(...t)=>t.filter(Boolean).join(".");function jie(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function Yie(t,e){return Object.entries(bte(t,e)).reduce((n,[,{value:r,disabled:i,key:s}])=>(n[s]=i?void 0:r,n),{})}function Qie(t,e){const n=b.useRef();return(e?Gv:C1)(t,n.current)||(n.current=t),n.current}function pN(t,e){return b.useMemo(t,Qie(e,!0))}function Xie(t){const e=b.useRef(null),n=b.useRef(null),r=b.useRef(!0);return b.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),b.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const Kie=t=>{const[e,n]=b.useState(t.getVisiblePaths());return b.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:C1});return()=>r()},[t]),e};function $ie(t,e,n){return t.useStore(i=>{const s=Ot(Ot({},n),i.data);return Yie(s,e)},C1)}function mN(t=3){const e=b.useRef(null),n=b.useRef(null),[r,i]=b.useState(!1),s=b.useCallback(()=>i(!0),[]),o=b.useCallback(()=>i(!1),[]);return b.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=n.current.getBoundingClientRect(),h=a+c>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px",h==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}ure([cre]);const Zie={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};to.extend({color:()=>t=>Cs(t).isValid()});const Jie=t=>to().color().test(t);function gN(t,{format:e,hasAlpha:n,isString:r}){const i=Zie[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?Tte(s,["a"]):s}const vN=(t,e)=>{const n=Cs(t);if(!n.isValid())throw Error("Invalid color");return gN(n,e)},ese=(t,e)=>gN(Cs(t),Ot(Ot({},e),{},{isString:!0,format:"hex"})),tse=({value:t})=>{const e=lre(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:vN(t,i),settings:i}};var nse=Object.freeze({__proto__:null,schema:Jie,sanitize:vN,format:ese,normalize:tse});const rse=Dt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),ise=Dt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),sse=Dt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function DR(t,e){return e!=="rgb"?Cs(t).toRgb():t}function ose({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=ms(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:u,shown:c,show:h,hide:g}=mN(),v=b.useRef(0),[x,y]=b.useState(()=>DR(t,o)),_=a?vre:xre,E=()=>{y(DR(t,o)),h(),i()},w=()=>{g(),s(),window.clearTimeout(v.current)},M=()=>{v.current=window.setTimeout(w,500)};return b.useEffect(()=>()=>window.clearTimeout(v.current),[]),ee.createElement(ee.Fragment,null,ee.createElement(rse,{ref:l,active:c,onClick:()=>E(),style:{color:e}}),c&&ee.createElement(Fb,null,ee.createElement(Bk,{onPointerUp:w}),ee.createElement(sse,{ref:u,onMouseEnter:()=>window.clearTimeout(v.current),onMouseLeave:C=>C.buttons===0&&M()},ee.createElement(_,{color:x,onChange:r}))))}function ase(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=ms();return ee.createElement(sa,{input:!0},ee.createElement(Va,null,n),ee.createElement(ise,null,ee.createElement(ose,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),ee.createElement(Bb,{value:e,onChange:r,onUpdate:i})))}var lse=Ot({component:ase},nse);function use(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ms();return ee.createElement(sa,{input:!0},ee.createElement(Va,null,t),ee.createElement(Hb,{value:e,settings:r,onUpdate:n}))}var cse=Ot({component:use},jk(["x","y","z"]));const fse=Dt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),dse=Dt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function hse({value:t,settings:e,onUpdate:n}){const r=b.useRef(),i=b.useRef(0),s=b.useRef(0),o=b.useRef(1),[a,l]=b.useState(!1),[u,c]=b.useState(!1),[h,g]=Uk(),v=b.useRef(null),x=b.useRef(null);b.useLayoutEffect(()=>{if(a){const{top:Q,left:W,width:X,height:ne}=v.current.getBoundingClientRect();x.current.style.left=W+X/2+"px",x.current.style.top=Q+ne/2+"px"}},[a]);const{keys:[y,_],joystick:E}=e,w=E==="invertY"?1:-1,{[y]:{step:M},[_]:{step:C}}=e,R=mu("sizes","joystickWidth"),O=mu("sizes","joystickHeight"),k=parseFloat(R)*.8/2,P=parseFloat(O)*.8/2,z=b.useCallback(()=>{r.current||(c(!0),i.current&&g({x:i.current*k}),s.current&&g({y:s.current*-P}),r.current=window.setInterval(()=>{n(Q=>{const W=M*i.current*o.current,X=w*C*s.current*o.current;return Array.isArray(Q)?{[y]:Q[0]+W,[_]:Q[1]+X}:{[y]:Q[y]+W,[_]:Q[_]+X}})},16))},[k,P,n,g,M,C,y,_,w]),B=b.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);b.useEffect(()=>{function Q(W){o.current=Ak(W)}return window.addEventListener("keydown",Q),window.addEventListener("keyup",Q),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",Q),window.removeEventListener("keyup",Q)}},[]);const q=D1(({first:Q,active:W,delta:[X,ne],movement:[se,de]})=>{Q&&l(!0);const G=ef(se,-k,k),te=ef(de,-P,P);i.current=Math.abs(se)>Math.abs(G)?Math.sign(se-G):0,s.current=Math.abs(de)>Math.abs(te)?Math.sign(te-de):0;let re=t[y],V=t[_];W?(i.current||(re+=X*M*o.current,g({x:G})),s.current||(V-=w*ne*C*o.current,g({y:te})),i.current||s.current?z():B(),n({[y]:re,[_]:V})):(l(!1),i.current=0,s.current=0,g({x:0,y:0}),B())});return ee.createElement(fse,Ir({ref:v},q()),a&&ee.createElement(Fb,null,ee.createElement(dse,{ref:x,isOutOfBounds:u},ee.createElement("div",null),ee.createElement("span",{ref:h}))))}const pse=Dt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function mse(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ms();return ee.createElement(sa,{input:!0},ee.createElement(Va,null,t),ee.createElement(pse,{withJoystick:!!r.joystick},r.joystick&&ee.createElement(hse,{value:e,settings:r,onUpdate:n}),ee.createElement(Hb,{value:e,settings:r,onUpdate:n})))}const gse=["joystick"],yN=jk(["x","y"]),vse=t=>{let{joystick:e=!0}=t,n=Vn(t,gse);const{value:r,settings:i}=yN.normalize(n);return{value:r,settings:Ot(Ot({},i),{},{joystick:e})}};var yse=Ot(Ot({component:mse},yN),{},{normalize:vse});const xse=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},_se=(t,e)=>typeof e=="object"&&"image"in e,wse=({image:t})=>({value:t});var Ese=Object.freeze({__proto__:null,sanitize:xse,schema:_se,normalize:wse});const Sse=Dt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Ase=Dt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Mse=Dt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),bse=Dt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Tse=Dt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Cse=Dt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Pse(){const{label:t,value:e,onUpdate:n,disabled:r}=ms(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=mN(),u=b.useCallback(x=>{x.length&&n(x[0])},[n]),c=b.useCallback(x=>{x.stopPropagation(),n(void 0)},[n]),{getRootProps:h,getInputProps:g,isDragAccept:v}=fN({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return ee.createElement(sa,{input:!0},ee.createElement(Va,null,t),ee.createElement(Sse,null,ee.createElement(Mse,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&ee.createElement(Fb,null,ee.createElement(Bk,{onPointerUp:l,style:{cursor:"pointer"}}),ee.createElement(bse,{ref:s,style:{backgroundImage:`url(${e})`}})),ee.createElement(Ase,h({isDragAccept:v}),ee.createElement("input",g()),ee.createElement(Tse,null,v?"drop image":"click or drop")),ee.createElement(Cse,{onClick:c,disabled:!e})))}var Rse=Ot({component:Pse},Ese);const IR=to().number(),Dse=(t,e)=>to().array().length(2).every.number().test(t)&&to().schema({min:IR,max:IR}).test(e),u2=t=>({min:t[0],max:t[1]}),xN=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?u2(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=Ot(Ot({},s),i);return[ef(Number(o),e,Math.max(e,a)),ef(Number(a),Math.min(n,o),n)]},Ise=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=Wk(u2(t),{min:r,max:r}),s=[e,n],o=Ot(Ot({},i),{},{bounds:s});return{value:xN(u2(t),o,t),settings:o}};var Ose=Object.freeze({__proto__:null,schema:Dse,format:u2,sanitize:xN,normalize:Ise});const Lse=["value","bounds","onDrag"],kse=["bounds"],Nse=Dt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function zse(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=Vn(t,Lse);const o=b.useRef(null),a=b.useRef(null),l=b.useRef(null),u=b.useRef(0),c=mu("sizes","scrubberWidth"),h=D1(({event:x,first:y,xy:[_],movement:[E],memo:w={}})=>{if(y){const{width:C,left:R}=o.current.getBoundingClientRect();u.current=C-parseFloat(c);const O=(x==null?void 0:x.target)===a.current||(x==null?void 0:x.target)===l.current;w.pos=i2((_-R)/C,n,r);const k=Math.abs(w.pos-e.min)-Math.abs(w.pos-e.max);w.key=k<0||k===0&&w.pos<=e.min?"min":"max",O&&(w.pos=e[w.key])}const M=w.pos+i2(E/u.current,0,r-n);return i({[w.key]:mne(M,s[w.key])}),w}),g=`calc(${r2(e.min,n,r)} * (100% - ${c} - 8px) + 4px)`,v=`calc(${1-r2(e.max,n,r)} * (100% - ${c} - 8px) + 4px)`;return ee.createElement(qk,Ir({ref:o},h()),ee.createElement(Hk,null,ee.createElement(Vk,{style:{left:g,right:v}})),ee.createElement(r4,{position:"left",ref:a,style:{left:g}}),ee.createElement(r4,{position:"right",ref:l,style:{right:v}}))}function Bse(){const{label:t,displayValue:e,onUpdate:n,settings:r}=ms(),i=Vn(r,kse);return ee.createElement(ee.Fragment,null,ee.createElement(sa,{input:!0},ee.createElement(Va,null,t),ee.createElement(Nse,null,ee.createElement(zse,Ir({value:e},r,{onDrag:n})),ee.createElement(Hb,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var Fse=Ot({component:Bse},Ose);const Use=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},Hse=["type","value"],qse=["onChange","transient","onEditStart","onEditEnd"],Vse=function(){const e=a7(SK(()=>({data:{}}))),n=Use();this.storeId=Mte(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,h])=>{h.render&&a.some(g=>g.indexOf(c)===0)&&!h.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(h=>c.indexOf(h)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in Ao&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,h])=>{let g=u[c];if(g){const{type:v,value:x}=h,y=Vn(h,Hse);v!==g.type?ou(vr.INPUT_TYPE_OVERRIDE,v):((g.__refCount===0||a)&&Object.assign(g,y),g.__refCount++)}else u[c]=Ot(Ot({},h),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return nR(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=Ot(Ot({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,h])=>{try{nR(u[c],h,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{ou(vr.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,Ot(Ot({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,Ot(Ot({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,h])=>{if(c==="")return ou(vr.EMPTY_KEY);let g=Qb(a,c);if(h.type===Ao.FOLDER){const v=s(h.schema,g,l);Object.assign(u,v),g in r||(r[g]=h.settings)}else if(c in l)ou(vr.DUPLICATE_KEYS,c,g,l[c].path);else{const v=Ote(h,c,g,u);if(v){const{type:x,options:y,input:_}=v,{onChange:E,transient:w,onEditStart:M,onEditEnd:C}=y,R=Vn(y,qse);u[g]=Ot(Ot(Ot({type:x},R),_),{},{fromPanel:!0}),l[c]={path:g,onChange:E,transient:w,onEditStart:M,onEditEnd:C}}else ou(vr.UNKNOWN_INPUT,g,h)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},_N=new Vse,Gse={collapsed:!1};function Wse(t,e){return{type:Ao.FOLDER,schema:t,settings:Ot(Ot({},Gse),e)}}const jse={disabled:!1};function h_(t,e){return{type:Ao.BUTTON,onClick:t,settings:Ot(Ot({},jse),e)}}function OR(t){return{type:Ao.BUTTON_GROUP,opts:t}}const LR=t=>"__levaInput"in t,Yse=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=jie(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Wie(n,o,{[s]:{__levaInput:!0,path:i}})}),n},Qse=["type","label","path","valueKey","value","settings","setValue","disabled"];function Xse(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,u=Vn(t,Qse);const{displayValue:c,onChange:h,onUpdate:g}=Fk({type:e,value:s,settings:o,setValue:a}),v=uh[e].component;return v?ee.createElement(Pk.Provider,{value:Ot({key:i,path:r,id:""+r,label:n,displayValue:c,value:s,onChange:h,onUpdate:g,settings:o,setValue:a,disabled:l},u)},ee.createElement(Jte,{disabled:l},ee.createElement(v,null))):(ou(vr.NO_COMPONENT_FOR_TYPE,e,r),null)}const Kse=Dt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function $se({onClick:t,settings:e,label:n}){const r=R1();return ee.createElement(sa,null,ee.createElement(Kse,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const Zse=Dt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Jse=Dt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),eoe=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function toe(t){const{label:e,opts:n}=eoe(t),r=R1();return ee.createElement(sa,{input:!!e},e&&ee.createElement(Va,null,e),ee.createElement(Zse,null,Object.entries(n).map(([i,s])=>ee.createElement(Jse,{key:i,onClick:()=>s(r.get)},i))))}const noe=Dt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),wN=100;function roe(t,e){t.push(e),t.length>wN&&t.shift()}const ioe=b.forwardRef(function({initialValue:t},e){const n=mu("colors","highlight3"),r=mu("colors","elevation2"),i=mu("colors","highlight1"),[s,o]=b.useMemo(()=>[Cs(i).alpha(.4).toRgbString(),Cs(i).alpha(.1).toRgbString()],[i]),a=b.useRef([t]),l=b.useRef(t),u=b.useRef(t),c=b.useRef(),h=b.useCallback((x,y)=>{if(!x)return;const{width:_,height:E}=x,w=new Path2D,M=_/wN,C=E*.05;for(let k=0;k<a.current.length;k++){const P=r2(a.current[k],l.current,u.current),z=M*k,B=E-P*(E-C*2)-C;w.lineTo(z,B)}y.clearRect(0,0,_,E);const R=new Path2D(w);R.lineTo(M*(a.current.length+1),E),R.lineTo(0,E),R.lineTo(0,0);const O=y.createLinearGradient(0,0,0,E);O.addColorStop(0,s),O.addColorStop(1,o),y.fillStyle=O,y.fill(R),y.strokeStyle=r,y.lineJoin="round",y.lineWidth=14,y.stroke(w),y.strokeStyle=n,y.lineWidth=2,y.stroke(w)},[n,r,s,o]),[g,v]=lne(h);return b.useImperativeHandle(e,()=>({frame:x=>{(l.current===void 0||x<l.current)&&(l.current=x),(u.current===void 0||x>u.current)&&(u.current=x),roe(a.current,x),c.current=requestAnimationFrame(()=>h(g.current,v.current))}}),[g,v,h]),b.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),ee.createElement(noe,{ref:g})}),kR=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),soe=b.forwardRef(function({initialValue:t},e){const[n,r]=b.useState(kR(t));return b.useImperativeHandle(e,()=>({frame:i=>r(kR(i))}),[]),ee.createElement("div",null,n)});function NR(t){return typeof t=="function"?t():t.current}function ooe({label:t,objectOrFn:e,settings:n}){const r=b.useRef(),i=b.useRef(NR(e));return b.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(NR(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),ee.createElement(sa,{input:!0},ee.createElement(Va,{align:"top"},t),n.graph?ee.createElement(ioe,{ref:r,initialValue:i.current}):ee.createElement(soe,{ref:r,initialValue:i.current}))}const aoe=["type","label","key"],loe={[Ao.BUTTON]:$se,[Ao.BUTTON_GROUP]:toe,[Ao.MONITOR]:ooe},uoe=ee.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=cne(t);if(!e)return null;const{type:l,label:u,key:c}=e,h=Vn(e,aoe);if(l in Ao){const g=loe[l];return ee.createElement(g,Ir({label:u,path:t},h))}return l in uh?ee.createElement(Xse,Ir({key:s+t,type:l,label:u,storeId:s,path:t,valueKey:c,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},h)):(vte(vr.UNSUPPORTED_INPUT,l,t),null)});function coe({toggle:t,toggled:e,name:n}){return ee.createElement(Kte,{onClick:()=>t()},ee.createElement(Ub,{toggled:e}),ee.createElement("div",null,n))}const foe=({name:t,path:e,tree:n})=>{const r=R1(),i=Qb(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=b.useState(!s),u=b.useRef(null),c=mu("colors","folderWidgetColor"),h=mu("colors","folderTextColor");return b.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||h)},[o,c,h]),ee.createElement(s2,{ref:u},ee.createElement(coe,{name:t,toggled:a,toggle:()=>l(g=>!g)}),ee.createElement(EN,{parent:i,tree:n,toggled:a}))},EN=ee.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Xie(s),l=R1(),u=([h,g])=>{var v;return(LR(g)?(v=l.getInput(g.path))===null||v===void 0?void 0:v.order:l.getFolderSettings(Qb(r,h)).order)||0},c=Object.entries(i).sort((h,g)=>u(h)-u(g));return ee.createElement(t4,{ref:o,isRoot:t,fill:e,flat:n},ee.createElement(kk,{ref:a,isRoot:t,toggled:s},c.map(([h,g])=>LR(g)?ee.createElement(uoe,{key:g.path,valueKey:g.valueKey,path:g.path}):ee.createElement(foe,{key:h,name:h,path:r,tree:g}))))}),doe=Dt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${zk}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),SN=40,c2=Dt("i",{$flexCenter:"",width:SN,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),hoe=Dt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),poe=Dt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${c2}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),moe=Dt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),goe=Dt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:SN}}}}),voe=ee.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=b.useState(""),s=b.useMemo(()=>Sk(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return b.useEffect(()=>{s(r)},[r,s]),ee.createElement(ee.Fragment,null,ee.createElement(moe,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),ee.createElement(c2,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function yoe({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,h]=b.useState(!1),g=b.useRef(null);b.useEffect(()=>{var x,y;c?(x=g.current)===null||x===void 0||x.focus():(y=g.current)===null||y===void 0||y.blur()},[c]);const v=D1(({offset:[x,y],first:_,last:E})=>{e({x,y}),_&&n({x,y}),E&&r({x,y})},{filterTaps:!0,from:({offset:[x,y]})=>[(u==null?void 0:u.x)||x,(u==null?void 0:u.y)||y]});return b.useEffect(()=>{const x=y=>{y.key==="L"&&y.shiftKey&&y.metaKey&&h(_=>!_)};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]),ee.createElement(ee.Fragment,null,ee.createElement(hoe,{mode:a?"drag":void 0},ee.createElement(c2,{active:!s,onClick:()=>i()},ee.createElement(Ub,{toggled:s,width:12,height:8})),ee.createElement(goe,Ir({},a?v():{},{drag:a,filterEnabled:l}),o===void 0&&a?ee.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ee.createElement("circle",{cx:"2",cy:"2",r:"2"}),ee.createElement("circle",{cx:"14",cy:"2",r:"2"}),ee.createElement("circle",{cx:"26",cy:"2",r:"2"}),ee.createElement("circle",{cx:"2",cy:"12",r:"2"}),ee.createElement("circle",{cx:"14",cy:"12",r:"2"}),ee.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&ee.createElement(c2,{active:c,onClick:()=>h(x=>!x)},ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ee.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ee.createElement(poe,{toggled:c},ee.createElement(voe,{ref:g,setFilter:t,toggle:i})))}const xoe=["store","hidden","theme","collapsed"];function _oe(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,s=Vn(t,xoe);const o=pN(()=>Gte(r),[r]),[a,l]=b.useState(!i),u=typeof i=="object"?!i.collapsed:a,c=b.useMemo(()=>typeof i=="object"?h=>{typeof h=="function"?i.onChange(!h(!i.collapsed)):i.onChange(!h)}:l,[i]);return!e||n?null:ee.createElement(zb.Provider,{value:o},ee.createElement(woe,Ir({store:e},s,{toggled:u,setToggle:c,rootClass:o.className})))}const woe=ee.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,h;const g=Kie(t),[v,x]=b.useState(""),y=b.useMemo(()=>Yse(g,v),[g,v]),[_,E]=Uk(),w=i||g.length>0,M=typeof o=="object"&&o.title||void 0,C=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,R=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0,O=typeof o=="object"&&o.position||void 0,k=typeof o=="object"&&o.onDrag||void 0,P=typeof o=="object"&&o.onDragStart||void 0,z=typeof o=="object"&&o.onDragEnd||void 0;return ee.useEffect(()=>{E({x:O==null?void 0:O.x,y:O==null?void 0:O.y})},[O,E]),Vte(),ee.createElement(Dk.Provider,{value:{hideCopyButton:a}},ee.createElement(doe,{ref:_,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:w?"block":"none"}},o&&ee.createElement(yoe,{onDrag:B=>{E(B),k==null||k(B)},onDragStart:B=>P==null?void 0:P(B),onDragEnd:B=>z==null?void 0:z(B),setFilter:x,toggle:B=>u(q=>B??!q),toggled:l,title:M,drag:C,filterEnabled:R,from:O}),w&&ee.createElement(Rk.Provider,{value:t},ee.createElement(EN,{isRoot:!0,fill:n,flat:r,tree:y,toggled:l}))))}),Eoe=["isRoot"];let f2=!1,Nd=null;function Soe(t){let{isRoot:e=!1}=t,n=Vn(t,Eoe);return b.useEffect(()=>(f2=!0,!e&&Nd&&(Nd.remove(),Nd=null),()=>{e||(f2=!1)}),[e]),ee.createElement(_oe,Ir({store:_N},n))}function Aoe(t){b.useEffect(()=>{t&&!f2&&(Nd||(Nd=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Nd),kte(ee.createElement(Soe,{isRoot:!0}),Nd))),f2=!0)},[t])}function Moe(t,e,n,r,i){let s,o,a,l,u;return typeof t=="string"?(o=t,s=e,Array.isArray(n)?u=n:n&&("store"in n?(l=n,u=r):(a=n,Array.isArray(r)?u=r:(l=r,u=i)))):(s=t,Array.isArray(e)?u=e:(l=e,u=n)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:u||[]}}function Yr(t,e,n,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:u}=Moe(t,e,n,r,i),c=typeof o=="function",h=b.useRef(!1),g=b.useRef(!0),v=pN(()=>{h.current=!0;const q=typeof o=="function"?o():o;return s?{[s]:Wse(q,a)}:q},u),x=!(l!=null&&l.store);Aoe(x);const[y]=b.useState(()=>(l==null?void 0:l.store)||_N),[_,E]=b.useMemo(()=>y.getDataFromSchema(v),[y,v]),[w,M,C,R,O]=b.useMemo(()=>{const q=[],Q=[],W={},X={},ne={};return Object.values(E).forEach(({path:se,onChange:de,onEditStart:G,onEditEnd:te,transient:re})=>{q.push(se),de?(W[se]=de,re||Q.push(se)):Q.push(se),G&&(X[se]=G),te&&(ne[se]=te)}),[q,Q,W,X,ne]},[E]),k=b.useMemo(()=>y.orderPaths(w),[w,y]),P=$ie(y,M,_),z=b.useCallback(q=>{const Q=Object.entries(q).reduce((W,[X,ne])=>Object.assign(W,{[E[X].path]:ne}),{});y.set(Q,!1)},[y,E]),B=b.useCallback(q=>y.get(E[q].path),[y,E]);return b.useEffect(()=>{const q=!g.current&&h.current;return y.addData(_,q),g.current=!1,h.current=!1,()=>y.disposePaths(k)},[y,k,_]),b.useEffect(()=>{const q=[];return Object.entries(C).forEach(([Q,W])=>{W(y.get(Q),Q,Ot({initial:!0,get:y.get},y.getInput(Q)));const X=y.useStore.subscribe(ne=>{const se=ne.data[Q];return[se.disabled?void 0:se.value,se]},([ne,se])=>W(ne,Q,Ot({initial:!1,get:y.get},se)),{equalityFn:C1});q.push(X)}),()=>q.forEach(Q=>Q())},[y,C]),b.useEffect(()=>{const q=[];return Object.entries(R).forEach(([Q,W])=>q.push(y.subscribeToEditStart(Q,W))),Object.entries(O).forEach(([Q,W])=>q.push(y.subscribeToEditEnd(Q,W))),()=>q.forEach(Q=>Q())},[R,O,y]),c?[P,z,B]:P}ku(Ua.SELECT,Tne);ku(Ua.IMAGE,Rse);ku(Ua.NUMBER,vne);ku(Ua.COLOR,lse);ku(Ua.STRING,Nne);ku(Ua.BOOLEAN,Vne);ku(Ua.INTERVAL,Fse);ku(Ua.VECTOR3D,cse);ku(Ua.VECTOR2D,yse);/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}var Oc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oc||(Oc={}));const zR="popstate";function boe(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=_h(i.location.hash.substr(1));return g4("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:AN(s))}function r(i,s){Toe(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Poe(e,n,r,t)}function Oi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Toe(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Coe(){return Math.random().toString(36).substr(2,8)}function BR(t,e){return{usr:t.state,key:t.key,idx:e}}function g4(t,e,n,r){return n===void 0&&(n=null),jv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_h(e):e,{state:n,key:e&&e.key||r||Coe()})}function AN(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _h(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Poe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Oc.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(jv({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Oc.Pop;let _=c(),E=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:E})}function g(_,E){a=Oc.Push;let w=g4(y.location,_,E);n&&n(w,_),u=c()+1;let M=BR(w,u),C=y.createHref(w);try{o.pushState(M,"",C)}catch{i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function v(_,E){a=Oc.Replace;let w=g4(y.location,_,E);n&&n(w,_),u=c();let M=BR(w,u),C=y.createHref(w);o.replaceState(M,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function x(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:AN(_);return Oi(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let y={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zR,h),l=_,()=>{i.removeEventListener(zR,h),l=null}},createHref(_){return e(i,_)},createURL:x,encodeLocation(_){let E=x(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:v,go(_){return o.go(_)}};return y}var FR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(FR||(FR={}));function Roe(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_h(e):e,i=TN(r.pathname||"/",n);if(i==null)return null;let s=MN(t);Doe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Uoe(s[a],Voe(i));return o}function MN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Oi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Xd([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Oi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),MN(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Boe(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bN(s.path))i(s,o,l)}),e}function bN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Doe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Foe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ioe=/^:\w+$/,Ooe=3,Loe=2,koe=1,Noe=10,zoe=-2,UR=t=>t==="*";function Boe(t,e){let n=t.split("/"),r=n.length;return n.some(UR)&&(r+=zoe),e&&(r+=Loe),n.filter(i=>!UR(i)).reduce((i,s)=>i+(Ioe.test(s)?Ooe:s===""?koe:Noe),r)}function Foe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Uoe(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Hoe({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Xd([i,c.pathname]),pathnameBase:Xoe(Xd([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Xd([i,c.pathnameBase]))}return s}function Hoe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qoe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return u[c]=Goe(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function qoe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Voe(t){try{return decodeURI(t)}catch(e){return Xb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Goe(t,e){try{return decodeURIComponent(t)}catch(n){return Xb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function TN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Xb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Woe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_h(t):t;return{pathname:n?n.startsWith("/")?n:joe(n,e):e,search:Koe(r),hash:$oe(i)}}function joe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function IE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yoe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qoe(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_h(t):(i=jv({},t),Oi(!i.pathname||!i.pathname.includes("?"),IE("?","pathname","search",i)),Oi(!i.pathname||!i.pathname.includes("#"),IE("#","pathname","hash",i)),Oi(!i.search||!i.search.includes("#"),IE("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}a=h>=0?e[h]:"/"}let l=Woe(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Xd=t=>t.join("/").replace(/\/\/+/g,"/"),Xoe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Koe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$oe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zoe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Joe=["post","put","patch","delete"];[...Joe];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v4(){return v4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v4.apply(this,arguments)}function eae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const tae=typeof Object.is=="function"?Object.is:eae,{useState:nae,useEffect:rae,useLayoutEffect:iae,useDebugValue:sae}=w_;function oae(t,e,n){const r=e(),[{inst:i},s]=nae({inst:{value:r,getSnapshot:e}});return iae(()=>{i.value=r,i.getSnapshot=e,OE(i)&&s({inst:i})},[t,r,e]),rae(()=>(OE(i)&&s({inst:i}),t(()=>{OE(i)&&s({inst:i})})),[t]),sae(r),r}function OE(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!tae(n,r)}catch{return!0}}function aae(t,e,n){return e()}const lae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uae=!lae,cae=uae?aae:oae;"useSyncExternalStore"in w_&&(t=>t.useSyncExternalStore)(w_);const CN=b.createContext(null),PN=b.createContext(null),Kb=b.createContext(null),g3=b.createContext(null),ug=b.createContext({outlet:null,matches:[]}),RN=b.createContext(null);function v3(){return b.useContext(g3)!=null}function Yv(){return v3()||Oi(!1),b.useContext(g3).location}function cg(){v3()||Oi(!1);let{basename:t,navigator:e}=b.useContext(Kb),{matches:n}=b.useContext(ug),{pathname:r}=Yv(),i=JSON.stringify(Yoe(n).map(a=>a.pathnameBase)),s=b.useRef(!1);return b.useEffect(()=>{s.current=!0}),b.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Qoe(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Xd([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function fae(){let{matches:t}=b.useContext(ug),e=t[t.length-1];return e?e.params:{}}function dae(t,e){v3()||Oi(!1);let{navigator:n}=b.useContext(Kb),r=b.useContext(PN),{matches:i}=b.useContext(ug),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Yv(),u;if(e){var c;let y=typeof e=="string"?_h(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Oi(!1),u=y}else u=l;let h=u.pathname||"/",g=a==="/"?h:h.slice(a.length)||"/",v=Roe(t,{pathname:g}),x=gae(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Xd([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Xd([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return e&&x?b.createElement(g3.Provider,{value:{location:v4({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oc.Pop}},x):x}function hae(){let t=_ae(),e=Zoe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}class pae extends b.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(ug.Provider,{value:this.props.routeContext},b.createElement(RN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mae(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(CN);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ug.Provider,{value:e},r)}function gae(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Oi(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||b.createElement(hae,null):null,c=e.concat(r.slice(0,a+1)),h=()=>b.createElement(mae,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?b.createElement(pae,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var HR;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(HR||(HR={}));var d2;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(d2||(d2={}));function vae(t){let e=b.useContext(PN);return e||Oi(!1),e}function yae(t){let e=b.useContext(ug);return e||Oi(!1),e}function xae(t){let e=yae(),n=e.matches[e.matches.length-1];return n.route.id||Oi(!1),n.route.id}function _ae(){var t;let e=b.useContext(RN),n=vae(d2.UseRouteError),r=xae(d2.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function jo(t){Oi(!1)}function wae(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oc.Pop,navigator:s,static:o=!1}=t;v3()&&Oi(!1);let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=_h(r));let{pathname:u="/",search:c="",hash:h="",state:g=null,key:v="default"}=r,x=b.useMemo(()=>{let y=TN(u,a);return y==null?null:{pathname:y,search:c,hash:h,state:g,key:v}},[a,u,c,h,g,v]);return x==null?null:b.createElement(Kb.Provider,{value:l},b.createElement(g3.Provider,{children:n,value:{location:x,navigationType:i}}))}function Eae(t){let{children:e,location:n}=t,r=b.useContext(CN),i=r&&!e?r.router.routes:y4(e);return dae(i,n)}var qR;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(qR||(qR={}));new Promise(()=>{});function y4(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;if(r.type===b.Fragment){n.push.apply(n,y4(r.props.children,e));return}r.type!==jo&&Oi(!1),!r.props.index||!r.props.children||Oi(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=y4(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sae(t){let{basename:e,children:n,window:r}=t,i=b.useRef();i.current==null&&(i.current=boe({window:r,v5Compat:!0}));let s=i.current,[o,a]=b.useState({action:s.action,location:s.location});return b.useLayoutEffect(()=>s.listen(a),[s]),b.createElement(wae,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var VR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(VR||(VR={}));var GR;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GR||(GR={}));function DN(){const{setGameParameters:t}=b.useContext(Bs),e=Yv().pathname[1]==="3",n=Yv().pathname[1]==="2",{zoom:r}=e&&Yr({zoom:{value:.8,min:0,max:2.5,step:.01}}),{"bloom %":i}=e&&Yr({"bloom %":{value:1.5,min:0,max:5.5,step:.01}}),{interval:s}=Yr({interval:{value:600,min:0,max:1500,step:1}}),{wrap:o}=Yr({wrap:!0}),{"block color":a}=e&&Yr({"block color":"hotpink"}),{"cell color":l}=n&&Yr({"cell color":"rgb(250, 162, 55)"}),{edges:u}=e&&Yr({edges:"grey"}),{"box shadow":c}=n&&Yr({"box shadow":"rgb(187, 100, 1)"}),{"3D text":h}=e&&Yr({"3D text":!0}),{interact:g}=Yr({interact:!0}),{background:v}=n&&Yr({background:"rgb(22, 19, 15)"});e&&Al(x=>{x.camera.zoom=ih.lerp(x.camera.zoom,r*5.3,.4),x.camera.updateProjectionMatrix()}),b.useEffect(()=>{t(x=>({...x,bloomIntensity:i}))},[i]),b.useEffect(()=>{t(x=>({...x,floating3DText:h}))},[h]),b.useEffect(()=>{t(x=>({...x,edgeColor:u}))},[u]),b.useEffect(()=>{t(x=>({...x,boxShadow:c}))},[c]),b.useEffect(()=>{t(x=>({...x,interval:s}))},[s]),b.useEffect(()=>{t(x=>({...x,wrap:o}))},[o]),b.useEffect(()=>{t(x=>({...x,emissive:a}))},[a]),b.useEffect(()=>{t(x=>({...x,cellColor:l}))},[l]),b.useEffect(()=>{t(x=>({...x,interact:g}))},[g]),b.useEffect(()=>{t(x=>({...x,background:v}))},[v])}var x4={},Aae={get exports(){return x4},set exports(t){x4=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Aae);const Wt=x4,Mae=["as","disabled"];function bae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tae(t){return!t||t.trim()==="#"}function $b({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=g=>{if((e||t==="a"&&Tae(n))&&g.preventDefault(),e){g.stopPropagation();return}o==null||o(g)},h=g=>{g.key===" "&&(g.preventDefault(),c(g))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:h},u]}const Zb=b.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=bae(t,Mae);const[s,{tagName:o}]=$b(Object.assign({tagName:n,disabled:r},i));return H(o,Object.assign({},i,s,{ref:e}))});Zb.displayName="Button";const Cae=["xxl","xl","lg","md","sm","xs"],Pae="xs",y3=b.createContext({prefixes:{},breakpoints:Cae,minBreakpoint:Pae});function mn(t,e){const{prefixes:n}=b.useContext(y3);return t||n[e]||e}function Rae(){const{breakpoints:t}=b.useContext(y3);return t}function Dae(){const{minBreakpoint:t}=b.useContext(y3);return t}function IN(){const{dir:t}=b.useContext(y3);return t==="rtl"}const Iae={variant:"primary",active:!1,disabled:!1},Dr=b.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=mn(e,"btn"),[u,{tagName:c}]=$b({tagName:t,...o});return H(c,{...u,...o,ref:a,className:Wt(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});Dr.displayName="Button";Dr.defaultProps=Iae;function Kd(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WR(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Oae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:String(e)}function Lae(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ON(t,e,n){var r=b.useRef(t!==void 0),i=b.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,b.useCallback(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),g=1;g<c;g++)h[g-1]=arguments[g];n&&n.apply(void 0,[u].concat(h)),o(u)},[n])]}function x3(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[WR(r)],a=s[r],l=Kd(s,[WR(r),r].map(Oae)),u=e[r],c=ON(a,o,t[u]),h=c[0],g=c[1];return It({},l,(i={},i[r]=h,i[u]=g,i))},t)}function _4(t,e){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_4(t,e)}function kae(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_4(t,e)}function Nae(t){var e=b.useRef(t);return b.useEffect(function(){e.current=t},[t]),e}function wr(t){var e=Nae(t);return b.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function LN(){return b.useState(null)}function zae(t,e,n,r){r===void 0&&(r=!1);var i=wr(n);b.useEffect(function(){var s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),function(){return s.removeEventListener(e,i,r)}},[t])}function kN(){var t=b.useRef(!0),e=b.useRef(function(){return t.current});return b.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function NN(t){var e=b.useRef(null);return b.useEffect(function(){e.current=t}),e.current}var Bae=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Fae=typeof document<"u";const h2=Fae||Bae?b.useLayoutEffect:b.useEffect,Uae=["onKeyDown"];function Hae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qae(t){return!t||t.trim()==="#"}const zN=b.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Hae(t,Uae);const[i]=$b(Object.assign({tagName:"a"},r)),s=wr(o=>{i.onKeyDown(o),n==null||n(o)});return qae(r.href)||r.role==="button"?H("a",Object.assign({ref:e},r,i,{onKeyDown:s})):H("a",Object.assign({ref:e},r,{onKeyDown:n}))});zN.displayName="Anchor";const Jb=zN,jR={disabled:!1},BN=ee.createContext(null);var Vae=function(e){return e.scrollTop},N0="unmounted",Mc="exited",Da="entering",au="entered",Qv="exiting",Nu=function(t){kae(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Mc,s.appearStatus=Da):l=au:r.unmountOnExit||r.mountOnEnter?l=N0:l=Mc,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===N0?{status:Mc}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Da&&o!==au&&(s=Da):(o===Da||o===au)&&(s=Qv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Da){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:fu.findDOMNode(this);o&&Vae(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mc&&this.setState({status:N0})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[fu.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),g=a?h.appear:h.enter;if(!i&&!o||jR.disabled){this.safeSetState({status:au},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Da},function(){s.props.onEntering(u,c),s.onTransitionEnd(g,function(){s.safeSetState({status:au},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:fu.findDOMNode(this);if(!s||jR.disabled){this.safeSetState({status:Mc},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Qv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Mc},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:fu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===N0)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Kd(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ee.createElement(BN.Provider,{value:null},typeof o=="function"?o(i,a):ee.cloneElement(ee.Children.only(o),a))},e}(ee.Component);Nu.contextType=BN;Nu.propTypes={};function kp(){}Nu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kp,onEntering:kp,onEntered:kp,onExit:kp,onExiting:kp,onExited:kp};Nu.UNMOUNTED=N0;Nu.EXITED=Mc;Nu.ENTERING=Da;Nu.ENTERED=au;Nu.EXITING=Qv;function L1(t){return t&&t.ownerDocument||document}function Gae(t){var e=L1(t);return e&&e.defaultView||window}function Wae(t,e){return Gae(t).getComputedStyle(t,e)}var jae=/([A-Z])/g;function Yae(t){return t.replace(jae,"-$1").toLowerCase()}var Qae=/^ms-/;function Rx(t){return Yae(t).replace(Qae,"-ms-")}var Xae=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Kae(t){return!!(t&&Xae.test(t))}function gu(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Rx(e))||Wae(t).getPropertyValue(Rx(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Rx(i)):Kae(i)?r+=i+"("+s+") ":n+=Rx(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const fg=!!(typeof window<"u"&&window.document&&window.document.createElement);var w4=!1,E4=!1;try{var LE={get passive(){return w4=!0},get once(){return E4=w4=!0}};fg&&(window.addEventListener("test",LE,LE),window.removeEventListener("test",LE,!0))}catch{}function eT(t,e,n,r){if(r&&typeof r!="boolean"&&!E4){var i=r.once,s=r.capture,o=n;!E4&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,w4?r:s)}t.addEventListener(e,n,r)}function S4(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Lc(t,e,n,r){return eT(t,e,n,r),function(){S4(t,e,n,r)}}function $ae(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function Zae(t){var e=gu(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Jae(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||$ae(t,"transitionend",!0)},e+n),s=Lc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function FN(t,e,n,r){n==null&&(n=Zae(t)||0);var i=Jae(t,n,r),s=Lc(t,"transitionend",e);return function(){i(),s()}}function YR(t,e){const n=gu(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function tT(t,e){const n=YR(t,"transitionDuration"),r=YR(t,"transitionDelay"),i=FN(t,s=>{s.target===t&&(i(),e(s))},n+r)}function UN(t){t.offsetHeight}var QR=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function ele(t,e){var n=QR(t),r=QR(e);return function(i){n&&n(i),r&&r(i)}}function wh(t,e){return b.useMemo(function(){return ele(t,e)},[t,e])}function tle(t){return t&&"setState"in t?fu.findDOMNode(t):t??null}const nT=ee.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const h=b.useRef(null),g=wh(h,l),v=O=>{g(tle(O))},x=O=>k=>{O&&h.current&&O(h.current,k)},y=b.useCallback(x(t),[t]),_=b.useCallback(x(e),[e]),E=b.useCallback(x(n),[n]),w=b.useCallback(x(r),[r]),M=b.useCallback(x(i),[i]),C=b.useCallback(x(s),[s]),R=b.useCallback(x(o),[o]);return H(Nu,{ref:c,...u,onEnter:y,onEntered:E,onEntering:_,onExit:w,onExited:C,onExiting:M,addEndListener:R,nodeRef:h,children:typeof a=="function"?(O,k)=>a(O,{...k,ref:v}):ee.cloneElement(a,{ref:v})})}),nle={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},rle={[Da]:"show",[au]:"show"},Eh=b.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=b.useCallback((o,a)=>{UN(o),r.onEnter==null||r.onEnter(o,a)},[r]);return H(nT,{ref:i,addEndListener:tT,...r,onEnter:s,childRef:e.ref,children:(o,a)=>b.cloneElement(e,{...a,className:Wt("fade",t,e.props.className,rle[o],n[o])})})});Eh.defaultProps=nle;Eh.displayName="Fade";const ile={"aria-label":Vt.string,onClick:Vt.func,variant:Vt.oneOf(["white"])},sle={"aria-label":"Close"},k1=b.forwardRef(({className:t,variant:e,...n},r)=>H("button",{ref:r,type:"button",className:Wt("btn-close",e&&`btn-close-${e}`,t),...n}));k1.displayName="CloseButton";k1.propTypes=ile;k1.defaultProps=sle;const N1=t=>b.forwardRef((e,n)=>H("div",{...e,ref:n,className:Wt(e.className,t)}));var ole=/-(.)/g;function ale(t){return t.replace(ole,function(e,n){return n.toUpperCase()})}const lle=t=>t[0].toUpperCase()+ale(t).slice(1);function Kr(t,{displayName:e=lle(t),Component:n,defaultProps:r}={}){const i=b.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},u)=>{const c=mn(o,t);return H(a,{ref:u,className:Wt(s,c),...l})});return i.defaultProps=r,i.displayName=e,i}const HN=N1("h4");HN.displayName="DivStyledAsH4";const ule=Kr("alert-heading",{Component:HN}),cle=Kr("alert-link",{Component:Jb}),fle={variant:"primary",show:!0,transition:Eh,closeLabel:"Close alert"},rT=b.forwardRef((t,e)=>{const{bsPrefix:n,show:r,closeLabel:i,closeVariant:s,className:o,children:a,variant:l,onClose:u,dismissible:c,transition:h,...g}=x3(t,{show:"onClose"}),v=mn(n,"alert"),x=wr(E=>{u&&u(!1,E)}),y=h===!0?Eh:h,_=Be("div",{role:"alert",...y?void 0:g,ref:e,className:Wt(o,v,l&&`${v}-${l}`,c&&`${v}-dismissible`),children:[c&&H(k1,{onClick:x,"aria-label":i,variant:s}),a]});return y?H(y,{unmountOnExit:!0,...g,ref:void 0,in:r,children:_}):r?_:null});rT.displayName="Alert";rT.defaultProps=fle;const Er=Object.assign(rT,{Link:cle,Heading:ule});function qN(t,e){return function(){return t.apply(e,arguments)}}const{toString:VN}=Object.prototype,{getPrototypeOf:iT}=Object,sT=(t=>e=>{const n=VN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zu=t=>(t=t.toLowerCase(),e=>sT(e)===t),_3=t=>e=>typeof e===t,{isArray:dg}=Array,Xv=_3("undefined");function dle(t){return t!==null&&!Xv(t)&&t.constructor!==null&&!Xv(t.constructor)&&tf(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const GN=zu("ArrayBuffer");function hle(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&GN(t.buffer),e}const ple=_3("string"),tf=_3("function"),WN=_3("number"),oT=t=>t!==null&&typeof t=="object",mle=t=>t===!0||t===!1,p_=t=>{if(sT(t)!=="object")return!1;const e=iT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gle=zu("Date"),vle=zu("File"),yle=zu("Blob"),xle=zu("FileList"),_le=t=>oT(t)&&tf(t.pipe),wle=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||VN.call(t)===e||tf(t.toString)&&t.toString()===e)},Ele=zu("URLSearchParams"),Sle=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function z1(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),dg(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function jN(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const YN=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),QN=t=>!Xv(t)&&t!==YN;function A4(){const{caseless:t}=QN(this)&&this||{},e={},n=(r,i)=>{const s=t&&jN(e,i)||i;p_(e[s])&&p_(r)?e[s]=A4(e[s],r):p_(r)?e[s]=A4({},r):dg(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&z1(arguments[r],n);return e}const Ale=(t,e,n,{allOwnKeys:r}={})=>(z1(e,(i,s)=>{n&&tf(i)?t[s]=qN(i,n):t[s]=i},{allOwnKeys:r}),t),Mle=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ble=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Tle=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&iT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Cle=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Ple=t=>{if(!t)return null;if(dg(t))return t;let e=t.length;if(!WN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Rle=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&iT(Uint8Array)),Dle=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Ile=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Ole=zu("HTMLFormElement"),Lle=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),XR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),kle=zu("RegExp"),XN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};z1(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},Nle=t=>{XN(t,(e,n)=>{if(tf(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(tf(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zle=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return dg(t)?r(t):r(String(t).split(e)),n},Ble=()=>{},Fle=(t,e)=>(t=+t,Number.isFinite(t)?t:e),kE="abcdefghijklmnopqrstuvwxyz",KR="0123456789",KN={DIGIT:KR,ALPHA:kE,ALPHA_DIGIT:kE+kE.toUpperCase()+KR},Ule=(t=16,e=KN.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Hle(t){return!!(t&&tf(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const qle=t=>{const e=new Array(10),n=(r,i)=>{if(oT(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=dg(r)?[]:{};return z1(r,(o,a)=>{const l=n(o,i+1);!Xv(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Ne={isArray:dg,isArrayBuffer:GN,isBuffer:dle,isFormData:wle,isArrayBufferView:hle,isString:ple,isNumber:WN,isBoolean:mle,isObject:oT,isPlainObject:p_,isUndefined:Xv,isDate:gle,isFile:vle,isBlob:yle,isRegExp:kle,isFunction:tf,isStream:_le,isURLSearchParams:Ele,isTypedArray:Rle,isFileList:xle,forEach:z1,merge:A4,extend:Ale,trim:Sle,stripBOM:Mle,inherits:ble,toFlatObject:Tle,kindOf:sT,kindOfTest:zu,endsWith:Cle,toArray:Ple,forEachEntry:Dle,matchAll:Ile,isHTMLForm:Ole,hasOwnProperty:XR,hasOwnProp:XR,reduceDescriptors:XN,freezeMethods:Nle,toObjectSet:zle,toCamelCase:Lle,noop:Ble,toFiniteNumber:Fle,findKey:jN,global:YN,isContextDefined:QN,ALPHABET:KN,generateString:Ule,isSpecCompliantForm:Hle,toJSONObject:qle};function wn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Ne.inherits(wn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $N=wn.prototype,ZN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZN[t]={value:t}});Object.defineProperties(wn,ZN);Object.defineProperty($N,"isAxiosError",{value:!0});wn.from=(t,e,n,r,i,s)=>{const o=Object.create($N);return Ne.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),wn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Vle=null;function M4(t){return Ne.isPlainObject(t)||Ne.isArray(t)}function JN(t){return Ne.endsWith(t,"[]")?t.slice(0,-2):t}function $R(t,e,n){return t?t.concat(e).map(function(i,s){return i=JN(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Gle(t){return Ne.isArray(t)&&!t.some(M4)}const Wle=Ne.toFlatObject(Ne,{},null,function(e){return/^is[A-Z]/.test(e)});function w3(t,e,n){if(!Ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!Ne.isUndefined(_[y])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(e);if(!Ne.isFunction(i))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(Ne.isDate(x))return x.toISOString();if(!l&&Ne.isBlob(x))throw new wn("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(x)||Ne.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function c(x,y,_){let E=x;if(x&&!_&&typeof x=="object"){if(Ne.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(Ne.isArray(x)&&Gle(x)||(Ne.isFileList(x)||Ne.endsWith(y,"[]"))&&(E=Ne.toArray(x)))return y=JN(y),E.forEach(function(M,C){!(Ne.isUndefined(M)||M===null)&&e.append(o===!0?$R([y],C,s):o===null?y:y+"[]",u(M))}),!1}return M4(x)?!0:(e.append($R(_,y,s),u(x)),!1)}const h=[],g=Object.assign(Wle,{defaultVisitor:c,convertValue:u,isVisitable:M4});function v(x,y){if(!Ne.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(x),Ne.forEach(x,function(E,w){(!(Ne.isUndefined(E)||E===null)&&i.call(e,E,Ne.isString(w)?w.trim():w,y,g))===!0&&v(E,y?y.concat(w):[w])}),h.pop()}}if(!Ne.isObject(t))throw new TypeError("data must be an object");return v(t),e}function ZR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function aT(t,e){this._pairs=[],t&&w3(t,this,e)}const ez=aT.prototype;ez.append=function(e,n){this._pairs.push([e,n])};ez.toString=function(e){const n=e?function(r){return e.call(this,r,ZR)}:ZR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function jle(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tz(t,e,n){if(!e)return t;const r=n&&n.encode||jle,i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ne.isURLSearchParams(e)?e.toString():new aT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Yle{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JR=Yle,nz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qle=typeof URLSearchParams<"u"?URLSearchParams:aT,Xle=typeof FormData<"u"?FormData:null,Kle=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),$le=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),pl={isBrowser:!0,classes:{URLSearchParams:Qle,FormData:Xle,Blob},isStandardBrowserEnv:Kle,isStandardBrowserWebWorkerEnv:$le,protocols:["http","https","file","blob","url","data"]};function Zle(t,e){return w3(t,new pl.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return pl.isNode&&Ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Jle(t){return Ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eue(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function rz(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Ne.isArray(i)?i.length:o,l?(Ne.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ne.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ne.isArray(i[o])&&(i[o]=eue(i[o])),!a)}if(Ne.isFormData(t)&&Ne.isFunction(t.entries)){const n={};return Ne.forEachEntry(t,(r,i)=>{e(Jle(r),i,n,0)}),n}return null}const tue={"Content-Type":void 0};function nue(t,e,n){if(Ne.isString(t))try{return(e||JSON.parse)(t),Ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const E3={transitional:nz,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ne.isObject(e);if(s&&Ne.isHTMLForm(e)&&(e=new FormData(e)),Ne.isFormData(e))return i&&i?JSON.stringify(rz(e)):e;if(Ne.isArrayBuffer(e)||Ne.isBuffer(e)||Ne.isStream(e)||Ne.isFile(e)||Ne.isBlob(e))return e;if(Ne.isArrayBufferView(e))return e.buffer;if(Ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Zle(e,this.formSerializer).toString();if((a=Ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return w3(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),nue(e)):e}],transformResponse:[function(e){const n=this.transitional||E3.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&Ne.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?wn.from(a,wn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pl.classes.FormData,Blob:pl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ne.forEach(["delete","get","head"],function(e){E3.headers[e]={}});Ne.forEach(["post","put","patch"],function(e){E3.headers[e]=Ne.merge(tue)});const lT=E3,rue=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iue=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&rue[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},eD=Symbol("internals");function M0(t){return t&&String(t).trim().toLowerCase()}function m_(t){return t===!1||t==null?t:Ne.isArray(t)?t.map(m_):String(t)}function sue(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function oue(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function NE(t,e,n,r,i){if(Ne.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ne.isString(e)){if(Ne.isString(r))return e.indexOf(r)!==-1;if(Ne.isRegExp(r))return r.test(e)}}function aue(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function lue(t,e){const n=Ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class S3{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=M0(l);if(!c)throw new Error("header name must be a non-empty string");const h=Ne.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=m_(a))}const o=(a,l)=>Ne.forEach(a,(u,c)=>s(u,c,l));return Ne.isPlainObject(e)||e instanceof this.constructor?o(e,n):Ne.isString(e)&&(e=e.trim())&&!oue(e)?o(iue(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=M0(e),e){const r=Ne.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return sue(i);if(Ne.isFunction(n))return n.call(this,i,r);if(Ne.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=M0(e),e){const r=Ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||NE(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=M0(o),o){const a=Ne.findKey(r,o);a&&(!n||NE(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||NE(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ne.forEach(this,(i,s)=>{const o=Ne.findKey(r,s);if(o){n[o]=m_(i),delete n[s];return}const a=e?aue(s):String(s).trim();a!==s&&delete n[s],n[a]=m_(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[eD]=this[eD]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=M0(o);r[a]||(lue(i,o),r[a]=!0)}return Ne.isArray(e)?e.forEach(s):s(e),this}}S3.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.freezeMethods(S3.prototype);Ne.freezeMethods(S3);const vu=S3;function zE(t,e){const n=this||lT,r=e||n,i=vu.from(r.headers);let s=r.data;return Ne.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function iz(t){return!!(t&&t.__CANCEL__)}function B1(t,e,n){wn.call(this,t??"canceled",wn.ERR_CANCELED,e,n),this.name="CanceledError"}Ne.inherits(B1,wn,{__CANCEL__:!0});function uue(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new wn("Request failed with status code "+n.status,[wn.ERR_BAD_REQUEST,wn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const cue=pl.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),Ne.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Ne.isString(s)&&l.push("path="+s),Ne.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function fue(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function due(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function sz(t,e){return t&&!fue(e)?due(t,e):e}const hue=pl.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=Ne.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function pue(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function mue(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,g=0;for(;h!==i;)g+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const v=c&&u-c;return v?Math.round(g*1e3/v):void 0}}function tD(t,e){let n=0;const r=mue(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const gue=typeof XMLHttpRequest<"u",vue=gue&&function(t){return new Promise(function(n,r){let i=t.data;const s=vu.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}Ne.isFormData(i)&&(pl.isStandardBrowserEnv||pl.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+x))}const c=sz(t.baseURL,t.url);u.open(t.method.toUpperCase(),tz(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!u)return;const v=vu.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:v,config:t,request:u};uue(function(E){n(E),l()},function(E){r(E),l()},y),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(r(new wn("Request aborted",wn.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new wn("Network Error",wn.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||nz;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),r(new wn(x,y.clarifyTimeoutError?wn.ETIMEDOUT:wn.ECONNABORTED,t,u)),u=null},pl.isStandardBrowserEnv){const v=(t.withCredentials||hue(c))&&t.xsrfCookieName&&cue.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&Ne.forEach(s.toJSON(),function(x,y){u.setRequestHeader(y,x)}),Ne.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",tD(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",tD(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=v=>{u&&(r(!v||v.type?new B1(null,t,u):v),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const g=pue(c);if(g&&pl.protocols.indexOf(g)===-1){r(new wn("Unsupported protocol "+g+":",wn.ERR_BAD_REQUEST,t));return}u.send(i||null)})},g_={http:Vle,xhr:vue};Ne.forEach(g_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yue={getAdapter:t=>{t=Ne.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=Ne.isString(n)?g_[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new wn(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ne.hasOwnProp(g_,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Ne.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:g_};function BE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new B1(null,t)}function nD(t){return BE(t),t.headers=vu.from(t.headers),t.data=zE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yue.getAdapter(t.adapter||lT.adapter)(t).then(function(r){return BE(t),r.data=zE.call(t,t.transformResponse,r),r.headers=vu.from(r.headers),r},function(r){return iz(r)||(BE(t),r&&r.response&&(r.response.data=zE.call(t,t.transformResponse,r.response),r.response.headers=vu.from(r.response.headers))),Promise.reject(r)})}const rD=t=>t instanceof vu?t.toJSON():t;function km(t,e){e=e||{};const n={};function r(u,c,h){return Ne.isPlainObject(u)&&Ne.isPlainObject(c)?Ne.merge.call({caseless:h},u,c):Ne.isPlainObject(c)?Ne.merge({},c):Ne.isArray(c)?c.slice():c}function i(u,c,h){if(Ne.isUndefined(c)){if(!Ne.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function s(u,c){if(!Ne.isUndefined(c))return r(void 0,c)}function o(u,c){if(Ne.isUndefined(c)){if(!Ne.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(rD(u),rD(c),!0)};return Ne.forEach(Object.keys(t).concat(Object.keys(e)),function(c){const h=l[c]||i,g=h(t[c],e[c],c);Ne.isUndefined(g)&&h!==a||(n[c]=g)}),n}const oz="1.3.3",uT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const iD={};uT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+oz+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new wn(i(o," has been removed"+(n?" in "+n:"")),wn.ERR_DEPRECATED);return n&&!iD[o]&&(iD[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function xue(t,e,n){if(typeof t!="object")throw new wn("options must be an object",wn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new wn("option "+s+" must be "+l,wn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new wn("Unknown option "+s,wn.ERR_BAD_OPTION)}}const b4={assertOptions:xue,validators:uT},yc=b4.validators;class p2{constructor(e){this.defaults=e,this.interceptors={request:new JR,response:new JR}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=km(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&b4.assertOptions(r,{silentJSONParsing:yc.transitional(yc.boolean),forcedJSONParsing:yc.transitional(yc.boolean),clarifyTimeoutError:yc.transitional(yc.boolean)},!1),i!==void 0&&b4.assertOptions(i,{encode:yc.function,serialize:yc.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&Ne.merge(s.common,s[n.method]),o&&Ne.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),n.headers=vu.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,g;if(!l){const x=[nD.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,u),g=x.length,c=Promise.resolve(n);h<g;)c=c.then(x[h++],x[h++]);return c}g=a.length;let v=n;for(h=0;h<g;){const x=a[h++],y=a[h++];try{v=x(v)}catch(_){y.call(this,_);break}}try{c=nD.call(this,v)}catch(x){return Promise.reject(x)}for(h=0,g=u.length;h<g;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=km(this.defaults,e);const n=sz(e.baseURL,e.url);return tz(n,e.params,e.paramsSerializer)}}Ne.forEach(["delete","get","head","options"],function(e){p2.prototype[e]=function(n,r){return this.request(km(r||{},{method:e,url:n,data:(r||{}).data}))}});Ne.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(km(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}p2.prototype[e]=n(),p2.prototype[e+"Form"]=n(!0)});const v_=p2;class cT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new B1(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new cT(function(i){e=i}),cancel:e}}}const _ue=cT;function wue(t){return function(n){return t.apply(null,n)}}function Eue(t){return Ne.isObject(t)&&t.isAxiosError===!0}const T4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(T4).forEach(([t,e])=>{T4[e]=t});const Sue=T4;function az(t){const e=new v_(t),n=qN(v_.prototype.request,e);return Ne.extend(n,v_.prototype,e,{allOwnKeys:!0}),Ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return az(km(t,i))},n}const mi=az(lT);mi.Axios=v_;mi.CanceledError=B1;mi.CancelToken=_ue;mi.isCancel=iz;mi.VERSION=oz;mi.toFormData=w3;mi.AxiosError=wn;mi.Cancel=mi.CanceledError;mi.all=function(e){return Promise.all(e)};mi.spread=wue;mi.isAxiosError=Eue;mi.mergeConfig=km;mi.AxiosHeaders=vu;mi.formToJSON=t=>rz(Ne.isHTMLForm(t)?new FormData(t):t);mi.HttpStatusCode=Sue;mi.default=mi;const oa=mi,lz=()=>oa.get("https://automatrixapi.pythonanywhere.com/api/patterns"),A3=()=>oa.get("https://automatrixapi.pythonanywhere.com/api/users"),Aue=()=>oa.get("https://automatrixapi.pythonanywhere.com/api/comments"),Mue=t=>oa.post("https://automatrixapi.pythonanywhere.com/api/comments",t),bue=t=>oa.delete(`https://automatrixapi.pythonanywhere.com/api/comments/${t}`),Tue=t=>oa.get(`https://automatrixapi.pythonanywhere.com/api/users/${t}/patterns`),Cue=(t,e,n)=>oa.post("https://automatrixapi.pythonanywhere.com/api/patterns",{username:t,pattern_name:e,pattern_body:n}),Pue=t=>oa.delete(`https://automatrixapi.pythonanywhere.com/api/patterns/${t}`),Rue=(t,e,n,r)=>oa.post("https://automatrixapi.pythonanywhere.com/api/users",{account_owner:t,username:e,email:n,avatar_url:r}),Due=(t,e)=>{const n={};return t.account_owner&&(n.account_owner=t.account_owner),t.email&&(n.email=t.email),t.avatar_url&&(n.avatar_url=t.avatar_url),oa.put(`https://automatrixapi.pythonanywhere.com/api/users/${e}`,n)},Iue=(t,e)=>oa.post("https://automatrixapi.pythonanywhere.com/mongo_auth/login/",{username:t,password:e}),Oue=(t,e,n)=>oa.post("https://automatrixapi.pythonanywhere.com/mongo_auth/signup/",{username:t,email:e,password:n}),Lue={type:Vt.string,tooltip:Vt.bool,as:Vt.elementType},M3=b.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>H(t,{...i,ref:s,className:Wt(e,`${n}-${r?"tooltip":"feedback"}`)}));M3.displayName="Feedback";M3.propTypes=Lue;const Cu=b.createContext({}),fT=b.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=b.useContext(Cu);return e=mn(e,"form-check-input"),H(o,{...a,ref:l,type:r,id:t||u,className:Wt(n,e,i&&"is-valid",s&&"is-invalid")})});fT.displayName="FormCheckInput";const m2=b.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=b.useContext(Cu);return t=mn(t,"form-check-label"),H("label",{...r,ref:i,htmlFor:n||s,className:Wt(e,t)})});m2.displayName="FormCheckLabel";function kue(t,e){return b.Children.toArray(t).some(n=>b.isValidElement(n)&&n.type===e)}const uz=b.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:h,style:g,title:v="",type:x="checkbox",label:y,children:_,as:E="input",...w},M)=>{e=mn(e,"form-check"),n=mn(n,"form-switch");const{controlId:C}=b.useContext(Cu),R=b.useMemo(()=>({controlId:t||C}),[C,t]),O=!_&&y!=null&&y!==!1||kue(_,m2),k=H(fT,{...w,type:x==="switch"?"checkbox":x,ref:M,isValid:o,isInvalid:a,disabled:s,as:E});return H(Cu.Provider,{value:R,children:H("div",{style:g,className:Wt(h,O&&e,r&&`${e}-inline`,i&&`${e}-reverse`,x==="switch"&&n),children:_||Be(Xr,{children:[k,O&&H(m2,{title:v,children:y}),u&&H(M3,{type:c,tooltip:l,children:u})]})})})});uz.displayName="FormCheck";const g2=Object.assign(uz,{Input:fT,Label:m2}),cz=b.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...h},g)=>{const{controlId:v}=b.useContext(Cu);t=mn(t,"form-control");let x;return l?x={[`${t}-plaintext`]:!0}:x={[t]:!0,[`${t}-${n}`]:n},H(c,{...h,type:e,size:r,ref:g,readOnly:u,id:i||v,className:Wt(s,x,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});cz.displayName="FormControl";const Nue=Object.assign(cz,{Feedback:M3}),zue=Kr("form-floating"),dT=b.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=b.useMemo(()=>({controlId:t}),[t]);return H(Cu.Provider,{value:i,children:H(e,{...n,ref:r})})});dT.displayName="FormGroup";function Bue({as:t,bsPrefix:e,className:n,...r}){e=mn(e,"col");const i=Rae(),s=Dae(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,h,g;typeof u=="object"&&u!=null?{span:c,offset:h,order:g}=u:c=u;const v=l!==s?`-${l}`:"";c&&o.push(c===!0?`${e}${v}`:`${e}${v}-${c}`),g!=null&&a.push(`order${v}-${g}`),h!=null&&a.push(`offset${v}-${h}`)}),[{...r,className:Wt(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const fz=b.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=Bue(t);return H(i,{...r,ref:e,className:Wt(n,!o.length&&s)})});fz.displayName="Col";const Fue={column:!1,visuallyHidden:!1},hT=b.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=b.useContext(Cu);e=mn(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=Wt(i,e,r&&"visually-hidden",n&&u);return s=s||l,n?H(fz,{ref:a,as:"label",className:c,htmlFor:s,...o}):H(t,{ref:a,className:c,htmlFor:s,...o})});hT.displayName="FormLabel";hT.defaultProps=Fue;const dz=b.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=b.useContext(Cu);return t=mn(t,"form-range"),H("input",{...r,type:"range",ref:i,className:Wt(e,t),id:n||s})});dz.displayName="FormRange";const hz=b.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=b.useContext(Cu);return t=mn(t,"form-select"),H("select",{...a,size:n,ref:l,className:Wt(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});hz.displayName="FormSelect";const pz=b.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=mn(t,"form-text"),H(n,{...i,ref:s,className:Wt(e,t,r&&"text-muted")})));pz.displayName="FormText";const mz=b.forwardRef((t,e)=>H(g2,{...t,ref:e,type:"switch"}));mz.displayName="Switch";const Uue=Object.assign(mz,{Input:g2.Input,Label:g2.Label}),gz=b.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=mn(t,"form-floating"),Be(dT,{ref:o,className:Wt(e,t),controlId:r,...s,children:[n,H("label",{htmlFor:r,children:i})]})));gz.displayName="FloatingLabel";const Hue={_ref:Vt.any,validated:Vt.bool,as:Vt.elementType},pT=b.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>H(n,{...r,ref:i,className:Wt(t,e&&"was-validated")}));pT.displayName="Form";pT.propTypes=Hue;const fn=Object.assign(pT,{Group:dT,Control:Nue,Floating:zue,Check:g2,Switch:Uue,Label:hT,Text:pz,Range:dz,Select:hz,FloatingLabel:gz});var Dx;function sD(t){if((!Dx&&Dx!==0||t)&&fg){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Dx=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Dx}function que(t){var e=b.useRef(t);return e.current=t,e}function vz(t){var e=que(t);b.useEffect(function(){return function(){return e.current()}},[])}function FE(t){t===void 0&&(t=L1());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function v2(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Vue="data-rr-ui-",Gue="rrUi";function hg(t){return`${Vue}${t}`}function Wue(t){return`${Gue}${t}`}function jue(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const oD=hg("modal-open");class Yue{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return jue(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(gu(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(oD,""),gu(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(oD),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const mT=Yue,yz=b.createContext(fg?window:void 0);yz.Provider;function gT(){return b.useContext(yz)}const UE=(t,e)=>fg?t==null?(e||L1()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Que(t,e){const n=gT(),[r,i]=b.useState(()=>UE(t,n==null?void 0:n.document));if(!r){const s=UE(t);s&&i(s)}return b.useEffect(()=>{e&&r&&e(r)},[e,r]),b.useEffect(()=>{const s=UE(t);s!==r&&i(s)},[t,r]),r}function Xue({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=b.useRef(null),o=b.useRef(e),a=wr(n);b.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=wh(s,t.ref),u=b.cloneElement(t,{ref:l});return e?u:i||!o.current&&r?null:u}function Kue({in:t,onTransition:e}){const n=b.useRef(null),r=b.useRef(!0),i=wr(e);return h2(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),h2(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function $ue({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=b.useState(!e);e&&s&&o(!1);const a=Kue({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||o(!0),h})}}),l=wh(a,t.ref);return s&&!e?null:b.cloneElement(t,{ref:l})}function aD(t,e,n){return t?H(t,Object.assign({},n)):e?H($ue,Object.assign({},n,{transition:e})):H(Xue,Object.assign({},n))}const Zue=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Jue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let HE;function ece(t){return HE||(HE=new mT({ownerDocument:t==null?void 0:t.document})),HE}function tce(t){const e=gT(),n=t||ece(e),r=b.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:b.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:b.useCallback(i=>{r.current.backdrop=i},[])})}const xz=b.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:g,backdropTransition:v,runBackdropTransition:x,autoFocus:y=!0,enforceFocus:_=!0,restoreFocus:E=!0,restoreFocusOptions:w,renderDialog:M,renderBackdrop:C=De=>H("div",Object.assign({},De)),manager:R,container:O,onShow:k,onHide:P=()=>{},onExit:z,onExited:B,onExiting:q,onEnter:Q,onEntering:W,onEntered:X}=t,ne=Jue(t,Zue);const se=Que(O),de=tce(R),G=kN(),te=NN(n),[re,V]=b.useState(!n),J=b.useRef(null);b.useImperativeHandle(e,()=>de,[de]),fg&&!te&&n&&(J.current=FE()),n&&re&&V(!1);const he=wr(()=>{if(de.add(),rt.current=Lc(document,"keydown",Ke),We.current=Lc(document,"focus",()=>setTimeout(be),!0),k&&k(),y){const De=FE(document);de.dialog&&De&&!v2(de.dialog,De)&&(J.current=De,de.dialog.focus())}}),we=wr(()=>{if(de.remove(),rt.current==null||rt.current(),We.current==null||We.current(),E){var De;(De=J.current)==null||De.focus==null||De.focus(w),J.current=null}});b.useEffect(()=>{!n||!se||he()},[n,se,he]),b.useEffect(()=>{re&&we()},[re,we]),vz(()=>{we()});const be=wr(()=>{if(!_||!G()||!de.isTopModal())return;const De=FE();de.dialog&&De&&!v2(de.dialog,De)&&de.dialog.focus()}),pe=wr(De=>{De.target===De.currentTarget&&(u==null||u(De),a===!0&&P())}),Ke=wr(De=>{l&&De.keyCode===27&&de.isTopModal()&&(c==null||c(De),De.defaultPrevented||P())}),We=b.useRef(),rt=b.useRef(),Qe=(...De)=>{V(!0),B==null||B(...De)};if(!se)return null;const ut=Object.assign({role:r,ref:de.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ne,{style:s,className:i,tabIndex:-1});let Pe=M?M(ut):H("div",Object.assign({},ut,{children:b.cloneElement(o,{role:"document"})}));Pe=aD(h,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:z,onExiting:q,onExited:Qe,onEnter:Q,onEntering:W,onEntered:X,children:Pe});let ye=null;return a&&(ye=C({ref:de.setBackdropRef,onClick:pe}),ye=aD(v,x,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ye})),H(Xr,{children:fu.createPortal(Be(Xr,{children:[ye,Pe]}),se)})});xz.displayName="Modal";const _z=Object.assign(xz,{Manager:mT});function nce(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function rce(t,e){t.classList?t.classList.add(e):nce(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var ice=Function.prototype.bind.call(Function.prototype.call,[].slice);function ru(t,e){return ice(t.querySelectorAll(e))}function lD(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function sce(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=lD(t.className,e):t.setAttribute("class",lD(t.className&&t.className.baseVal||"",e))}const Np={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class wz extends mT{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,gu(n,{[e]:`${parseFloat(gu(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],gu(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(rce(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ru(n,Np.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),ru(n,Np.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),ru(n,Np.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();sce(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ru(n,Np.FIXED_CONTENT).forEach(s=>this.restore(r,s)),ru(n,Np.STICKY_CONTENT).forEach(s=>this.restore(i,s)),ru(n,Np.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let qE;function Ez(t){return qE||(qE=new wz(t)),qE}const oce=Kr("modal-body"),vT=b.createContext({onHide(){}}),yT=b.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},u)=>{t=mn(t,"modal");const c=`${t}-dialog`,h=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return H("div",{...l,ref:u,className:Wt(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,s&&h),children:H("div",{className:Wt(`${t}-content`,n),children:o})})});yT.displayName="ModalDialog";const ace=Kr("modal-footer"),lce={closeLabel:"Close",closeButton:!1},xT=b.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=b.useContext(vT),l=wr(()=>{a==null||a.onHide(),r==null||r()});return Be("div",{ref:o,...s,children:[i,n&&H(k1,{"aria-label":t,variant:e,onClick:l})]})});xT.defaultProps=lce;const uce={closeLabel:"Close",closeButton:!1},_T=b.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=mn(t,"modal-header"),H(xT,{ref:r,...n,className:Wt(e,t)})));_T.displayName="ModalHeader";_T.defaultProps=uce;const cce=N1("h4"),fce=Kr("modal-title",{Component:cce}),dce={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:yT};function hce(t){return H(Eh,{...t,timeout:null})}function pce(t){return H(Eh,{...t,timeout:null})}const wT=b.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:c,animation:h,backdrop:g,keyboard:v,onEscapeKeyDown:x,onShow:y,onHide:_,container:E,autoFocus:w,enforceFocus:M,restoreFocus:C,restoreFocusOptions:R,onEntered:O,onExit:k,onExiting:P,onEnter:z,onEntering:B,onExited:q,backdropClassName:Q,manager:W,...X},ne)=>{const[se,de]=b.useState({}),[G,te]=b.useState(!1),re=b.useRef(!1),V=b.useRef(!1),J=b.useRef(null),[he,we]=LN(),be=wh(ne,we),pe=wr(_),Ke=IN();t=mn(t,"modal");const We=b.useMemo(()=>({onHide:pe}),[pe]);function rt(){return W||Ez({isRTL:Ke})}function Qe(Ee){if(!fg)return;const ze=rt().getScrollbarWidth()>0,qe=Ee.scrollHeight>L1(Ee).documentElement.clientHeight;de({paddingRight:ze&&!qe?sD():void 0,paddingLeft:!ze&&qe?sD():void 0})}const ut=wr(()=>{he&&Qe(he.dialog)});vz(()=>{S4(window,"resize",ut),J.current==null||J.current()});const Pe=()=>{re.current=!0},ye=Ee=>{re.current&&he&&Ee.target===he.dialog&&(V.current=!0),re.current=!1},De=()=>{te(!0),J.current=FN(he.dialog,()=>{te(!1)})},Je=Ee=>{Ee.target===Ee.currentTarget&&De()},He=Ee=>{if(g==="static"){Je(Ee);return}if(V.current||Ee.target!==Ee.currentTarget){V.current=!1;return}_==null||_()},St=Ee=>{v?x==null||x(Ee):(Ee.preventDefault(),g==="static"&&De())},gt=(Ee,ze)=>{Ee&&Qe(Ee),z==null||z(Ee,ze)},ft=Ee=>{J.current==null||J.current(),k==null||k(Ee)},Lt=(Ee,ze)=>{B==null||B(Ee,ze),eT(window,"resize",ut)},qt=Ee=>{Ee&&(Ee.style.display=""),q==null||q(Ee),S4(window,"resize",ut)},Z=b.useCallback(Ee=>H("div",{...Ee,className:Wt(`${t}-backdrop`,Q,!h&&"show")}),[h,Q,t]),U={...n,...se};U.display="block";const ae=Ee=>H("div",{role:"dialog",...Ee,style:U,className:Wt(e,t,G&&`${t}-static`,!h&&"show"),onClick:g?He:void 0,onMouseUp:ye,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:H(o,{...X,onMouseDown:Pe,className:r,contentClassName:i,children:s})});return H(vT.Provider,{value:We,children:H(_z,{show:c,ref:be,backdrop:g,container:E,keyboard:!0,autoFocus:w,enforceFocus:M,restoreFocus:C,restoreFocusOptions:R,onEscapeKeyDown:St,onShow:y,onHide:_,onEnter:gt,onEntering:Lt,onEntered:O,onExit:ft,onExiting:P,onExited:qt,manager:rt(),transition:h?hce:void 0,backdropTransition:h?pce:void 0,renderBackdrop:Z,renderDialog:ae})})});wT.displayName="Modal";wT.defaultProps=dce;const dl=Object.assign(wT,{Body:oce,Header:_T,Title:fce,Footer:ace,Dialog:yT,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),mce=({show:t,handleClose:e,setPatternName:n,handleSubmit:r})=>{const{gameParameters:{username:i}}=b.useContext(Bs),s=cg();return Be(dl,{show:t,onHide:e,children:[H(dl.Header,{closeButton:!0,children:H(dl.Title,{children:i?"Save pattern":"Sign-in required."})}),Be(dl.Body,{children:[!i&&H("p",{style:{margin:0},children:"Sign in to save any patterns you've created."}),i&&Be(fn,{children:[Be(fn.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[H(fn.Label,{children:"What would you like to name this pattern?"}),H(fn.Control,{type:"text",placeholder:"Enter pattern name.",autoFocus:!0,onChange:o=>n(o.target.value)})]}),H(fn.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"})]})]}),Be(dl.Footer,{children:[H(Dr,{onClick:e,children:"Close"}),i?H(Dr,{variant:"primary",onClick:r,children:"Save pattern"}):H(Dr,{variant:"primary",onClick:()=>s("/login"),children:"Log in"})]})]})},Sz=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(!1),[i,s]=b.useState(!1),[o,a]=b.useState(""),[l,u]=b.useState(!1);Yr({"save pattern":h_(()=>{r(!0)})});const{gameParameters:{configuration:c,physics:h,username:g}}=b.useContext(Bs),v=()=>r(!1),x=c.map(_=>_.join("")).join(" "),y=_=>{if(r(!1),!g){a("You must be logged in to save a pattern to your collection."),s(!0);return}if(/^([^1])+$/.test(x)){a("Pattern cannot be empty."),s(!0);return}if(!t){a("Please provide a name for your pattern."),s(!0);return}Cue(g,t,x).then(()=>{u(!0)}).catch(E=>{a(E.response.data.msg),s(!0)})};return Be(Xr,{children:[Be("section",{className:"game-alerts",children:[i&&Be(Er,{className:"alert",variant:"danger",onClose:()=>s(!1),dismissible:!0,children:[H(Er.Heading,{children:"Something went wrong..."}),H("p",{children:o})]}),Be(Er,{style:{textAlign:"center"},show:l,variant:"success",children:[H(Er.Heading,{children:"You pattern has been added to your collection."}),H("p",{children:"Job done. Now let's get back to the game."}),H(Dr,{onClick:()=>u(!1),variant:"outline-success",children:"Dismiss."})]})]}),!l&&H(Xr,{children:H(mce,{show:n,handleClose:v,setPatternName:e,handleSubmit:y})})]})};var Ix,gce=new Uint8Array(16);function vce(){if(!Ix&&(Ix=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ix))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ix(gce)}const yce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xce(t){return typeof t=="string"&&yce.test(t)}var ji=[];for(var VE=0;VE<256;++VE)ji.push((VE+256).toString(16).substr(1));function _ce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ji[t[e+0]]+ji[t[e+1]]+ji[t[e+2]]+ji[t[e+3]]+"-"+ji[t[e+4]]+ji[t[e+5]]+"-"+ji[t[e+6]]+ji[t[e+7]]+"-"+ji[t[e+8]]+ji[t[e+9]]+"-"+ji[t[e+10]]+ji[t[e+11]]+ji[t[e+12]]+ji[t[e+13]]+ji[t[e+14]]+ji[t[e+15]]).toLowerCase();if(!xce(n))throw TypeError("Stringified UUID is invalid");return n}function Az(t,e,n){t=t||{};var r=t.random||(t.rng||vce)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return _ce(r)}function wce({position:t,living:e,interact:n,setGameParameters:r,bloom:i}){const{gameParameters:{emissive:s,bloomIntensity:o,edgeColor:a,physics:l}}=b.useContext(Bs);return H("mesh",{onClick:()=>{n===!0&&r(u=>{const c=structuredClone(u.configuration);return c[t[0]][t[2]]=e?0:1,{...u,configuration:c}})},position:t,children:e?Be(Xr,{children:[H("meshStandardMaterial",{emissive:s,emissiveIntensity:i?o:2,transparent:!i,toneMapped:!1,opacity:.9}),H(NK,{scale:1.01,color:a}),H("boxGeometry",{})]}):H(Xr,{children:Be("mesh",{position:[0,-.5,0],children:[H("meshStandardMaterial",{color:"pink",transparent:!0,opacity:.6}),H("boxGeometry",{args:[1,.05,1]})]})})})}function Ece({bloom:t}){const{gameParameters:{configuration:e,interact:n,physics:r},setGameParameters:i}=b.useContext(Bs),s=b.useRef(),{viewport:o}=Qn(),a=l=>{const u=[];for(let c=0;c<l.length;c++)for(let h=0;h<l[c].length;h++)u.push({coords:[c,0,h],alive:l[c][h]});return u};return Be("mesh",{ref:s,scale:o.width<97?o.width/80:1,children:[H(_$,{}),a(e).map(l=>H(wce,{position:l.coords,living:l.alive,interact:n,physics:r,setGameParameters:i,bloom:t},Az()))]})}function Sce(){const{bloom:t}=Yr({bloom:!0}),{scene:e}=Yr({scene:{options:{stars:"stars",sky:"sky"}}}),{noise:n}=Yr({noise:!1});return Be("main",{id:"three-d-main",children:[H(Sz,{}),H("section",{className:"anim",children:Be(T7,{camera:{position:[30,30,40],fov:70},children:[H(DN,{}),e==="stars"&&H(XK,{radius:80,depth:50,count:7e3,factor:5,saturation:0,fade:!0,speed:1}),e==="sky"&&H(jK,{sunPosition:[0,1,3],exposure:.01,elevation:.01,azimuth:90,rayleigh:0}),!t&&H(ZK,{...Ace}),H("pointLight",{position:[10,0,10]}),H(B7,{}),H(UK,{}),Be(F7,{children:[H(b.Suspense,{fallback:null,children:Be(J7,{multisampling:0,enabled:t,children:[H(zJ,{}),H(LJ,{luminanceThreshold:.8,luminanceSmoothing:.9,height:300,mipmapBlur:!0}),n&&H(ek,{premultiply:!0,blendFunction:Pt.ADD})]})}),H(Ece,{bloom:t})]})]})})]})}const Ace={count:3e4,speed:2,opacity:1,color:[100,100,50],size:30,scale:[250,250,250],noise:1},Mce={fluid:!1},ET=b.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=mn(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return H(n,{ref:s,...i,className:Wt(r,e?`${o}${a}`:o)})});ET.displayName="Container";ET.defaultProps=Mce;var C4={},bce={get exports(){return C4},set exports(t){C4=t}},y2={},Tce={get exports(){return y2},set exports(t){y2=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,c,h){var g=u||"<<anonymous>>",v=h||l;if(a[l]==null)return o?new Error("Required "+c+" `"+v+"` was not specified "+("in `"+g+"`.")):null;for(var x=arguments.length,y=Array(x>6?x-6:0),_=6;_<x;_++)y[_-6]=arguments[_];return r.apply(void 0,[a,l,g,c,v].concat(y))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(Tce,y2);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=y2,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,h=Array(c),g=0;g<c;g++)h[g]=arguments[g];var v=null;return a.forEach(function(x){if(v==null){var y=x.apply(void 0,h);y!=null&&(v=y)}}),v}return(0,r.default)(u)}t.exports=e.default})(bce,C4);function Mz(){var t=b.useReducer(function(n){return!n},!1),e=t[1];return e}const bz=b.createContext(null);bz.displayName="NavContext";const ST=bz,Cce=b.createContext(null),Kv=(t,e=null)=>t!=null?String(t):e||null,ch=Cce,Pce=b.createContext(null),Tz=Pce,Rce=["as","active","eventKey"];function Dce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Cz({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=b.useContext(ch),a=b.useContext(ST),l=b.useContext(Tz);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const h=a.getControllerId(t??null),g=a.getControlledId(t??null);c[hg("event-key")]=t,c.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=g)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=wr(h=>{s||(e==null||e(h),t!=null&&o&&!h.isPropagationStopped()&&o(t,h))}),[c,{isActive:u}]}const Pz=b.forwardRef((t,e)=>{let{as:n=Zb,active:r,eventKey:i}=t,s=Dce(t,Rce);const[o,a]=Cz(Object.assign({key:Kv(i,s.href),active:r},s));return o[hg("active")]=a.isActive,H(n,Object.assign({},s,o,{ref:e}))});Pz.displayName="NavItem";const Ice=Pz,Oce=["as","onSelect","activeKey","role","onKeyDown"];function Lce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const uD=()=>{},cD=hg("event-key"),Rz=b.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=Lce(t,Oce);const l=Mz(),u=b.useRef(!1),c=b.useContext(ch),h=b.useContext(Tz);let g,v;h&&(s=s||"tablist",i=h.activeKey,g=h.getControlledId,v=h.getControllerId);const x=b.useRef(null),y=M=>{const C=x.current;if(!C)return null;const R=ru(C,`[${cD}]:not([aria-disabled=true])`),O=C.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const k=R.indexOf(O);if(k===-1)return null;let P=k+M;return P>=R.length&&(P=0),P<0&&(P=R.length-1),R[P]},_=(M,C)=>{M!=null&&(r==null||r(M,C),c==null||c(M,C))},E=M=>{if(o==null||o(M),!h)return;let C;switch(M.key){case"ArrowLeft":case"ArrowUp":C=y(-1);break;case"ArrowRight":case"ArrowDown":C=y(1);break;default:return}C&&(M.preventDefault(),_(C.dataset[Wue("EventKey")]||null,M),u.current=!0,l())};b.useEffect(()=>{if(x.current&&u.current){const M=x.current.querySelector(`[${cD}][aria-selected=true]`);M==null||M.focus()}u.current=!1});const w=wh(e,x);return H(ch.Provider,{value:_,children:H(ST.Provider,{value:{role:s,activeKey:Kv(i),getControlledId:g||uD,getControllerId:v||uD},children:H(n,Object.assign({},a,{onKeyDown:E,ref:w,role:s}))})})});Rz.displayName="Nav";const kce=Object.assign(Rz,{Item:Ice}),pf=b.createContext(null);pf.displayName="NavbarContext";const AT=b.createContext(null);AT.displayName="CardHeaderContext";const Nce=Kr("nav-item"),zce={disabled:!1},b3=b.forwardRef(({bsPrefix:t,className:e,as:n=Jb,active:r,eventKey:i,...s},o)=>{t=mn(t,"nav-link");const[a,l]=Cz({key:Kv(i,s.href),active:r,...s});return H(n,{...s,...a,ref:o,className:Wt(e,t,s.disabled&&"disabled",l.isActive&&"active")})});b3.displayName="NavLink";b3.defaultProps=zce;const Bce={justify:!1,fill:!1},MT=b.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:u,activeKey:c,...h}=x3(t,{activeKey:"onSelect"}),g=mn(r,"nav");let v,x,y=!1;const _=b.useContext(pf),E=b.useContext(AT);return _?(v=_.bsPrefix,y=a??!0):E&&({cardHeaderBsPrefix:x}=E),H(kce,{as:n,ref:e,activeKey:c,className:Wt(u,{[g]:!y,[`${v}-nav`]:y,[`${v}-nav-scroll`]:y&&l,[`${x}-${i}`]:!!x,[`${g}-${i}`]:!!i,[`${g}-fill`]:s,[`${g}-justified`]:o}),...h})});MT.displayName="Nav";MT.defaultProps=Bce;const Pr=Object.assign(MT,{Item:Nce,Link:b3}),Dz=b.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=mn(t,"navbar-brand");const s=n||(r.href?"a":"span");return H(s,{...r,ref:i,className:Wt(e,t)})});Dz.displayName="NavbarBrand";function b0(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}const Fce={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Iz(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=Fce[t];return r+parseInt(gu(e,i[0]),10)+parseInt(gu(e,i[1]),10)}const Uce={[Mc]:"collapse",[Qv]:"collapsing",[Da]:"collapsing",[au]:"collapse show"},Hce={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Iz},Oz=ee.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=Iz,...u},c)=>{const h=typeof a=="function"?a():a,g=b.useMemo(()=>b0(E=>{E.style[h]="0"},t),[h,t]),v=b.useMemo(()=>b0(E=>{const w=`scroll${h[0].toUpperCase()}${h.slice(1)}`;E.style[h]=`${E[w]}px`},e),[h,e]),x=b.useMemo(()=>b0(E=>{E.style[h]=null},n),[h,n]),y=b.useMemo(()=>b0(E=>{E.style[h]=`${l(h,E)}px`,UN(E)},r),[r,l,h]),_=b.useMemo(()=>b0(E=>{E.style[h]=null},i),[h,i]);return H(nT,{ref:c,addEndListener:tT,...u,"aria-expanded":u.role?u.in:null,onEnter:g,onEntering:v,onEntered:x,onExit:y,onExiting:_,childRef:o.ref,children:(E,w)=>ee.cloneElement(o,{...w,className:Wt(s,o.props.className,Uce[E],h==="width"&&"collapse-horizontal")})})});Oz.defaultProps=Hce;const Lz=b.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=mn(e,"navbar-collapse");const i=b.useContext(pf);return H(Oz,{in:!!(i&&i.expanded),...n,children:H("div",{ref:r,className:e,children:t})})});Lz.displayName="NavbarCollapse";const qce={label:"Toggle navigation"},bT=b.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=mn(t,"navbar-toggler");const{onToggle:l,expanded:u}=b.useContext(pf)||{},c=wr(h=>{s&&s(h),l&&l()});return i==="button"&&(o.type="button"),H(i,{...o,ref:a,onClick:c,"aria-label":r,className:Wt(e,t,!u&&"collapsed"),children:n||H("span",{className:`${t}-icon`})})});bT.displayName="NavbarToggle";bT.defaultProps=qce;var P4=new WeakMap,fD=function(e,n){if(!(!e||!n)){var r=P4.get(n)||new Map;P4.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function Vce(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=fD(t,e),r=b.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return h2(function(){var o=fD(t,e);if(!o)return s(!1);var a=P4.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function Gce(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var h;l=l||!0,c=(h={},h[a]=l,h)}var g=b.useMemo(function(){return Object.entries(c).reduce(function(v,x){var y=x[0],_=x[1];return(_==="up"||_===!0)&&(v=n(v,s(y))),(_==="down"||_===!0)&&(v=n(v,i(y))),v},"")},[JSON.stringify(c)]);return Vce(g,u)}return o}var Wce=Gce({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const jce=Kr("offcanvas-body"),Yce={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Qce={[Da]:"show",[au]:"show"},TT=b.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=mn(t,"offcanvas"),H(nT,{ref:i,addEndListener:tT,...r,childRef:n.ref,children:(s,o)=>b.cloneElement(n,{...o,className:Wt(e,n.props.className,(s===Da||s===Qv)&&`${t}-toggling`,Qce[s])})})));TT.defaultProps=Yce;TT.displayName="OffcanvasToggling";const Xce={closeLabel:"Close",closeButton:!1},CT=b.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=mn(t,"offcanvas-header"),H(xT,{ref:r,...n,className:Wt(e,t)})));CT.displayName="OffcanvasHeader";CT.defaultProps=Xce;const Kce=N1("h5"),$ce=Kr("offcanvas-title",{Component:Kce}),Zce={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function Jce(t){return H(TT,{...t})}function efe(t){return H(Eh,{...t})}const PT=b.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:u,onEscapeKeyDown:c,onShow:h,onHide:g,container:v,autoFocus:x,enforceFocus:y,restoreFocus:_,restoreFocusOptions:E,onEntered:w,onExit:M,onExiting:C,onEnter:R,onEntering:O,onExited:k,backdropClassName:P,manager:z,renderStaticNode:B,...q},Q)=>{const W=b.useRef();t=mn(t,"offcanvas");const{onToggle:X}=b.useContext(pf)||{},[ne,se]=b.useState(!1),de=Wce(s||"xs","up");b.useEffect(()=>{se(s?o&&!de:o)},[o,s,de]);const G=wr(()=>{X==null||X(),g==null||g()}),te=b.useMemo(()=>({onHide:G}),[G]);function re(){return z||(u?(W.current||(W.current=new wz({handleContainerOverflow:!1})),W.current):Ez())}const V=(be,...pe)=>{be&&(be.style.visibility="visible"),R==null||R(be,...pe)},J=(be,...pe)=>{be&&(be.style.visibility=""),k==null||k(...pe)},he=b.useCallback(be=>H("div",{...be,className:Wt(`${t}-backdrop`,P)}),[P,t]),we=be=>H("div",{...be,...q,className:Wt(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return Be(Xr,{children:[!ne&&(s||B)&&we({}),H(vT.Provider,{value:te,children:H(_z,{show:ne,ref:Q,backdrop:a,container:v,keyboard:l,autoFocus:x,enforceFocus:y&&!u,restoreFocus:_,restoreFocusOptions:E,onEscapeKeyDown:c,onShow:h,onHide:G,onEnter:V,onEntering:O,onEntered:w,onExit:M,onExiting:C,onExited:J,manager:re(),transition:Jce,backdropTransition:efe,renderBackdrop:he,renderDialog:we})})]})});PT.displayName="Offcanvas";PT.defaultProps=Zce;const z0=Object.assign(PT,{Body:jce,Header:CT,Title:$ce}),kz=b.forwardRef((t,e)=>{const n=b.useContext(pf);return H(z0,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});kz.displayName="NavbarOffcanvas";const tfe=Kr("navbar-text",{Component:"span"}),nfe={expand:!0,variant:"light",collapseOnSelect:!1},RT=b.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:h,onSelect:g,collapseOnSelect:v,...x}=x3(t,{expanded:"onToggle"}),y=mn(n,"navbar"),_=b.useCallback((...M)=>{g==null||g(...M),v&&c&&(h==null||h(!1))},[g,v,c,h]);x.role===void 0&&u!=="nav"&&(x.role="navigation");let E=`${y}-expand`;typeof r=="string"&&(E=`${E}-${r}`);const w=b.useMemo(()=>({onToggle:()=>h==null?void 0:h(!c),bsPrefix:y,expanded:!!c,expand:r}),[y,c,r,h]);return H(pf.Provider,{value:w,children:H(ch.Provider,{value:_,children:H(u,{ref:e,...x,className:Wt(l,y,r&&E,i&&`${y}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});RT.defaultProps=nfe;RT.displayName="Navbar";const Ox=Object.assign(RT,{Brand:Dz,Collapse:Lz,Offcanvas:kz,Text:tfe,Toggle:bT}),rfe=b.createContext(null),T3=rfe;var dD=Object.prototype.hasOwnProperty;function hD(t,e,n){for(n of t.keys())if(tv(n,e))return n}function tv(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&tv(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=hD(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=hD(e,i),!i)||!tv(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(dD.call(t,n)&&++r&&!dD.call(e,n)||!(n in e)||!tv(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function ife(t){var e=kN();return[t[0],b.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Is="top",To="bottom",Co="right",Os="left",C3="auto",pg=[Is,To,Co,Os],fh="start",Nm="end",Nz="clippingParents",DT="viewport",Wp="popper",zz="reference",R4=pg.reduce(function(t,e){return t.concat([e+"-"+fh,e+"-"+Nm])},[]),IT=[].concat(pg,[C3]).reduce(function(t,e){return t.concat([e,e+"-"+fh,e+"-"+Nm])},[]),Bz="beforeRead",Fz="read",Uz="afterRead",Hz="beforeMain",qz="main",Vz="afterMain",Gz="beforeWrite",Wz="write",jz="afterWrite",Yz=[Bz,Fz,Uz,Hz,qz,Vz,Gz,Wz,jz];function yl(t){return t.split("-")[0]}function aa(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function dh(t){var e=aa(t).Element;return t instanceof e||t instanceof Element}function ta(t){var e=aa(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function OT(t){if(typeof ShadowRoot>"u")return!1;var e=aa(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var $d=Math.max,x2=Math.min,zm=Math.round;function D4(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Qz(){return!/^((?!chrome|android).)*safari/i.test(D4())}function Bm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ta(t)&&(i=t.offsetWidth>0&&zm(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&zm(r.height)/t.offsetHeight||1);var o=dh(t)?aa(t):window,a=o.visualViewport,l=!Qz()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,g=r.height/s;return{width:h,height:g,top:c,right:u+h,bottom:c+g,left:u,x:u,y:c}}function LT(t){var e=Bm(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Xz(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&OT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function El(t){return t?(t.nodeName||"").toLowerCase():null}function Pu(t){return aa(t).getComputedStyle(t)}function sfe(t){return["table","td","th"].indexOf(El(t))>=0}function mf(t){return((dh(t)?t.ownerDocument:t.document)||window.document).documentElement}function P3(t){return El(t)==="html"?t:t.assignedSlot||t.parentNode||(OT(t)?t.host:null)||mf(t)}function pD(t){return!ta(t)||Pu(t).position==="fixed"?null:t.offsetParent}function ofe(t){var e=/firefox/i.test(D4()),n=/Trident/i.test(D4());if(n&&ta(t)){var r=Pu(t);if(r.position==="fixed")return null}var i=P3(t);for(OT(i)&&(i=i.host);ta(i)&&["html","body"].indexOf(El(i))<0;){var s=Pu(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function F1(t){for(var e=aa(t),n=pD(t);n&&sfe(n)&&Pu(n).position==="static";)n=pD(n);return n&&(El(n)==="html"||El(n)==="body"&&Pu(n).position==="static")?e:n||ofe(t)||e}function kT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nv(t,e,n){return $d(t,x2(e,n))}function afe(t,e,n){var r=nv(t,e,n);return r>n?n:r}function Kz(){return{top:0,right:0,bottom:0,left:0}}function $z(t){return Object.assign({},Kz(),t)}function Zz(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var lfe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$z(typeof e!="number"?e:Zz(e,pg))};function ufe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=yl(n.placement),l=kT(a),u=[Os,Co].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var h=lfe(i.padding,n),g=LT(s),v=l==="y"?Is:Os,x=l==="y"?To:Co,y=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],_=o[l]-n.rects.reference[l],E=F1(s),w=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,M=y/2-_/2,C=h[v],R=w-g[c]-h[x],O=w/2-g[c]/2+M,k=nv(C,O,R),P=l;n.modifiersData[r]=(e={},e[P]=k,e.centerOffset=k-O,e)}}function cfe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Xz(e.elements.popper,i)&&(e.elements.arrow=i))}const NT={name:"arrow",enabled:!0,phase:"main",fn:ufe,effect:cfe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fm(t){return t.split("-")[1]}var ffe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dfe(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:zm(e*i)/i||0,y:zm(n*i)/i||0}}function mD(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,g=o.x,v=g===void 0?0:g,x=o.y,y=x===void 0?0:x,_=typeof c=="function"?c({x:v,y}):{x:v,y};v=_.x,y=_.y;var E=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),M=Os,C=Is,R=window;if(u){var O=F1(n),k="clientHeight",P="clientWidth";if(O===aa(n)&&(O=mf(n),Pu(O).position!=="static"&&a==="absolute"&&(k="scrollHeight",P="scrollWidth")),O=O,i===Is||(i===Os||i===Co)&&s===Nm){C=To;var z=h&&O===R&&R.visualViewport?R.visualViewport.height:O[k];y-=z-r.height,y*=l?1:-1}if(i===Os||(i===Is||i===To)&&s===Nm){M=Co;var B=h&&O===R&&R.visualViewport?R.visualViewport.width:O[P];v-=B-r.width,v*=l?1:-1}}var q=Object.assign({position:a},u&&ffe),Q=c===!0?dfe({x:v,y}):{x:v,y};if(v=Q.x,y=Q.y,l){var W;return Object.assign({},q,(W={},W[C]=w?"0":"",W[M]=E?"0":"",W.transform=(R.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",W))}return Object.assign({},q,(e={},e[C]=w?y+"px":"",e[M]=E?v+"px":"",e.transform="",e))}function hfe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:yl(e.placement),variation:Fm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mD(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mD(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const R3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hfe,data:{}};var Lx={passive:!0};function pfe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=aa(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Lx)}),a&&l.addEventListener("resize",n.update,Lx),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Lx)}),a&&l.removeEventListener("resize",n.update,Lx)}}const D3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pfe,data:{}};var mfe={left:"right",right:"left",bottom:"top",top:"bottom"};function y_(t){return t.replace(/left|right|bottom|top/g,function(e){return mfe[e]})}var gfe={start:"end",end:"start"};function gD(t){return t.replace(/start|end/g,function(e){return gfe[e]})}function zT(t){var e=aa(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function BT(t){return Bm(mf(t)).left+zT(t).scrollLeft}function vfe(t,e){var n=aa(t),r=mf(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=Qz();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+BT(t),y:l}}function yfe(t){var e,n=mf(t),r=zT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=$d(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=$d(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+BT(t),l=-r.scrollTop;return Pu(i||n).direction==="rtl"&&(a+=$d(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function FT(t){var e=Pu(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Jz(t){return["html","body","#document"].indexOf(El(t))>=0?t.ownerDocument.body:ta(t)&&FT(t)?t:Jz(P3(t))}function rv(t,e){var n;e===void 0&&(e=[]);var r=Jz(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=aa(r),o=i?[s].concat(s.visualViewport||[],FT(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(rv(P3(o)))}function I4(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xfe(t,e){var n=Bm(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function vD(t,e,n){return e===DT?I4(vfe(t,n)):dh(e)?xfe(e,n):I4(yfe(mf(t)))}function _fe(t){var e=rv(P3(t)),n=["absolute","fixed"].indexOf(Pu(t).position)>=0,r=n&&ta(t)?F1(t):t;return dh(r)?e.filter(function(i){return dh(i)&&Xz(i,r)&&El(i)!=="body"}):[]}function wfe(t,e,n,r){var i=e==="clippingParents"?_fe(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=vD(t,u,r);return l.top=$d(c.top,l.top),l.right=x2(c.right,l.right),l.bottom=x2(c.bottom,l.bottom),l.left=$d(c.left,l.left),l},vD(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function eB(t){var e=t.reference,n=t.element,r=t.placement,i=r?yl(r):null,s=r?Fm(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Is:l={x:o,y:e.y-n.height};break;case To:l={x:o,y:e.y+e.height};break;case Co:l={x:e.x+e.width,y:a};break;case Os:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?kT(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case fh:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Nm:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Um(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Nz:a,u=n.rootBoundary,c=u===void 0?DT:u,h=n.elementContext,g=h===void 0?Wp:h,v=n.altBoundary,x=v===void 0?!1:v,y=n.padding,_=y===void 0?0:y,E=$z(typeof _!="number"?_:Zz(_,pg)),w=g===Wp?zz:Wp,M=t.rects.popper,C=t.elements[x?w:g],R=wfe(dh(C)?C:C.contextElement||mf(t.elements.popper),l,c,o),O=Bm(t.elements.reference),k=eB({reference:O,element:M,strategy:"absolute",placement:i}),P=I4(Object.assign({},M,k)),z=g===Wp?P:O,B={top:R.top-z.top+E.top,bottom:z.bottom-R.bottom+E.bottom,left:R.left-z.left+E.left,right:z.right-R.right+E.right},q=t.modifiersData.offset;if(g===Wp&&q){var Q=q[i];Object.keys(B).forEach(function(W){var X=[Co,To].indexOf(W)>=0?1:-1,ne=[Is,To].indexOf(W)>=0?"y":"x";B[W]+=Q[ne]*X})}return B}function Efe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?IT:l,c=Fm(r),h=c?a?R4:R4.filter(function(x){return Fm(x)===c}):pg,g=h.filter(function(x){return u.indexOf(x)>=0});g.length===0&&(g=h);var v=g.reduce(function(x,y){return x[y]=Um(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[yl(y)],x},{});return Object.keys(v).sort(function(x,y){return v[x]-v[y]})}function Sfe(t){if(yl(t)===C3)return[];var e=y_(t);return[gD(t),e,gD(e)]}function Afe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,x=v===void 0?!0:v,y=n.allowedAutoPlacements,_=e.options.placement,E=yl(_),w=E===_,M=l||(w||!x?[y_(_)]:Sfe(_)),C=[_].concat(M).reduce(function(we,be){return we.concat(yl(be)===C3?Efe(e,{placement:be,boundary:c,rootBoundary:h,padding:u,flipVariations:x,allowedAutoPlacements:y}):be)},[]),R=e.rects.reference,O=e.rects.popper,k=new Map,P=!0,z=C[0],B=0;B<C.length;B++){var q=C[B],Q=yl(q),W=Fm(q)===fh,X=[Is,To].indexOf(Q)>=0,ne=X?"width":"height",se=Um(e,{placement:q,boundary:c,rootBoundary:h,altBoundary:g,padding:u}),de=X?W?Co:Os:W?To:Is;R[ne]>O[ne]&&(de=y_(de));var G=y_(de),te=[];if(s&&te.push(se[Q]<=0),a&&te.push(se[de]<=0,se[G]<=0),te.every(function(we){return we})){z=q,P=!1;break}k.set(q,te)}if(P)for(var re=x?3:1,V=function(be){var pe=C.find(function(Ke){var We=k.get(Ke);if(We)return We.slice(0,be).every(function(rt){return rt})});if(pe)return z=pe,"break"},J=re;J>0;J--){var he=V(J);if(he==="break")break}e.placement!==z&&(e.modifiersData[r]._skip=!0,e.placement=z,e.reset=!0)}}const UT={name:"flip",enabled:!0,phase:"main",fn:Afe,requiresIfExists:["offset"],data:{_skip:!1}};function yD(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xD(t){return[Is,Co,To,Os].some(function(e){return t[e]>=0})}function Mfe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Um(e,{elementContext:"reference"}),a=Um(e,{altBoundary:!0}),l=yD(o,r),u=yD(a,i,s),c=xD(l),h=xD(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const HT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mfe};function bfe(t,e,n){var r=yl(t),i=[Os,Is].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Os,Co].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Tfe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=IT.reduce(function(c,h){return c[h]=bfe(h,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const qT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tfe};function Cfe(t){var e=t.state,n=t.name;e.modifiersData[n]=eB({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const I3={name:"popperOffsets",enabled:!0,phase:"read",fn:Cfe,data:{}};function Pfe(t){return t==="x"?"y":"x"}function Rfe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,g=n.tether,v=g===void 0?!0:g,x=n.tetherOffset,y=x===void 0?0:x,_=Um(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),E=yl(e.placement),w=Fm(e.placement),M=!w,C=kT(E),R=Pfe(C),O=e.modifiersData.popperOffsets,k=e.rects.reference,P=e.rects.popper,z=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,B=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Q={x:0,y:0};if(O){if(s){var W,X=C==="y"?Is:Os,ne=C==="y"?To:Co,se=C==="y"?"height":"width",de=O[C],G=de+_[X],te=de-_[ne],re=v?-P[se]/2:0,V=w===fh?k[se]:P[se],J=w===fh?-P[se]:-k[se],he=e.elements.arrow,we=v&&he?LT(he):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Kz(),pe=be[X],Ke=be[ne],We=nv(0,k[se],we[se]),rt=M?k[se]/2-re-We-pe-B.mainAxis:V-We-pe-B.mainAxis,Qe=M?-k[se]/2+re+We+Ke+B.mainAxis:J+We+Ke+B.mainAxis,ut=e.elements.arrow&&F1(e.elements.arrow),Pe=ut?C==="y"?ut.clientTop||0:ut.clientLeft||0:0,ye=(W=q==null?void 0:q[C])!=null?W:0,De=de+rt-ye-Pe,Je=de+Qe-ye,He=nv(v?x2(G,De):G,de,v?$d(te,Je):te);O[C]=He,Q[C]=He-de}if(a){var St,gt=C==="x"?Is:Os,ft=C==="x"?To:Co,Lt=O[R],qt=R==="y"?"height":"width",Z=Lt+_[gt],U=Lt-_[ft],ae=[Is,Os].indexOf(E)!==-1,Ee=(St=q==null?void 0:q[R])!=null?St:0,ze=ae?Z:Lt-k[qt]-P[qt]-Ee+B.altAxis,qe=ae?Lt+k[qt]+P[qt]-Ee-B.altAxis:U,xt=v&&ae?afe(ze,Lt,qe):nv(v?ze:Z,Lt,v?qe:U);O[R]=xt,Q[R]=xt-Lt}e.modifiersData[r]=Q}}const VT={name:"preventOverflow",enabled:!0,phase:"main",fn:Rfe,requiresIfExists:["offset"]};function Dfe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Ife(t){return t===aa(t)||!ta(t)?zT(t):Dfe(t)}function Ofe(t){var e=t.getBoundingClientRect(),n=zm(e.width)/t.offsetWidth||1,r=zm(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Lfe(t,e,n){n===void 0&&(n=!1);var r=ta(e),i=ta(e)&&Ofe(e),s=mf(e),o=Bm(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((El(e)!=="body"||FT(s))&&(a=Ife(e)),ta(e)?(l=Bm(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=BT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function kfe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Nfe(t){var e=kfe(t);return Yz.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function zfe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Bfe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var _D={placement:"bottom",modifiers:[],strategy:"absolute"};function wD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function U1(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?_D:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},_D,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],g=!1,v={state:c,setOptions:function(E){var w=typeof E=="function"?E(c.options):E;y(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:dh(a)?rv(a):a.contextElement?rv(a.contextElement):[],popper:rv(l)};var M=Nfe(Bfe([].concat(r,c.options.modifiers)));return c.orderedModifiers=M.filter(function(C){return C.enabled}),x(),v.update()},forceUpdate:function(){if(!g){var E=c.elements,w=E.reference,M=E.popper;if(wD(w,M)){c.rects={reference:Lfe(w,F1(M),c.options.strategy==="fixed"),popper:LT(M)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(B){return c.modifiersData[B.name]=Object.assign({},B.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var R=c.orderedModifiers[C],O=R.fn,k=R.options,P=k===void 0?{}:k,z=R.name;typeof O=="function"&&(c=O({state:c,options:P,name:z,instance:v})||c)}}}},update:zfe(function(){return new Promise(function(_){v.forceUpdate(),_(c)})}),destroy:function(){y(),g=!0}};if(!wD(a,l))return v;v.setOptions(u).then(function(_){!g&&u.onFirstUpdate&&u.onFirstUpdate(_)});function x(){c.orderedModifiers.forEach(function(_){var E=_.name,w=_.options,M=w===void 0?{}:w,C=_.effect;if(typeof C=="function"){var R=C({state:c,name:E,instance:v,options:M}),O=function(){};h.push(R||O)}})}function y(){h.forEach(function(_){return _()}),h=[]}return v}}var Ffe=U1();const Ufe=U1({defaultModifiers:[HT,I3,R3,D3,qT,UT,VT,NT]}),Hfe=["enabled","placement","strategy","modifiers"];function qfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Vfe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Gfe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},Wfe=[];function jfe(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=Wfe}=n,a=qfe(n,Hfe);const l=b.useRef(o),u=b.useRef(),c=b.useCallback(()=>{var _;(_=u.current)==null||_.update()},[]),h=b.useCallback(()=>{var _;(_=u.current)==null||_.forceUpdate()},[]),[g,v]=ife(b.useState({placement:i,update:c,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),x=b.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:_})=>{const E={},w={};Object.keys(_.elements).forEach(M=>{E[M]=_.styles[M],w[M]=_.attributes[M]}),v({state:_,styles:E,attributes:w,update:c,forceUpdate:h,placement:_.placement})}}),[c,h,v]),y=b.useMemo(()=>(tv(l.current,o)||(l.current=o),l.current),[o]);return b.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:s,modifiers:[...y,x,Vfe]})},[s,i,x,r,y]),b.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=Ufe(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...y,Gfe,x]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,v(_=>Object.assign({},_,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),g}const ED=()=>{};function Yfe(t){return t.button===0}function Qfe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const GE=t=>t&&("current"in t?t.current:t),SD={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Xfe(t,e=ED,{disabled:n,clickTrigger:r="click"}={}){const i=b.useRef(!1),s=b.useRef(!1),o=b.useCallback(u=>{const c=GE(t);i.current=!c||Qfe(u)||!Yfe(u)||!!v2(c,u.target)||s.current,s.current=!1},[t]),a=wr(u=>{const c=GE(t);c&&v2(c,u.target)&&(s.current=!0)}),l=wr(u=>{i.current||e(u)});b.useEffect(()=>{if(n||t==null)return;const u=L1(GE(t));let c=(u.defaultView||window).event,h=null;SD[r]&&(h=Lc(u,SD[r],a,!0));const g=Lc(u,r,o,!0),v=Lc(u,r,y=>{if(y===c){c=void 0;return}l(y)});let x=[];return"ontouchstart"in u.documentElement&&(x=[].slice.call(u.body.children).map(y=>Lc(y,"mousemove",ED))),()=>{h==null||h(),g(),v(),x.forEach(y=>y())}},[t,n,r,o,a,l])}function Kfe(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function $fe(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Zfe({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var u,c,h,g,v;const x=Kfe(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:$fe(Object.assign({},x,{eventListeners:{enabled:e,options:(u=x.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},x.preventOverflow,{options:o?Object.assign({padding:o},(c=x.preventOverflow)==null?void 0:c.options):(h=x.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:i},(g=x.offset)==null?void 0:g.options)},arrow:Object.assign({},x.arrow,{enabled:!!a,options:Object.assign({},(v=x.arrow)==null?void 0:v.options,{element:a})}),flip:Object.assign({enabled:!!r},x.flip)}))})}const Jfe=["children"];function ede(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const tde=()=>{};function tB(t={}){const e=b.useContext(T3),[n,r]=LN(),i=b.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:h=!0,usePopper:g=!!e}=t,v=(e==null?void 0:e.show)==null?!!t.show:e.show;v&&!i.current&&(i.current=!0);const x=O=>{e==null||e.toggle(!1,O)},{placement:y,setMenu:_,menuElement:E,toggleElement:w}=e||{},M=jfe(w,E,Zfe({placement:u||y||"bottom-start",enabled:g,enableEvents:h??v,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:c})),C=Object.assign({ref:_||tde,"aria-labelledby":w==null?void 0:w.id},M.attributes.popper,{style:M.styles.popper}),R={show:v,placement:y,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:g?M:null,arrowProps:g?Object.assign({ref:r},M.attributes.arrow,{style:M.styles.arrow}):{}};return Xfe(E,x,{clickTrigger:a,disabled:!v}),[C,R]}const nde={usePopper:!0};function GT(t){let{children:e}=t,n=ede(t,Jfe);const[r,i]=tB(n);return H(Xr,{children:e(r,i)})}GT.displayName="DropdownMenu";GT.defaultProps=nde;const nB={prefix:String(Math.round(Math.random()*1e10)),current:0},rde=ee.createContext(nB);let ide=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function sde(t){let e=b.useContext(rde);return e===nB&&!ide&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),b.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}const rB=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},AD=()=>{};function iB(){const t=sde(),{show:e=!1,toggle:n=AD,setToggle:r,menuElement:i}=b.useContext(T3)||{},s=b.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||AD,onClick:s,"aria-expanded":!!e};return i&&rB(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function sB({children:t}){const[e,n]=iB();return H(Xr,{children:t(e,n)})}sB.displayName="DropdownToggle";const ode=["eventKey","disabled","onClick","active","as"];function ade(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oB({key:t,href:e,active:n,disabled:r,onClick:i}){const s=b.useContext(ch),o=b.useContext(ST),{activeKey:a}=o||{},l=Kv(t,e),u=n==null&&t!=null?Kv(a)===l:n;return[{onClick:wr(h=>{r||(i==null||i(h),s&&!h.isPropagationStopped()&&s(l,h))}),"aria-disabled":r||void 0,"aria-selected":u,[hg("dropdown-item")]:""},{isActive:u}]}const aB=b.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=Zb}=t,a=ade(t,ode);const[l]=oB({key:n,href:a.href,disabled:r,onClick:i,active:s});return H(o,Object.assign({},a,{ref:e},l))});aB.displayName="DropdownItem";function MD(){const t=Mz(),e=b.useRef(null),n=b.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function H1({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${hg("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=gT(),[u,c]=ON(e,t,r),[h,g]=MD(),v=h.current,[x,y]=MD(),_=x.current,E=NN(u),w=b.useRef(null),M=b.useRef(!1),C=b.useContext(ch),R=b.useCallback((q,Q,W=Q==null?void 0:Q.type)=>{c(q,{originalEvent:Q,source:W})},[c]),O=wr((q,Q)=>{n==null||n(q,Q),R(!1,Q,"select"),Q.isPropagationStopped()||C==null||C(q,Q)}),k=b.useMemo(()=>({toggle:R,placement:o,show:u,menuElement:v,toggleElement:_,setMenu:g,setToggle:y}),[R,o,u,v,_,g,y]);v&&E&&!u&&(M.current=v.contains(v.ownerDocument.activeElement));const P=wr(()=>{_&&_.focus&&_.focus()}),z=wr(()=>{const q=w.current;let Q=s;if(Q==null&&(Q=h.current&&rB(h.current)?"keyboard":!1),Q===!1||Q==="keyboard"&&!/^key.+$/.test(q))return;const W=ru(h.current,i)[0];W&&W.focus&&W.focus()});b.useEffect(()=>{u?z():M.current&&(M.current=!1,P())},[u,M,P,z]),b.useEffect(()=>{w.current=null});const B=(q,Q)=>{if(!h.current)return null;const W=ru(h.current,i);let X=W.indexOf(q)+Q;return X=Math.max(0,Math.min(X,W.length)),W[X]};return zae(b.useCallback(()=>l.document,[l]),"keydown",q=>{var Q,W;const{key:X}=q,ne=q.target,se=(Q=h.current)==null?void 0:Q.contains(ne),de=(W=x.current)==null?void 0:W.contains(ne);if(/input|textarea/i.test(ne.tagName)&&(X===" "||X!=="Escape"&&se||X==="Escape"&&ne.type==="search")||!se&&!de||X==="Tab"&&(!h.current||!u))return;w.current=q.type;const te={originalEvent:q,source:q.type};switch(X){case"ArrowUp":{const re=B(ne,-1);re&&re.focus&&re.focus(),q.preventDefault();return}case"ArrowDown":if(q.preventDefault(),!u)c(!0,te);else{const re=B(ne,1);re&&re.focus&&re.focus()}return;case"Tab":eT(ne.ownerDocument,"keyup",re=>{var V;(re.key==="Tab"&&!re.target||!((V=h.current)!=null&&V.contains(re.target)))&&c(!1,te)},{once:!0});break;case"Escape":X==="Escape"&&(q.preventDefault(),q.stopPropagation()),c(!1,te);break}}),H(ch.Provider,{value:O,children:H(T3.Provider,{value:k,children:a})})}H1.displayName="Dropdown";H1.Menu=GT;H1.Toggle=sB;H1.Item=aB;const WT=b.createContext({});WT.displayName="DropdownContext";const lB=b.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Jb,...a},l)=>{const u=mn(t,"dropdown-item"),[c,h]=oB({key:n,href:a.href,disabled:r,onClick:i,active:s});return H(o,{...a,...c,ref:l,className:Wt(e,u,h.isActive&&"active",r&&"disabled")})});lB.displayName="DropdownItem";const jT=b.createContext(null);jT.displayName="InputGroupContext";function uB(t,e){return t}const zp=Vt.oneOf(["start","end"]);Vt.oneOfType([zp,Vt.shape({sm:zp}),Vt.shape({md:zp}),Vt.shape({lg:zp}),Vt.shape({xl:zp}),Vt.shape({xxl:zp}),Vt.object]);const lde={flip:!0};function cB(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let h=t?o:s;return e==="up"?h=t?i:r:e==="end"?h=t?c:u:e==="start"?h=t?l:a:e==="down-centered"?h="bottom":e==="up-centered"&&(h="top"),h}const YT=b.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:u,...c},h)=>{let g=!1;const v=b.useContext(pf),x=mn(t,"dropdown-menu"),{align:y,drop:_,isRTL:E}=b.useContext(WT);n=n||y;const w=b.useContext(jT),M=[];if(n)if(typeof n=="object"){const q=Object.keys(n);if(q.length){const Q=q[0],W=n[Q];g=W==="start",M.push(`${x}-${Q}-${W}`)}}else n==="end"&&(g=!0);const C=cB(g,_,E),[R,{hasShown:O,popper:k,show:P,toggle:z}]=tB({flip:i,rootCloseEvent:r,show:s,usePopper:!v&&M.length===0,offset:[0,2],popperConfig:l,placement:C});if(R.ref=wh(uB(h),R.ref),h2(()=>{P&&(k==null||k.update())},[P]),!O&&!o&&!w)return null;typeof a!="string"&&(R.show=P,R.close=()=>z==null?void 0:z(!1),R.align=n);let B=c.style;return k!=null&&k.placement&&(B={...c.style,...R.style},c["x-placement"]=k.placement),H(a,{...c,...R,style:B,...(M.length||v)&&{"data-bs-popper":"static"},className:Wt(e,x,P&&"show",g&&`${x}-end`,u&&`${x}-${u}`,...M)})});YT.displayName="DropdownMenu";YT.defaultProps=lde;const fB=b.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Dr,...s},o)=>{const a=mn(t,"dropdown-toggle"),l=b.useContext(T3);r!==void 0&&(s.bsPrefix=r);const[u]=iB();return u.ref=wh(u.ref,uB(o)),H(i,{className:Wt(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...s})});fB.displayName="DropdownToggle";const ude=Kr("dropdown-header",{defaultProps:{role:"heading"}}),cde=Kr("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),fde=Kr("dropdown-item-text",{Component:"span"}),dde={navbar:!1,align:"start",autoClose:!0,drop:"down"},QT=b.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:h,autoClose:g,...v}=x3(t,{show:"onToggle"}),x=b.useContext(jT),y=mn(n,"dropdown"),_=IN(),E=k=>g===!1?k==="click":g==="inside"?k!=="rootClose":g==="outside"?k!=="select":!0,w=wr((k,P)=>{P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),E(P.source)&&(l==null||l(k,P))}),C=cB(o==="end",r,_),R=b.useMemo(()=>({align:o,drop:r,isRTL:_}),[o,r,_]),O={down:y,"down-centered":`${y}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return H(WT.Provider,{value:R,children:H(H1,{placement:C,show:i,onSelect:a,onToggle:w,focusFirstItemOnShow:u,itemSelector:`.${y}-item:not(.disabled):not(:disabled)`,children:x?v.children:H(c,{...v,ref:e,className:Wt(s,i&&"show",O[r])})})})});QT.displayName="Dropdown";QT.defaultProps=dde;const zd=Object.assign(QT,{Toggle:fB,Menu:YT,Item:lB,ItemText:fde,Divider:cde,Header:ude}),dB=b.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:u,menuVariant:c,...h},g)=>{const v=mn(void 0,"nav-item");return Be(zd,{ref:g,...h,className:Wt(i,v),children:[H(zd.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:b3,children:e}),H(zd.Menu,{role:o,renderOnMount:u,rootCloseEvent:s,variant:c,children:n})]})});dB.displayName="NavDropdown";const kx=Object.assign(dB,{Item:zd.Item,ItemText:zd.ItemText,Divider:zd.Divider,Header:zd.Header});function hde({showSidebar:t,setShowSidebar:e}){return Be(Xr,{children:[" ",Be(z0,{show:t,onHide:()=>e(!1),children:[H(z0.Header,{closeButton:!0,children:H(z0.Title,{style:{fontSize:"22px"},children:"Useful information"})}),Be(z0.Body,{children:[H("p",{style:{fontStyle:"italic"},children:'"Is it a game or is it reality? Am I an automaton or am I in control? Will I multiply, or die?"'}),H("p",{className:"tips_title",children:"About this game"}),H("p",{children:"Best thought of as a simulation rather than a game, Automatrix simulates a two-dimensional cellular automaton and is the latest interpretation of John Conway's Game Of Life. When you run the simulation, what you are seeing is a series of algorithmic computations which alter the binary state of individual cells, with each round of computations transforming the configuration of the pattern that you see on the board."}),H("p",{children:"It may seem like a simple thing on the surface, but this game is based on deep complexity that spreads across various fields, several of which are mathematical in nature. It is a fascinating topic that deserves an in-depth exploration, especially for those who are numerically inclined."}),H("div",{style:{borderBottom:"2px solid grey",margin:"20px 0"}}),H("p",{className:"tips_title",children:"Switching between 3D and 2D views"}),H("p",{children:"The game keeps constant track of your board configuration such that you're able to freely switch between the 3D and 2D boards while the game continues to make its computations and your pattern continues to evolve."}),H("p",{className:"tips_title",children:"Camera controls"}),"In the 3D view, you can fully control the camera's position and distance with your mouse.",H("div",{style:{marginBottom:"6px"}}),Be("ul",{children:[H("li",{children:"To zoom in and out, use the provided slider rather than your mouse scroll wheel."}),H("li",{children:" To rotate the camera, hold down the left mouse button and move your mouse around. (The centre of your screen is used as a fixed pivot.)"}),H("li",{children:"To move the camera, hold down the right moust button and move your mouse around."})]}),H("p",{className:"tips_title",children:"Changing board size"}),H("p",{children:"To increase or decrease the size of the board, first pause the game, make the adjustment and then resume the game."}),H("p",{className:"tips_title",children:"Effects"}),H("p",{children:"For the 3D board, there are several visual effects available to choose from, including block color, bloom and background scene. Make sure to give these a try!"}),H("p",{className:"tips_title",children:"Edge type"}),H("p",{children:"This controls the behaviour of the cells when they meet an edge. This has a significant impact on the way the game plays out."}),Be("ul",{children:[H("li",{children:"Hard edge: opposite edges are completely ignored. When a block is at the very edge of the board, it is considered to have 5 neighbours as opposed to the usual 8."}),H("li",{children:"Wrap around: your pattern will completely ignore all edges, such that when a block is at the very edge of the board, it does not meet a hard stop. Instead, blocks at the immediate start of the opposite edge are counted as being neighbours, so the cell still has 8 neightbours (5 immediate neighbours plus 3 neighbours at the opposing edge). This effectively creates an infinite play area and allows your pattern to disappear from one side and reappear at the other."})]}),Be("p",{children:[`You'll almost always want to keep this set to "Wrap around". However, there may be times when you may wish to set it to "Hard edge". For instance, the `,H("span",{className:"tips_span",children:"Gosper glider gun"})," pattern requires a hard edge to achieve its full potential. Play around with this feature to see if you can find any other good uses for it!"]})]})]})]})}const pde=()=>H("svg",{style:{margin:"-3px 12px 4px",width:"30px",height:"30px"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-emoji-smile-upside-down-fill",viewBox:"0 0 16 16",children:H("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM7 9.5C7 8.672 6.552 8 6 8s-1 .672-1 1.5.448 1.5 1 1.5 1-.672 1-1.5zM4.285 6.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 4.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 3.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683zM10 8c-.552 0-1 .672-1 1.5s.448 1.5 1 1.5 1-.672 1-1.5S10.552 8 10 8z"})}),mde=()=>Be("svg",{style:{margin:"0 4px 0 0",height:"35px",width:"35px"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-badge-3d-fill",viewBox:"0 0 16 16",children:[H("path",{d:"M10.157 5.968h-.844v4.06h.844c1.116 0 1.621-.667 1.621-2.02 0-1.354-.51-2.04-1.621-2.04z"}),H("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm5.184 4.368c.646 0 1.055.378 1.06.9.008.537-.427.919-1.086.919-.598-.004-1.037-.325-1.068-.756H3c.03.914.791 1.688 2.153 1.688 1.24 0 2.285-.66 2.272-1.798-.013-.953-.747-1.38-1.292-1.432v-.062c.44-.07 1.125-.527 1.108-1.375-.013-.906-.8-1.57-2.053-1.565-1.31.005-2.043.734-2.074 1.67h1.103c.022-.391.383-.751.936-.751.532 0 .928.33.928.813.004.479-.383.835-.928.835h-.632v.914h.663zM8.126 11h2.189C12.125 11 13 9.893 13 7.985c0-1.894-.861-2.984-2.685-2.984H8.126V11z"})]}),gde=()=>H("svg",{style:{display:"block",margin:"0 auto",height:"150px",width:"150px",color:"white"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-chat-right-quote-fill",viewBox:"0 0 16 16",children:H("path",{d:"M16 2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9.586a1 1 0 0 1 .707.293l2.853 2.853a.5.5 0 0 0 .854-.353V2zM7.194 4.766c.087.124.163.26.227.401.428.948.393 2.377-.942 3.706a.446.446 0 0 1-.612.01.405.405 0 0 1-.011-.59c.419-.416.672-.831.809-1.22-.269.165-.588.26-.93.26C4.775 7.333 4 6.587 4 5.667 4 4.747 4.776 4 5.734 4c.271 0 .528.06.756.166l.008.004c.169.07.327.182.469.324.085.083.161.174.227.272zM11 7.073c-.269.165-.588.26-.93.26-.958 0-1.735-.746-1.735-1.666 0-.92.777-1.667 1.734-1.667.271 0 .528.06.756.166l.008.004c.17.07.327.182.469.324.085.083.161.174.227.272.087.124.164.26.228.401.428.948.392 2.377-.942 3.706a.446.446 0 0 1-.613.01.405.405 0 0 1-.011-.59c.42-.416.672-.831.81-1.22z"})}),vde=()=>Be("svg",{style:{display:"block",margin:"0 auto",height:"150px",width:"150px",color:"white"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-emoji-expressionless",viewBox:"0 0 16 16",children:[H("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),H("path",{d:"M4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm5 0a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"})]});function yde(){const[t,e]=b.useState(!1),[n,r]=b.useState([]),{gameParameters:{username:i},setGameParameters:s}=b.useContext(Bs),o=cg();b.useEffect(()=>{lz().then(({data:{patterns:u}})=>{r(u)})},[]);function a(u){return()=>{const c=u.split(" ").map(h=>h.split("").map(g=>+g));s(h=>({...h,isRunning:!1,configuration:c})),o("3dgame")}}const l=["Glider","Gosper glider gun","LWSS","Beacon","Toad","HWSS","Penta-deca","Superlative","Cloverleaf","Alien craft"];return Be(Xr,{children:[H(Ox,{id:"nav",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Be(ET,{children:[H(Ox.Brand,{onClick:()=>o("/"),children:"Automatrix"}),H(Ox.Toggle,{"aria-controls":"responsive-navbar-nav"}),Be(Ox.Collapse,{id:"responsive-navbar-nav",children:[Be(Pr,{className:"me-auto",children:[!1,H(Pr.Link,{style:{color:"rgb(255, 165, 0)",fontWeight:"bold"},onClick:()=>o("3dgame"),children:H(mde,{})}),H(Pr.Link,{id:"two-d-nav",onClick:()=>o("2dgame"),children:"2D"}),Be(kx,{title:"Featured patterns",id:"collasible-nav-dropdown",disabled:n.length===0,children:[n.length&&n.map(u=>{if(l.includes(u.pattern_name))return Be(kx.Item,{onClick:a(u.pattern_body),children:['"',u.pattern_name,'"']},u._id)}),H(kx.Divider,{}),H(kx.Item,{onClick:()=>o("patterns"),children:"All patterns"})]}),H(Pr.Link,{onClick:()=>o("tutorial"),children:"Tutorial"}),H(Pr.Link,{onClick:()=>e(!0),children:"Tips"}),H(Pr.Link,{onClick:()=>o("patterns"),children:"All patterns"}),i&&H(Pr.Link,{onClick:()=>o(`/patterns/${i}`),children:"My patterns"})]}),Be(Pr,{children:[H(Pr.Link,{onClick:()=>o("users"),children:"Users"}),H(Pr.Link,{onClick:()=>o("comments"),children:"Social"}),H(Pr.Link,{onClick:()=>{o(i?"profile":"login")},children:i?`Hi, ${i}!`:"Login"}),i&&H(Pr.Link,{onClick:()=>{s(u=>({...u,username:""})),window.localStorage.setItem("MTYD_APP",""),o("3dgame")},children:"Logout"})]})]})]})}),H(hde,{showSidebar:t,setShowSidebar:e})]})}function bD({texture:t}){const[e]=G7(t,256);return H("meshMatcapMaterial",{matcap:e})}const xde=()=>H(U7,{speed:2.4,rotationIntensity:2.4,floatIntensity:2,floatingRange:[-2,2],children:Be(F7,{children:[Be(GA,{font:jA,height:.5,letterSpacing:-.06,size:2.8,curveSegments:10,bevelEnabled:!0,bevelThickness:.02,bevelOffset:0,bevelSegments:5,children:[" ","AUTOMATRIX",H(bD,{texture:"422509_C89536_824512_0A0604"})," "]}),H("mesh",{position:[2,-4,0],children:Be(GA,{font:jA,height:.5,letterSpacing:-.06,size:2,curveSegments:10,bevelEnabled:!0,bevelThickness:.02,bevelOffset:0,bevelSegments:5,children:[" ","Multiply or die.",H(bD,{texture:"3B3C3F_DAD9D5_929290_ABACA8"})," "]})})]})});var O4={},_de={get exports(){return O4},set exports(t){O4=t}},L4={},wde={get exports(){return L4},set exports(t){L4=t}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var WE,TD;function Ede(){if(TD)return WE;TD=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(o).map(function(c){return o[c]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(c){u[c]=c}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return WE=i()?Object.assign:function(s,o){for(var a,l=r(s),u,c=1;c<arguments.length;c++){a=Object(arguments[c]);for(var h in a)e.call(a,h)&&(l[h]=a[h]);if(t){u=t(a);for(var g=0;g<u.length;g++)n.call(a,u[g])&&(l[u[g]]=a[u[g]])}}return l},WE}var Hm={},Sde={get exports(){return Hm},set exports(t){Hm=t}},hB={};/** @license React v0.20.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var V=t.unstable_now();l(!0,V),l=null}catch(J){throw setTimeout(c,0),J}};e=function(V){l!==null?setTimeout(e,0,V):(l=V,setTimeout(c,0))},n=function(V,J){u=setTimeout(V,J)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,g=window.clearTimeout;if(typeof console<"u"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,y=null,_=-1,E=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},i=function(){},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5};var M=new MessageChannel,C=M.port2;M.port1.onmessage=function(){if(y!==null){var V=t.unstable_now();w=V+E;try{y(!0,V)?C.postMessage(null):(x=!1,y=null)}catch(J){throw C.postMessage(null),J}}else x=!1},e=function(V){y=V,x||(x=!0,C.postMessage(null))},n=function(V,J){_=h(function(){V(t.unstable_now())},J)},r=function(){g(_),_=-1}}function R(V,J){var he=V.length;V.push(J);e:for(;;){var we=he-1>>>1,be=V[we];if(be!==void 0&&0<P(be,J))V[we]=J,V[he]=be,he=we;else break e}}function O(V){return V=V[0],V===void 0?null:V}function k(V){var J=V[0];if(J!==void 0){var he=V.pop();if(he!==J){V[0]=he;e:for(var we=0,be=V.length;we<be;){var pe=2*(we+1)-1,Ke=V[pe],We=pe+1,rt=V[We];if(Ke!==void 0&&0>P(Ke,he))rt!==void 0&&0>P(rt,Ke)?(V[we]=rt,V[We]=he,we=We):(V[we]=Ke,V[pe]=he,we=pe);else if(rt!==void 0&&0>P(rt,he))V[we]=rt,V[We]=he,we=We;else break e}}return J}return null}function P(V,J){var he=V.sortIndex-J.sortIndex;return he!==0?he:V.id-J.id}var z=[],B=[],q=1,Q=null,W=3,X=!1,ne=!1,se=!1;function de(V){for(var J=O(B);J!==null;){if(J.callback===null)k(B);else if(J.startTime<=V)k(B),J.sortIndex=J.expirationTime,R(z,J);else break;J=O(B)}}function G(V){if(se=!1,de(V),!ne)if(O(z)!==null)ne=!0,e(te);else{var J=O(B);J!==null&&n(G,J.startTime-V)}}function te(V,J){ne=!1,se&&(se=!1,r()),X=!0;var he=W;try{for(de(J),Q=O(z);Q!==null&&(!(Q.expirationTime>J)||V&&!t.unstable_shouldYield());){var we=Q.callback;if(typeof we=="function"){Q.callback=null,W=Q.priorityLevel;var be=we(Q.expirationTime<=J);J=t.unstable_now(),typeof be=="function"?Q.callback=be:Q===O(z)&&k(z),de(J)}else k(z);Q=O(z)}if(Q!==null)var pe=!0;else{var Ke=O(B);Ke!==null&&n(G,Ke.startTime-J),pe=!1}return pe}finally{Q=null,W=he,X=!1}}var re=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){ne||X||(ne=!0,e(te))},t.unstable_getCurrentPriorityLevel=function(){return W},t.unstable_getFirstCallbackNode=function(){return O(z)},t.unstable_next=function(V){switch(W){case 1:case 2:case 3:var J=3;break;default:J=W}var he=W;W=J;try{return V()}finally{W=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=re,t.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var he=W;W=V;try{return J()}finally{W=he}},t.unstable_scheduleCallback=function(V,J,he){var we=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?we+he:we):he=we,V){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=he+be,V={id:q++,callback:J,priorityLevel:V,startTime:he,expirationTime:be,sortIndex:-1},he>we?(V.sortIndex=he,R(B,V),O(z)===null&&V===O(B)&&(se?r():se=!0,n(G,he-we))):(V.sortIndex=be,R(z,V),ne||X||(ne=!0,e(te))),V},t.unstable_wrapCallback=function(V){var J=W;return function(){var he=W;W=J;try{return V.apply(this,arguments)}finally{W=he}}}})(hB);(function(t){t.exports=hB})(Sde);/** @license React v0.26.1
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){t.exports=function(n){var r={},i=Ede(),s=b,o=Hm;function a(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,c=60106,h=60107,g=60108,v=60114,x=60109,y=60110,_=60112,E=60113,w=60120,M=60115,C=60116,R=60121,O=60129,k=60130,P=60131;if(typeof Symbol=="function"&&Symbol.for){var z=Symbol.for;u=z("react.element"),c=z("react.portal"),h=z("react.fragment"),g=z("react.strict_mode"),v=z("react.profiler"),x=z("react.provider"),y=z("react.context"),_=z("react.forward_ref"),E=z("react.suspense"),w=z("react.suspense_list"),M=z("react.memo"),C=z("react.lazy"),R=z("react.block"),z("react.scope"),O=z("react.debug_trace_mode"),k=z("react.offscreen"),P=z("react.legacy_hidden")}var B=typeof Symbol=="function"&&Symbol.iterator;function q(p){return p===null||typeof p!="object"?null:(p=B&&p[B]||p["@@iterator"],typeof p=="function"?p:null)}function Q(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case h:return"Fragment";case c:return"Portal";case v:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case w:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case y:return(p.displayName||"Context")+".Consumer";case x:return(p._context.displayName||"Context")+".Provider";case _:var m=p.render;return m=m.displayName||m.name||"",p.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case M:return Q(p.type);case R:return Q(p._render);case C:m=p._payload,p=p._init;try{return Q(p(m))}catch{}}return null}function W(p){var m=p,S=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&1026&&(S=m.return),p=m.return;while(p)}return m.tag===3?S:null}function X(p){if(W(p)!==p)throw Error(a(188))}function ne(p){var m=p.alternate;if(!m){if(m=W(p),m===null)throw Error(a(188));return m!==p?null:p}for(var S=p,I=m;;){var L=S.return;if(L===null)break;var F=L.alternate;if(F===null){if(I=L.return,I!==null){S=I;continue}break}if(L.child===F.child){for(F=L.child;F;){if(F===S)return X(L),p;if(F===I)return X(L),m;F=F.sibling}throw Error(a(188))}if(S.return!==I.return)S=L,I=F;else{for(var K=!1,oe=L.child;oe;){if(oe===S){K=!0,S=L,I=F;break}if(oe===I){K=!0,I=L,S=F;break}oe=oe.sibling}if(!K){for(oe=F.child;oe;){if(oe===S){K=!0,S=F,I=L;break}if(oe===I){K=!0,I=F,S=L;break}oe=oe.sibling}if(!K)throw Error(a(189))}}if(S.alternate!==I)throw Error(a(190))}if(S.tag!==3)throw Error(a(188));return S.stateNode.current===S?p:m}function se(p){if(p=ne(p),!p)return null;for(var m=p;;){if(m.tag===5||m.tag===6)return m;if(m.child)m.child.return=m,m=m.child;else{if(m===p)break;for(;!m.sibling;){if(!m.return||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}}return null}function de(p){if(p=ne(p),!p)return null;for(var m=p;;){if(m.tag===5||m.tag===6)return m;if(m.child&&m.tag!==4)m.child.return=m,m=m.child;else{if(m===p)break;for(;!m.sibling;){if(!m.return||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}}return null}function G(p,m){for(var S=p.alternate;m!==null;){if(m===p||m===S)return!0;m=m.return}return!1}var te=n.getPublicInstance,re=n.getRootHostContext,V=n.getChildHostContext,J=n.prepareForCommit,he=n.resetAfterCommit,we=n.createInstance,be=n.appendInitialChild,pe=n.finalizeInitialChildren,Ke=n.prepareUpdate,We=n.shouldSetTextContent,rt=n.createTextInstance,Qe=n.scheduleTimeout,ut=n.cancelTimeout,Pe=n.noTimeout,ye=n.isPrimaryRenderer,De=n.supportsMutation,Je=n.supportsPersistence,He=n.supportsHydration,St=n.getInstanceFromNode,gt=n.makeOpaqueHydratingObject,ft=n.makeClientId,Lt=n.beforeActiveInstanceBlur,qt=n.afterActiveInstanceBlur,Z=n.preparePortalMount,U=n.supportsTestSelectors,ae=n.findFiberRoot,Ee=n.getBoundingRect,ze=n.getTextContent,qe=n.isHiddenSubtree,xt=n.matchAccessibilityRole,$e=n.setFocusIfFocusable,Le=n.setupIntersectionObserver,mt=n.appendChild,ie=n.appendChildToContainer,Se=n.commitTextUpdate,Ue=n.commitMount,Ye=n.commitUpdate,wt=n.insertBefore,Gt=n.insertInContainerBefore,In=n.removeChild,le=n.removeChildFromContainer,Te=n.resetTextContent,Fe=n.hideInstance,at=n.hideTextInstance,_t=n.unhideInstance,vn=n.unhideTextInstance,tr=n.clearContainer,Vr=n.cloneInstance,so=n.createContainerChildSet,Pn=n.appendChildToContainerChildSet,Us=n.finalizeContainerChildren,ki=n.replaceContainerChildren,yf=n.cloneHiddenInstance,Mh=n.cloneHiddenTextInstance,bh=n.canHydrateInstance,xf=n.canHydrateTextInstance,Y=n.isSuspenseInstancePending,ge=n.isSuspenseInstanceFallback,Ie=n.getNextHydratableSibling,me=n.getFirstHydratableChild,ke=n.hydrateInstance,bt=n.hydrateTextInstance,Ft=n.getNextHydratableInstanceAfterSuspenseInstance,jt=n.commitHydratedContainer,Zt=n.commitHydratedSuspenseInstance,on;function Kt(p){if(on===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);on=m&&m[1]||""}return`
`+on+p}var en=!1;function Gn(p,m){if(!p||en)return"";en=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Me){var I=Me}Reflect.construct(p,[],m)}else{try{m.call()}catch(Me){I=Me}p.call(m.prototype)}else{try{throw Error()}catch(Me){I=Me}p()}}catch(Me){if(Me&&I&&typeof Me.stack=="string"){for(var L=Me.stack.split(`
`),F=I.stack.split(`
`),K=L.length-1,oe=F.length-1;1<=K&&0<=oe&&L[K]!==F[oe];)oe--;for(;1<=K&&0<=oe;K--,oe--)if(L[K]!==F[oe]){if(K!==1||oe!==1)do if(K--,oe--,0>oe||L[K]!==F[oe])return`
`+L[K].replace(" at new "," at ");while(1<=K&&0<=oe);break}}}finally{en=!1,Error.prepareStackTrace=S}return(p=p?p.displayName||p.name:"")?Kt(p):""}var $r=[],vi=-1;function yi(p){return{current:p}}function kt(p){0>vi||(p.current=$r[vi],$r[vi]=null,vi--)}function vt(p,m){vi++,$r[vi]=p.current,p.current=m}var $i={},an=yi($i),lr=yi(!1),Hs=$i;function Zr(p,m){var S=p.type.contextTypes;if(!S)return $i;var I=p.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===m)return I.__reactInternalMemoizedMaskedChildContext;var L={},F;for(F in S)L[F]=m[F];return I&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=L),L}function Wn(p){return p=p.childContextTypes,p!=null}function Ut(){kt(lr),kt(an)}function cn(p,m,S){if(an.current!==$i)throw Error(a(168));vt(an,m),vt(lr,S)}function gs(p,m,S){var I=p.stateNode;if(p=m.childContextTypes,typeof I.getChildContext!="function")return S;I=I.getChildContext();for(var L in I)if(!(L in p))throw Error(a(108,Q(m)||"Unknown",L));return i({},S,I)}function yn(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||$i,Hs=an.current,vt(an,p),vt(lr,lr.current),!0}function Or(p,m,S){var I=p.stateNode;if(!I)throw Error(a(169));S?(p=gs(p,m,Hs),I.__reactInternalMemoizedMergedChildContext=p,kt(lr),kt(an),vt(an,p)):kt(lr),vt(lr,S)}var oo=null,Ni=null,Zi=o.unstable_now;Zi();var Ml=0,On=8;function ja(p){if(1&p)return On=15,1;if(2&p)return On=14,2;if(4&p)return On=13,4;var m=24&p;return m!==0?(On=12,m):p&32?(On=11,32):(m=192&p,m!==0?(On=10,m):p&256?(On=9,256):(m=3584&p,m!==0?(On=8,m):p&4096?(On=7,4096):(m=4186112&p,m!==0?(On=6,m):(m=62914560&p,m!==0?(On=5,m):p&67108864?(On=4,67108864):p&134217728?(On=3,134217728):(m=805306368&p,m!==0?(On=2,m):1073741824&p?(On=1,1073741824):(On=8,p))))))}function Th(p){switch(p){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function j1(p){switch(p){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,p))}}function zi(p,m){var S=p.pendingLanes;if(S===0)return On=0;var I=0,L=0,F=p.expiredLanes,K=p.suspendedLanes,oe=p.pingedLanes;if(F!==0)I=F,L=On=15;else if(F=S&134217727,F!==0){var Me=F&~K;Me!==0?(I=ja(Me),L=On):(oe&=F,oe!==0&&(I=ja(oe),L=On))}else F=S&~K,F!==0?(I=ja(F),L=On):oe!==0&&(I=ja(oe),L=On);if(I===0)return 0;if(I=31-qs(I),I=S&((0>I?0:1<<I)<<1)-1,m!==0&&m!==I&&!(m&K)){if(ja(m),L<=On)return m;On=L}if(m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=I;0<m;)S=31-qs(m),L=1<<S,I|=p[S],m&=~L;return I}function Y1(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Ch(p,m){switch(p){case 15:return 1;case 14:return 2;case 12:return p=Fu(24&~m),p===0?Ch(10,m):p;case 10:return p=Fu(192&~m),p===0?Ch(8,m):p;case 8:return p=Fu(3584&~m),p===0&&(p=Fu(4186112&~m),p===0&&(p=512)),p;case 2:return m=Fu(805306368&~m),m===0&&(m=268435456),m}throw Error(a(358,p))}function Fu(p){return p&-p}function Uu(p){for(var m=[],S=0;31>S;S++)m.push(p);return m}function bl(p,m,S){p.pendingLanes|=m;var I=m-1;p.suspendedLanes&=I,p.pingedLanes&=I,p=p.eventTimes,m=31-qs(m),p[m]=S}var qs=Math.clz32?Math.clz32:H3,Ph=Math.log,U3=Math.LN2;function H3(p){return p===0?32:31-(Ph(p)/U3|0)|0}var yg=o.unstable_runWithPriority,_f=o.unstable_scheduleCallback,Tl=o.unstable_cancelCallback,q3=o.unstable_shouldYield,Rh=o.unstable_requestPaint,dn=o.unstable_now,Q1=o.unstable_getCurrentPriorityLevel,Hu=o.unstable_ImmediatePriority,xg=o.unstable_UserBlockingPriority,X1=o.unstable_NormalPriority,K1=o.unstable_LowPriority,Lr=o.unstable_IdlePriority,wf={},V3=Rh!==void 0?Rh:function(){},ao=null,Dh=null,qu=!1,lo=dn(),Jr=1e4>lo?dn:function(){return dn()-lo};function Vu(){switch(Q1()){case Hu:return 99;case xg:return 98;case X1:return 97;case K1:return 96;case Lr:return 95;default:throw Error(a(332))}}function uo(p){switch(p){case 99:return Hu;case 98:return xg;case 97:return X1;case 96:return K1;case 95:return Lr;default:throw Error(a(332))}}function ei(p,m){return p=uo(p),yg(p,m)}function Ya(p,m,S){return p=uo(p),_f(p,m,S)}function Ji(){if(Dh!==null){var p=Dh;Dh=null,Tl(p)}_g()}function _g(){if(!qu&&ao!==null){qu=!0;var p=0;try{var m=ao;ei(99,function(){for(;p<m.length;p++){var S=m[p];do S=S(!0);while(S!==null)}}),ao=null}catch(S){throw ao!==null&&(ao=ao.slice(p+1)),_f(Hu,Ji),S}finally{qu=!1}}}var G3=l.ReactCurrentBatchConfig;function Oo(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var Vs=typeof Object.is=="function"?Object.is:Oo,Ih=Object.prototype.hasOwnProperty;function Oh(p,m){if(Vs(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var S=Object.keys(p),I=Object.keys(m);if(S.length!==I.length)return!1;for(I=0;I<S.length;I++)if(!Ih.call(m,S[I])||!Vs(p[S[I]],m[S[I]]))return!1;return!0}function co(p){switch(p.tag){case 5:return Kt(p.type);case 16:return Kt("Lazy");case 13:return Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 2:case 15:return p=Gn(p.type,!1),p;case 11:return p=Gn(p.type.render,!1),p;case 22:return p=Gn(p.type._render,!1),p;case 1:return p=Gn(p.type,!0),p;default:return""}}function es(p,m){if(p&&p.defaultProps){m=i({},m),p=p.defaultProps;for(var S in p)m[S]===void 0&&(m[S]=p[S]);return m}return m}var Cl=yi(null),ua=null,Qa=null,Gu=null;function Lh(){Gu=Qa=ua=null}function kh(p,m){p=p.type._context,ye?(vt(Cl,p._currentValue),p._currentValue=m):(vt(Cl,p._currentValue2),p._currentValue2=m)}function Ef(p){var m=Cl.current;kt(Cl),p=p.type._context,ye?p._currentValue=m:p._currentValue2=m}function Pl(p,m){for(;p!==null;){var S=p.alternate;if((p.childLanes&m)===m){if(S===null||(S.childLanes&m)===m)break;S.childLanes|=m}else p.childLanes|=m,S!==null&&(S.childLanes|=m);p=p.return}}function ti(p,m){ua=p,Gu=Qa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(Ys=!0),p.firstContext=null)}function dr(p,m){if(Gu!==p&&m!==!1&&m!==0)if((typeof m!="number"||m===1073741823)&&(Gu=p,m=1073741823),m={context:p,observedBits:m,next:null},Qa===null){if(ua===null)throw Error(a(308));Qa=m,ua.dependencies={lanes:0,firstContext:m,responders:null}}else Qa=Qa.next=m;return ye?p._currentValue:p._currentValue2}var Bi=!1;function Sf(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function wg(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function xi(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function Fi(p,m){if(p=p.updateQueue,p!==null){p=p.shared;var S=p.pending;S===null?m.next=m:(m.next=S.next,S.next=m),p.pending=m}}function Af(p,m){var S=p.updateQueue,I=p.alternate;if(I!==null&&(I=I.updateQueue,S===I)){var L=null,F=null;if(S=S.firstBaseUpdate,S!==null){do{var K={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};F===null?L=F=K:F=F.next=K,S=S.next}while(S!==null);F===null?L=F=m:F=F.next=m}else L=F=m;S={baseState:I.baseState,firstBaseUpdate:L,lastBaseUpdate:F,shared:I.shared,effects:I.effects},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=m:p.next=m,S.lastBaseUpdate=m}function Wu(p,m,S,I){var L=p.updateQueue;Bi=!1;var F=L.firstBaseUpdate,K=L.lastBaseUpdate,oe=L.shared.pending;if(oe!==null){L.shared.pending=null;var Me=oe,Ze=Me.next;Me.next=null,K===null?F=Ze:K.next=Ze,K=Me;var lt=p.alternate;if(lt!==null){lt=lt.updateQueue;var zt=lt.lastBaseUpdate;zt!==K&&(zt===null?lt.firstBaseUpdate=Ze:zt.next=Ze,lt.lastBaseUpdate=Me)}}if(F!==null){zt=L.baseState,K=0,lt=Ze=Me=null;do{oe=F.lane;var st=F.eventTime;if((I&oe)===oe){lt!==null&&(lt=lt.next={eventTime:st,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Nn=p,$n=F;switch(oe=m,st=S,$n.tag){case 1:if(Nn=$n.payload,typeof Nn=="function"){zt=Nn.call(st,zt,oe);break e}zt=Nn;break e;case 3:Nn.flags=Nn.flags&-4097|64;case 0:if(Nn=$n.payload,oe=typeof Nn=="function"?Nn.call(st,zt,oe):Nn,oe==null)break e;zt=i({},zt,oe);break e;case 2:Bi=!0}}F.callback!==null&&(p.flags|=32,oe=L.effects,oe===null?L.effects=[F]:oe.push(F))}else st={eventTime:st,lane:oe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},lt===null?(Ze=lt=st,Me=zt):lt=lt.next=st,K|=oe;if(F=F.next,F===null){if(oe=L.shared.pending,oe===null)break;F=oe.next,oe.next=null,L.lastBaseUpdate=oe,L.shared.pending=null}}while(1);lt===null&&(Me=zt),L.baseState=Me,L.firstBaseUpdate=Ze,L.lastBaseUpdate=lt,Nl|=K,p.lanes=K,p.memoizedState=zt}}function Mf(p,m,S){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var I=p[m],L=I.callback;if(L!==null){if(I.callback=null,I=S,typeof L!="function")throw Error(a(191,L));L.call(I)}}}var Eg=new s.Component().refs;function bf(p,m,S,I){m=p.memoizedState,S=S(I,m),S=S==null?m:i({},m,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var ju={isMounted:function(p){return(p=p._reactInternals)?W(p)===p:!1},enqueueSetState:function(p,m,S){p=p._reactInternals;var I=oi(),L=mo(p),F=xi(I,L);F.payload=m,S!=null&&(F.callback=S),Fi(p,F),Xs(p,L,I)},enqueueReplaceState:function(p,m,S){p=p._reactInternals;var I=oi(),L=mo(p),F=xi(I,L);F.tag=1,F.payload=m,S!=null&&(F.callback=S),Fi(p,F),Xs(p,L,I)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var S=oi(),I=mo(p),L=xi(S,I);L.tag=2,m!=null&&(L.callback=m),Fi(p,L),Xs(p,I,S)}};function Tf(p,m,S,I,L,F,K){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(I,F,K):m.prototype&&m.prototype.isPureReactComponent?!Oh(S,I)||!Oh(L,F):!0}function Sg(p,m,S){var I=!1,L=$i,F=m.contextType;return typeof F=="object"&&F!==null?F=dr(F):(L=Wn(m)?Hs:an.current,I=m.contextTypes,F=(I=I!=null)?Zr(p,L):$i),m=new m(S,F),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ju,p.stateNode=m,m._reactInternals=p,I&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=L,p.__reactInternalMemoizedMaskedChildContext=F),m}function Ag(p,m,S,I){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,I),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,I),m.state!==p&&ju.enqueueReplaceState(m,m.state,null)}function Nh(p,m,S,I){var L=p.stateNode;L.props=S,L.state=p.memoizedState,L.refs=Eg,Sf(p);var F=m.contextType;typeof F=="object"&&F!==null?L.context=dr(F):(F=Wn(m)?Hs:an.current,L.context=Zr(p,F)),Wu(p,S,L,I),L.state=p.memoizedState,F=m.getDerivedStateFromProps,typeof F=="function"&&(bf(p,m,F,S),L.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(m=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),m!==L.state&&ju.enqueueReplaceState(L,L.state,null),Wu(p,S,L,I),L.state=p.memoizedState),typeof L.componentDidMount=="function"&&(p.flags|=4)}var Yu=Array.isArray;function Lo(p,m,S){if(p=S.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(a(309));var I=S.stateNode}if(!I)throw Error(a(147,p));var L=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===L?m.ref:(m=function(F){var K=I.refs;K===Eg&&(K=I.refs={}),F===null?delete K[L]:K[L]=F},m._stringRef=L,m)}if(typeof p!="string")throw Error(a(284));if(!S._owner)throw Error(a(290,p))}return p}function ca(p,m){if(p.type!=="textarea")throw Error(a(31,Object.prototype.toString.call(m)==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":m))}function Cf(p){function m(ve,ce){if(p){var Ae=ve.lastEffect;Ae!==null?(Ae.nextEffect=ce,ve.lastEffect=ce):ve.firstEffect=ve.lastEffect=ce,ce.nextEffect=null,ce.flags=8}}function S(ve,ce){if(!p)return null;for(;ce!==null;)m(ve,ce),ce=ce.sibling;return null}function I(ve,ce){for(ve=new Map;ce!==null;)ce.key!==null?ve.set(ce.key,ce):ve.set(ce.index,ce),ce=ce.sibling;return ve}function L(ve,ce){return ve=mr(ve,ce),ve.index=0,ve.sibling=null,ve}function F(ve,ce,Ae){return ve.index=Ae,p?(Ae=ve.alternate,Ae!==null?(Ae=Ae.index,Ae<ce?(ve.flags=2,ce):Ae):(ve.flags=2,ce)):ce}function K(ve){return p&&ve.alternate===null&&(ve.flags=2),ve}function oe(ve,ce,Ae,it){return ce===null||ce.tag!==6?(ce=Gg(Ae,ve.mode,it),ce.return=ve,ce):(ce=L(ce,Ae),ce.return=ve,ce)}function Me(ve,ce,Ae,it){return ce!==null&&ce.elementType===Ae.type?(it=L(ce,Ae.props),it.ref=Lo(ve,ce,Ae),it.return=ve,it):(it=ad(Ae.type,Ae.key,Ae.props,null,ve.mode,it),it.ref=Lo(ve,ce,Ae),it.return=ve,it)}function Ze(ve,ce,Ae,it){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==Ae.containerInfo||ce.stateNode.implementation!==Ae.implementation?(ce=Ho(Ae,ve.mode,it),ce.return=ve,ce):(ce=L(ce,Ae.children||[]),ce.return=ve,ce)}function lt(ve,ce,Ae,it,Mt){return ce===null||ce.tag!==7?(ce=sl(Ae,ve.mode,it,Mt),ce.return=ve,ce):(ce=L(ce,Ae),ce.return=ve,ce)}function zt(ve,ce,Ae){if(typeof ce=="string"||typeof ce=="number")return ce=Gg(""+ce,ve.mode,Ae),ce.return=ve,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:return Ae=ad(ce.type,ce.key,ce.props,null,ve.mode,Ae),Ae.ref=Lo(ve,null,ce),Ae.return=ve,Ae;case c:return ce=Ho(ce,ve.mode,Ae),ce.return=ve,ce}if(Yu(ce)||q(ce))return ce=sl(ce,ve.mode,Ae,null),ce.return=ve,ce;ca(ve,ce)}return null}function st(ve,ce,Ae,it){var Mt=ce!==null?ce.key:null;if(typeof Ae=="string"||typeof Ae=="number")return Mt!==null?null:oe(ve,ce,""+Ae,it);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case u:return Ae.key===Mt?Ae.type===h?lt(ve,ce,Ae.props.children,it,Mt):Me(ve,ce,Ae,it):null;case c:return Ae.key===Mt?Ze(ve,ce,Ae,it):null}if(Yu(Ae)||q(Ae))return Mt!==null?null:lt(ve,ce,Ae,it,null);ca(ve,Ae)}return null}function Nn(ve,ce,Ae,it,Mt){if(typeof it=="string"||typeof it=="number")return ve=ve.get(Ae)||null,oe(ce,ve,""+it,Mt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case u:return ve=ve.get(it.key===null?Ae:it.key)||null,it.type===h?lt(ce,ve,it.props.children,Mt,it.key):Me(ce,ve,it,Mt);case c:return ve=ve.get(it.key===null?Ae:it.key)||null,Ze(ce,ve,it,Mt)}if(Yu(it)||q(it))return ve=ve.get(Ae)||null,lt(ce,ve,it,Mt,null);ca(ce,it)}return null}function $n(ve,ce,Ae,it){for(var Mt=null,xn=null,Nt=ce,ln=ce=0,ir=null;Nt!==null&&ln<Ae.length;ln++){Nt.index>ln?(ir=Nt,Nt=null):ir=Nt.sibling;var un=st(ve,Nt,Ae[ln],it);if(un===null){Nt===null&&(Nt=ir);break}p&&Nt&&un.alternate===null&&m(ve,Nt),ce=F(un,ce,ln),xn===null?Mt=un:xn.sibling=un,xn=un,Nt=ir}if(ln===Ae.length)return S(ve,Nt),Mt;if(Nt===null){for(;ln<Ae.length;ln++)Nt=zt(ve,Ae[ln],it),Nt!==null&&(ce=F(Nt,ce,ln),xn===null?Mt=Nt:xn.sibling=Nt,xn=Nt);return Mt}for(Nt=I(ve,Nt);ln<Ae.length;ln++)ir=Nn(Nt,ve,ln,Ae[ln],it),ir!==null&&(p&&ir.alternate!==null&&Nt.delete(ir.key===null?ln:ir.key),ce=F(ir,ce,ln),xn===null?Mt=ir:xn.sibling=ir,xn=ir);return p&&Nt.forEach(function(Vo){return m(ve,Vo)}),Mt}function Ss(ve,ce,Ae,it){var Mt=q(Ae);if(typeof Mt!="function")throw Error(a(150));if(Ae=Mt.call(Ae),Ae==null)throw Error(a(151));for(var xn=Mt=null,Nt=ce,ln=ce=0,ir=null,un=Ae.next();Nt!==null&&!un.done;ln++,un=Ae.next()){Nt.index>ln?(ir=Nt,Nt=null):ir=Nt.sibling;var Vo=st(ve,Nt,un.value,it);if(Vo===null){Nt===null&&(Nt=ir);break}p&&Nt&&Vo.alternate===null&&m(ve,Nt),ce=F(Vo,ce,ln),xn===null?Mt=Vo:xn.sibling=Vo,xn=Vo,Nt=ir}if(un.done)return S(ve,Nt),Mt;if(Nt===null){for(;!un.done;ln++,un=Ae.next())un=zt(ve,un.value,it),un!==null&&(ce=F(un,ce,ln),xn===null?Mt=un:xn.sibling=un,xn=un);return Mt}for(Nt=I(ve,Nt);!un.done;ln++,un=Ae.next())un=Nn(Nt,ve,ln,un.value,it),un!==null&&(p&&un.alternate!==null&&Nt.delete(un.key===null?ln:un.key),ce=F(un,ce,ln),xn===null?Mt=un:xn.sibling=un,xn=un);return p&&Nt.forEach(function(Q3){return m(ve,Q3)}),Mt}return function(ve,ce,Ae,it){var Mt=typeof Ae=="object"&&Ae!==null&&Ae.type===h&&Ae.key===null;Mt&&(Ae=Ae.props.children);var xn=typeof Ae=="object"&&Ae!==null;if(xn)switch(Ae.$$typeof){case u:e:{for(xn=Ae.key,Mt=ce;Mt!==null;){if(Mt.key===xn){switch(Mt.tag){case 7:if(Ae.type===h){S(ve,Mt.sibling),ce=L(Mt,Ae.props.children),ce.return=ve,ve=ce;break e}break;default:if(Mt.elementType===Ae.type){S(ve,Mt.sibling),ce=L(Mt,Ae.props),ce.ref=Lo(ve,Mt,Ae),ce.return=ve,ve=ce;break e}}S(ve,Mt);break}else m(ve,Mt);Mt=Mt.sibling}Ae.type===h?(ce=sl(Ae.props.children,ve.mode,it,Ae.key),ce.return=ve,ve=ce):(it=ad(Ae.type,Ae.key,Ae.props,null,ve.mode,it),it.ref=Lo(ve,ce,Ae),it.return=ve,ve=it)}return K(ve);case c:e:{for(Mt=Ae.key;ce!==null;){if(ce.key===Mt)if(ce.tag===4&&ce.stateNode.containerInfo===Ae.containerInfo&&ce.stateNode.implementation===Ae.implementation){S(ve,ce.sibling),ce=L(ce,Ae.children||[]),ce.return=ve,ve=ce;break e}else{S(ve,ce);break}else m(ve,ce);ce=ce.sibling}ce=Ho(Ae,ve.mode,it),ce.return=ve,ve=ce}return K(ve)}if(typeof Ae=="string"||typeof Ae=="number")return Ae=""+Ae,ce!==null&&ce.tag===6?(S(ve,ce.sibling),ce=L(ce,Ae),ce.return=ve,ve=ce):(S(ve,ce),ce=Gg(Ae,ve.mode,it),ce.return=ve,ve=ce),K(ve);if(Yu(Ae))return $n(ve,ce,Ae,it);if(q(Ae))return Ss(ve,ce,Ae,it);if(xn&&ca(ve,Ae),typeof Ae>"u"&&!Mt)switch(ve.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Q(ve.type)||"Component"))}return S(ve,ce)}}var Rl=Cf(!0),vs=Cf(!1),_i={},Gr=yi(_i),ys=yi(_i),ts=yi(_i);function wi(p){if(p===_i)throw Error(a(174));return p}function zh(p,m){vt(ts,m),vt(ys,p),vt(Gr,_i),p=re(m),kt(Gr),vt(Gr,p)}function Xa(){kt(Gr),kt(ys),kt(ts)}function Bh(p){var m=wi(ts.current),S=wi(Gr.current);m=V(S,p.type,m),S!==m&&(vt(ys,p),vt(Gr,m))}function Ui(p){ys.current===p&&(kt(Gr),kt(ys))}var hn=yi(0);function Ln(p){for(var m=p;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Y(S)||ge(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&64)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var xs=null,ni=null,fo=!1;function Mg(p,m){var S=Br(5,null,null,0);S.elementType="DELETED",S.type="DELETED",S.stateNode=m,S.return=p,S.flags=8,p.lastEffect!==null?(p.lastEffect.nextEffect=S,p.lastEffect=S):p.firstEffect=p.lastEffect=S}function Fh(p,m){switch(p.tag){case 5:return m=bh(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,!0):!1;case 6:return m=xf(m,p.pendingProps),m!==null?(p.stateNode=m,!0):!1;case 13:return!1;default:return!1}}function Pf(p){if(fo){var m=ni;if(m){var S=m;if(!Fh(p,m)){if(m=Ie(S),!m||!Fh(p,m)){p.flags=p.flags&-1025|2,fo=!1,xs=p;return}Mg(xs,S)}xs=p,ni=me(m)}else p.flags=p.flags&-1025|2,fo=!1,xs=p}}function bg(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;xs=p}function Ka(p){if(!He||p!==xs)return!1;if(!fo)return bg(p),fo=!0,!1;var m=p.type;if(p.tag!==5||m!=="head"&&m!=="body"&&!We(m,p.memoizedProps))for(m=ni;m;)Mg(p,m),m=Ie(m);if(bg(p),p.tag===13){if(!He)throw Error(a(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));ni=Ft(p)}else ni=xs?Ie(p.stateNode):null;return!0}function $a(){He&&(ni=xs=null,fo=!1)}var Za=[];function Dl(){for(var p=0;p<Za.length;p++){var m=Za[p];ye?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Za.length=0}var Ja=l.ReactCurrentDispatcher,_s=l.ReactCurrentBatchConfig,Qu=0,Fn=null,ri=null,hr=null,Hi=!1,fa=!1;function kr(){throw Error(a(321))}function Gs(p,m){if(m===null)return!1;for(var S=0;S<m.length&&S<p.length;S++)if(!Vs(p[S],m[S]))return!1;return!0}function Rf(p,m,S,I,L,F){if(Qu=F,Fn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Ja.current=p===null||p.memoizedState===null?Gh:Z1,p=S(I,L),fa){F=0;do{if(fa=!1,!(25>F))throw Error(a(301));F+=1,hr=ri=null,m.updateQueue=null,Ja.current=J1,p=S(I,L)}while(fa)}if(Ja.current=Il,m=ri!==null&&ri.next!==null,Qu=0,hr=ri=Fn=null,Hi=!1,m)throw Error(a(300));return p}function Ws(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Fn.memoizedState=hr=p:hr=hr.next=p,hr}function el(){if(ri===null){var p=Fn.alternate;p=p!==null?p.memoizedState:null}else p=ri.next;var m=hr===null?Fn.memoizedState:hr.next;if(m!==null)hr=m,ri=p;else{if(p===null)throw Error(a(310));ri=p,p={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},hr===null?Fn.memoizedState=hr=p:hr=hr.next=p}return hr}function js(p,m){return typeof m=="function"?m(p):m}function kn(p){var m=el(),S=m.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=p;var I=ri,L=I.baseQueue,F=S.pending;if(F!==null){if(L!==null){var K=L.next;L.next=F.next,F.next=K}I.baseQueue=L=F,S.pending=null}if(L!==null){L=L.next,I=I.baseState;var oe=K=F=null,Me=L;do{var Ze=Me.lane;if((Qu&Ze)===Ze)oe!==null&&(oe=oe.next={lane:0,action:Me.action,eagerReducer:Me.eagerReducer,eagerState:Me.eagerState,next:null}),I=Me.eagerReducer===p?Me.eagerState:p(I,Me.action);else{var lt={lane:Ze,action:Me.action,eagerReducer:Me.eagerReducer,eagerState:Me.eagerState,next:null};oe===null?(K=oe=lt,F=I):oe=oe.next=lt,Fn.lanes|=Ze,Nl|=Ze}Me=Me.next}while(Me!==null&&Me!==L);oe===null?F=I:oe.next=K,Vs(I,m.memoizedState)||(Ys=!0),m.memoizedState=I,m.baseState=F,m.baseQueue=oe,S.lastRenderedState=I}return[m.memoizedState,S.dispatch]}function tl(p){var m=el(),S=m.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=p;var I=S.dispatch,L=S.pending,F=m.memoizedState;if(L!==null){S.pending=null;var K=L=L.next;do F=p(F,K.action),K=K.next;while(K!==L);Vs(F,m.memoizedState)||(Ys=!0),m.memoizedState=F,m.baseQueue===null&&(m.baseState=F),S.lastRenderedState=F}return[F,I]}function Uh(p,m,S){var I=m._getVersion;I=I(m._source);var L=ye?m._workInProgressVersionPrimary:m._workInProgressVersionSecondary;if(L!==null?p=L===I:(p=p.mutableReadLanes,(p=(Qu&p)===p)&&(ye?m._workInProgressVersionPrimary=I:m._workInProgressVersionSecondary=I,Za.push(m))),p)return S(m._source);throw Za.push(m),Error(a(350))}function Hh(p,m,S,I){var L=rr;if(L===null)throw Error(a(349));var F=m._getVersion,K=F(m._source),oe=Ja.current,Me=oe.useState(function(){return Uh(L,m,S)}),Ze=Me[1],lt=Me[0];Me=hr;var zt=p.memoizedState,st=zt.refs,Nn=st.getSnapshot,$n=zt.source;zt=zt.subscribe;var Ss=Fn;return p.memoizedState={refs:st,source:m,subscribe:I},oe.useEffect(function(){st.getSnapshot=S,st.setSnapshot=Ze;var ve=F(m._source);if(!Vs(K,ve)){ve=S(m._source),Vs(lt,ve)||(Ze(ve),ve=mo(Ss),L.mutableReadLanes|=ve&L.pendingLanes),ve=L.mutableReadLanes,L.entangledLanes|=ve;for(var ce=L.entanglements,Ae=ve;0<Ae;){var it=31-qs(Ae),Mt=1<<it;ce[it]|=ve,Ae&=~Mt}}},[S,m,I]),oe.useEffect(function(){return I(m._source,function(){var ve=st.getSnapshot,ce=st.setSnapshot;try{ce(ve(m._source));var Ae=mo(Ss);L.mutableReadLanes|=Ae&L.pendingLanes}catch(it){ce(function(){throw it})}})},[m,I]),Vs(Nn,S)&&Vs($n,m)&&Vs(zt,I)||(p={pending:null,dispatch:null,lastRenderedReducer:js,lastRenderedState:lt},p.dispatch=Ze=ha.bind(null,Fn,p),Me.queue=p,Me.baseQueue=null,lt=Uh(L,m,S),Me.memoizedState=Me.baseState=lt),lt}function Df(p,m,S){var I=el();return Hh(I,p,m,S)}function Ei(p){var m=Ws();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p=m.queue={pending:null,dispatch:null,lastRenderedReducer:js,lastRenderedState:p},p=p.dispatch=ha.bind(null,Fn,p),[m.memoizedState,p]}function da(p,m,S,I){return p={tag:p,create:m,destroy:S,deps:I,next:null},m=Fn.updateQueue,m===null?(m={lastEffect:null},Fn.updateQueue=m,m.lastEffect=p.next=p):(S=m.lastEffect,S===null?m.lastEffect=p.next=p:(I=S.next,S.next=p,p.next=I,m.lastEffect=p)),p}function nr(p){var m=Ws();return p={current:p},m.memoizedState=p}function Nr(){return el().memoizedState}function br(p,m,S,I){var L=Ws();Fn.flags|=p,L.memoizedState=da(1|m,S,void 0,I===void 0?null:I)}function Xu(p,m,S,I){var L=el();I=I===void 0?null:I;var F=void 0;if(ri!==null){var K=ri.memoizedState;if(F=K.destroy,I!==null&&Gs(I,K.deps)){da(m,S,F,I);return}}Fn.flags|=p,L.memoizedState=da(1|m,S,F,I)}function Ku(p,m){return br(516,4,p,m)}function nl(p,m){return Xu(516,4,p,m)}function $1(p,m){return Xu(4,2,p,m)}function ii(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function qh(p,m,S){return S=S!=null?S.concat([p]):null,Xu(4,2,ii.bind(null,m,p),S)}function If(){}function Vh(p,m){var S=el();m=m===void 0?null:m;var I=S.memoizedState;return I!==null&&m!==null&&Gs(m,I[1])?I[0]:(S.memoizedState=[p,m],p)}function ko(p,m){var S=el();m=m===void 0?null:m;var I=S.memoizedState;return I!==null&&m!==null&&Gs(m,I[1])?I[0]:(p=p(),S.memoizedState=[p,m],p)}function No(p,m){var S=Vu();ei(98>S?98:S,function(){p(!0)}),ei(97<S?97:S,function(){var I=_s.transition;_s.transition=1;try{p(!1),m()}finally{_s.transition=I}})}function ha(p,m,S){var I=oi(),L=mo(p),F={lane:L,action:S,eagerReducer:null,eagerState:null,next:null},K=m.pending;if(K===null?F.next=F:(F.next=K.next,K.next=F),m.pending=F,K=p.alternate,p===Fn||K!==null&&K===Fn)fa=Hi=!0;else{if(p.lanes===0&&(K===null||K.lanes===0)&&(K=m.lastRenderedReducer,K!==null))try{var oe=m.lastRenderedState,Me=K(oe,S);if(F.eagerReducer=K,F.eagerState=Me,Vs(Me,oe))return}catch{}finally{}Xs(p,L,I)}}var Il={readContext:dr,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useOpaqueIdentifier:kr,unstable_isNewReconciler:!1},Gh={readContext:dr,useCallback:function(p,m){return Ws().memoizedState=[p,m===void 0?null:m],p},useContext:dr,useEffect:Ku,useImperativeHandle:function(p,m,S){return S=S!=null?S.concat([p]):null,br(4,2,ii.bind(null,m,p),S)},useLayoutEffect:function(p,m){return br(4,2,p,m)},useMemo:function(p,m){var S=Ws();return m=m===void 0?null:m,p=p(),S.memoizedState=[p,m],p},useReducer:function(p,m,S){var I=Ws();return m=S!==void 0?S(m):m,I.memoizedState=I.baseState=m,p=I.queue={pending:null,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},p=p.dispatch=ha.bind(null,Fn,p),[I.memoizedState,p]},useRef:nr,useState:Ei,useDebugValue:If,useDeferredValue:function(p){var m=Ei(p),S=m[0],I=m[1];return Ku(function(){var L=_s.transition;_s.transition=1;try{I(p)}finally{_s.transition=L}},[p]),S},useTransition:function(){var p=Ei(!1),m=p[0];return p=No.bind(null,p[1]),nr(p),[p,m]},useMutableSource:function(p,m,S){var I=Ws();return I.memoizedState={refs:{getSnapshot:m,setSnapshot:null},source:p,subscribe:S},Hh(I,p,m,S)},useOpaqueIdentifier:function(){if(fo){var p=!1,m=gt(function(){throw p||(p=!0,S(ft())),Error(a(355))}),S=Ei(m)[1];return!(Fn.mode&2)&&(Fn.flags|=516,da(5,function(){S(ft())},void 0,null)),m}return m=ft(),Ei(m),m},unstable_isNewReconciler:!1},Z1={readContext:dr,useCallback:Vh,useContext:dr,useEffect:nl,useImperativeHandle:qh,useLayoutEffect:$1,useMemo:ko,useReducer:kn,useRef:Nr,useState:function(){return kn(js)},useDebugValue:If,useDeferredValue:function(p){var m=kn(js),S=m[0],I=m[1];return nl(function(){var L=_s.transition;_s.transition=1;try{I(p)}finally{_s.transition=L}},[p]),S},useTransition:function(){var p=kn(js)[0];return[Nr().current,p]},useMutableSource:Df,useOpaqueIdentifier:function(){return kn(js)[0]},unstable_isNewReconciler:!1},J1={readContext:dr,useCallback:Vh,useContext:dr,useEffect:nl,useImperativeHandle:qh,useLayoutEffect:$1,useMemo:ko,useReducer:tl,useRef:Nr,useState:function(){return tl(js)},useDebugValue:If,useDeferredValue:function(p){var m=tl(js),S=m[0],I=m[1];return nl(function(){var L=_s.transition;_s.transition=1;try{I(p)}finally{_s.transition=L}},[p]),S},useTransition:function(){var p=tl(js)[0];return[Nr().current,p]},useMutableSource:Df,useOpaqueIdentifier:function(){return tl(js)[0]},unstable_isNewReconciler:!1},ey=l.ReactCurrentOwner,Ys=!1;function qi(p,m,S,I){m.child=p===null?vs(m,null,S,I):Rl(m,p.child,S,I)}function Tg(p,m,S,I,L){S=S.render;var F=m.ref;return ti(m,L),I=Rf(p,m,S,I,F,L),p!==null&&!Ys?(m.updateQueue=p.updateQueue,m.flags&=-517,p.lanes&=~L,pa(p,m,L)):(m.flags|=1,qi(p,m,I,L),m.child)}function Wh(p,m,S,I,L,F){if(p===null){var K=S.type;return typeof K=="function"&&!ns(K)&&K.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=K,$u(p,m,K,I,L,F)):(p=ad(S.type,null,I,m,m.mode,F),p.ref=m.ref,p.return=m,m.child=p)}return K=p.child,!(L&F)&&(L=K.memoizedProps,S=S.compare,S=S!==null?S:Oh,S(L,I)&&p.ref===m.ref)?pa(p,m,F):(m.flags|=1,p=mr(K,I),p.ref=m.ref,p.return=m,m.child=p)}function $u(p,m,S,I,L,F){if(p!==null&&Oh(p.memoizedProps,I)&&p.ref===m.ref)if(Ys=!1,(F&L)!==0)p.flags&16384&&(Ys=!0);else return m.lanes=p.lanes,pa(p,m,F);return Zu(p,m,S,I,F)}function jh(p,m,S){var I=m.pendingProps,L=I.children,F=p!==null?p.memoizedState:null;if(I.mode==="hidden"||I.mode==="unstable-defer-without-hiding")if(!(m.mode&4))m.memoizedState={baseLanes:0},ql(m,S);else if(S&1073741824)m.memoizedState={baseLanes:0},ql(m,F!==null?F.baseLanes:S);else return p=F!==null?F.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p},ql(m,p),null;else F!==null?(I=F.baseLanes|S,m.memoizedState=null):I=S,ql(m,I);return qi(p,m,L,S),m.child}function Of(p,m){var S=m.ref;(p===null&&S!==null||p!==null&&p.ref!==S)&&(m.flags|=128)}function Zu(p,m,S,I,L){var F=Wn(S)?Hs:an.current;return F=Zr(m,F),ti(m,L),S=Rf(p,m,S,I,F,L),p!==null&&!Ys?(m.updateQueue=p.updateQueue,m.flags&=-517,p.lanes&=~L,pa(p,m,L)):(m.flags|=1,qi(p,m,S,L),m.child)}function Yh(p,m,S,I,L){if(Wn(S)){var F=!0;yn(m)}else F=!1;if(ti(m,L),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),Sg(m,S,I),Nh(m,S,I,L),I=!0;else if(p===null){var K=m.stateNode,oe=m.memoizedProps;K.props=oe;var Me=K.context,Ze=S.contextType;typeof Ze=="object"&&Ze!==null?Ze=dr(Ze):(Ze=Wn(S)?Hs:an.current,Ze=Zr(m,Ze));var lt=S.getDerivedStateFromProps,zt=typeof lt=="function"||typeof K.getSnapshotBeforeUpdate=="function";zt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(oe!==I||Me!==Ze)&&Ag(m,K,I,Ze),Bi=!1;var st=m.memoizedState;K.state=st,Wu(m,I,K,L),Me=m.memoizedState,oe!==I||st!==Me||lr.current||Bi?(typeof lt=="function"&&(bf(m,S,lt,I),Me=m.memoizedState),(oe=Bi||Tf(m,S,oe,I,st,Me,Ze))?(zt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(m.flags|=4)):(typeof K.componentDidMount=="function"&&(m.flags|=4),m.memoizedProps=I,m.memoizedState=Me),K.props=I,K.state=Me,K.context=Ze,I=oe):(typeof K.componentDidMount=="function"&&(m.flags|=4),I=!1)}else{K=m.stateNode,wg(p,m),oe=m.memoizedProps,Ze=m.type===m.elementType?oe:es(m.type,oe),K.props=Ze,zt=m.pendingProps,st=K.context,Me=S.contextType,typeof Me=="object"&&Me!==null?Me=dr(Me):(Me=Wn(S)?Hs:an.current,Me=Zr(m,Me));var Nn=S.getDerivedStateFromProps;(lt=typeof Nn=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(oe!==zt||st!==Me)&&Ag(m,K,I,Me),Bi=!1,st=m.memoizedState,K.state=st,Wu(m,I,K,L);var $n=m.memoizedState;oe!==zt||st!==$n||lr.current||Bi?(typeof Nn=="function"&&(bf(m,S,Nn,I),$n=m.memoizedState),(Ze=Bi||Tf(m,S,Ze,I,st,$n,Me))?(lt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(I,$n,Me),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(I,$n,Me)),typeof K.componentDidUpdate=="function"&&(m.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(m.flags|=256)):(typeof K.componentDidUpdate!="function"||oe===p.memoizedProps&&st===p.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||oe===p.memoizedProps&&st===p.memoizedState||(m.flags|=256),m.memoizedProps=I,m.memoizedState=$n),K.props=I,K.state=$n,K.context=Me,I=Ze):(typeof K.componentDidUpdate!="function"||oe===p.memoizedProps&&st===p.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||oe===p.memoizedProps&&st===p.memoizedState||(m.flags|=256),I=!1)}return Ol(p,m,S,I,F,L)}function Ol(p,m,S,I,L,F){Of(p,m);var K=(m.flags&64)!==0;if(!I&&!K)return L&&Or(m,S,!1),pa(p,m,F);I=m.stateNode,ey.current=m;var oe=K&&typeof S.getDerivedStateFromError!="function"?null:I.render();return m.flags|=1,p!==null&&K?(m.child=Rl(m,p.child,null,F),m.child=Rl(m,null,oe,F)):qi(p,m,oe,F),m.memoizedState=I.state,L&&Or(m,S,!0),m.child}function Cg(p){var m=p.stateNode;m.pendingContext?cn(p,m.pendingContext,m.pendingContext!==m.context):m.context&&cn(p,m.context,!1),zh(p,m.containerInfo)}var Lf={dehydrated:null,retryLane:0};function Pg(p,m,S){var I=m.pendingProps,L=hn.current,F=!1,K;return(K=(m.flags&64)!==0)||(K=p!==null&&p.memoizedState===null?!1:(L&2)!==0),K?(F=!0,m.flags&=-65):p!==null&&p.memoizedState===null||I.fallback===void 0||I.unstable_avoidThisFallback===!0||(L|=1),vt(hn,L&1),p===null?(I.fallback!==void 0&&Pf(m),p=I.children,L=I.fallback,F?(p=Rg(m,p,L,S),m.child.memoizedState={baseLanes:S},m.memoizedState=Lf,p):typeof I.unstable_expectedLoadTime=="number"?(p=Rg(m,p,L,S),m.child.memoizedState={baseLanes:S},m.memoizedState=Lf,m.lanes=33554432,p):(S=ld({mode:"visible",children:p},m.mode,S,null),S.return=m,m.child=S)):p.memoizedState!==null?F?(I=Dg(p,m,I.children,I.fallback,S),F=m.child,L=p.child.memoizedState,F.memoizedState=L===null?{baseLanes:S}:{baseLanes:L.baseLanes|S},F.childLanes=p.childLanes&~S,m.memoizedState=Lf,I):(S=Qh(p,m,I.children,S),m.memoizedState=null,S):F?(I=Dg(p,m,I.children,I.fallback,S),F=m.child,L=p.child.memoizedState,F.memoizedState=L===null?{baseLanes:S}:{baseLanes:L.baseLanes|S},F.childLanes=p.childLanes&~S,m.memoizedState=Lf,I):(S=Qh(p,m,I.children,S),m.memoizedState=null,S)}function Rg(p,m,S,I){var L=p.mode,F=p.child;return m={mode:"hidden",children:m},!(L&2)&&F!==null?(F.childLanes=0,F.pendingProps=m):F=ld(m,L,0,null),S=sl(S,L,I,null),F.return=p,S.return=p,F.sibling=S,p.child=F,S}function Qh(p,m,S,I){var L=p.child;return p=L.sibling,S=mr(L,{mode:"visible",children:S}),!(m.mode&2)&&(S.lanes=I),S.return=m,S.sibling=null,p!==null&&(p.nextEffect=null,p.flags=8,m.firstEffect=m.lastEffect=p),m.child=S}function Dg(p,m,S,I,L){var F=m.mode,K=p.child;p=K.sibling;var oe={mode:"hidden",children:S};return!(F&2)&&m.child!==K?(S=m.child,S.childLanes=0,S.pendingProps=oe,K=S.lastEffect,K!==null?(m.firstEffect=S.firstEffect,m.lastEffect=K,K.nextEffect=null):m.firstEffect=m.lastEffect=null):S=mr(K,oe),p!==null?I=mr(p,I):(I=sl(I,F,L,null),I.flags|=2),I.return=m,S.return=m,S.sibling=I,m.child=S,I}function Ig(p,m){p.lanes|=m;var S=p.alternate;S!==null&&(S.lanes|=m),Pl(p.return,m)}function Og(p,m,S,I,L,F){var K=p.memoizedState;K===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:I,tail:S,tailMode:L,lastEffect:F}:(K.isBackwards=m,K.rendering=null,K.renderingStartTime=0,K.last=I,K.tail=S,K.tailMode=L,K.lastEffect=F)}function Lg(p,m,S){var I=m.pendingProps,L=I.revealOrder,F=I.tail;if(qi(p,m,I.children,S),I=hn.current,I&2)I=I&1|2,m.flags|=64;else{if(p!==null&&p.flags&64)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Ig(p,S);else if(p.tag===19)Ig(p,S);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}I&=1}if(vt(hn,I),!(m.mode&2))m.memoizedState=null;else switch(L){case"forwards":for(S=m.child,L=null;S!==null;)p=S.alternate,p!==null&&Ln(p)===null&&(L=S),S=S.sibling;S=L,S===null?(L=m.child,m.child=null):(L=S.sibling,S.sibling=null),Og(m,!1,L,S,F,m.lastEffect);break;case"backwards":for(S=null,L=m.child,m.child=null;L!==null;){if(p=L.alternate,p!==null&&Ln(p)===null){m.child=L;break}p=L.sibling,L.sibling=S,S=L,L=p}Og(m,!0,S,null,F,m.lastEffect);break;case"together":Og(m,!1,null,null,void 0,m.lastEffect);break;default:m.memoizedState=null}return m.child}function pa(p,m,S){if(p!==null&&(m.dependencies=p.dependencies),Nl|=m.lanes,S&m.childLanes){if(p!==null&&m.child!==p.child)throw Error(a(153));if(m.child!==null){for(p=m.child,S=mr(p,p.pendingProps),m.child=S,S.return=m;p.sibling!==null;)p=p.sibling,S=S.sibling=mr(p,p.pendingProps),S.return=m;S.sibling=null}return m.child}return null}function zo(p){p.flags|=4}var Ju,ec,kf,Nf;if(De)Ju=function(p,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)be(p,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},ec=function(){},kf=function(p,m,S,I,L){if(p=p.memoizedProps,p!==I){var F=m.stateNode,K=wi(Gr.current);S=Ke(F,S,p,I,L,K),(m.updateQueue=S)&&zo(m)}},Nf=function(p,m,S,I){S!==I&&zo(m)};else if(Je){Ju=function(p,m,S,I){for(var L=m.child;L!==null;){if(L.tag===5){var F=L.stateNode;S&&I&&(F=yf(F,L.type,L.memoizedProps,L)),be(p,F)}else if(L.tag===6)F=L.stateNode,S&&I&&(F=Mh(F,L.memoizedProps,L)),be(p,F);else if(L.tag!==4){if(L.tag===13&&L.flags&4&&(F=L.memoizedState!==null)){var K=L.child;if(K!==null&&(K.child!==null&&(K.child.return=K,Ju(p,K,!0,F)),F=K.sibling,F!==null)){F.return=L,L=F;continue}}if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===m)break;for(;L.sibling===null;){if(L.return===null||L.return===m)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var zf=function(p,m,S,I){for(var L=m.child;L!==null;){if(L.tag===5){var F=L.stateNode;S&&I&&(F=yf(F,L.type,L.memoizedProps,L)),Pn(p,F)}else if(L.tag===6)F=L.stateNode,S&&I&&(F=Mh(F,L.memoizedProps,L)),Pn(p,F);else if(L.tag!==4){if(L.tag===13&&L.flags&4&&(F=L.memoizedState!==null)){var K=L.child;if(K!==null&&(K.child!==null&&(K.child.return=K,zf(p,K,!0,F)),F=K.sibling,F!==null)){F.return=L,L=F;continue}}if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===m)break;for(;L.sibling===null;){if(L.return===null||L.return===m)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};ec=function(p){var m=p.stateNode;if(p.firstEffect!==null){var S=m.containerInfo,I=so(S);zf(I,p,!1,!1),m.pendingChildren=I,zo(p),Us(S,I)}},kf=function(p,m,S,I,L){var F=p.stateNode,K=p.memoizedProps;if((p=m.firstEffect===null)&&K===I)m.stateNode=F;else{var oe=m.stateNode,Me=wi(Gr.current),Ze=null;K!==I&&(Ze=Ke(oe,S,K,I,L,Me)),p&&Ze===null?m.stateNode=F:(F=Vr(F,Ze,S,K,I,m,p,oe),pe(F,S,I,L,Me)&&zo(m),m.stateNode=F,p?zo(m):Ju(F,m,!1,!1))}},Nf=function(p,m,S,I){S!==I?(p=wi(ts.current),S=wi(Gr.current),m.stateNode=rt(I,p,S,m),zo(m)):m.stateNode=p.stateNode}}else ec=function(){},kf=function(){},Nf=function(){};function Bf(p,m){if(!fo)switch(p.tailMode){case"hidden":m=p.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var I=null;S!==null;)S.alternate!==null&&(I=S),S=S.sibling;I===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:I.sibling=null}}function W3(p,m,S){var I=m.pendingProps;switch(m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Wn(m.type)&&Ut(),null;case 3:return Xa(),kt(lr),kt(an),Dl(),I=m.stateNode,I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(p===null||p.child===null)&&(Ka(m)?zo(m):I.hydrate||(m.flags|=256)),ec(m),null;case 5:Ui(m);var L=wi(ts.current);if(S=m.type,p!==null&&m.stateNode!=null)kf(p,m,S,I,L),p.ref!==m.ref&&(m.flags|=128);else{if(!I){if(m.stateNode===null)throw Error(a(166));return null}if(p=wi(Gr.current),Ka(m)){if(!He)throw Error(a(175));p=ke(m.stateNode,m.type,m.memoizedProps,L,p,m),m.updateQueue=p,p!==null&&zo(m)}else{var F=we(S,I,L,p,m);Ju(F,m,!1,!1),m.stateNode=F,pe(F,S,I,L,p)&&zo(m)}m.ref!==null&&(m.flags|=128)}return null;case 6:if(p&&m.stateNode!=null)Nf(p,m,p.memoizedProps,I);else{if(typeof I!="string"&&m.stateNode===null)throw Error(a(166));if(p=wi(ts.current),L=wi(Gr.current),Ka(m)){if(!He)throw Error(a(176));bt(m.stateNode,m.memoizedProps,m)&&zo(m)}else m.stateNode=rt(I,p,L,m)}return null;case 13:return kt(hn),I=m.memoizedState,m.flags&64?(m.lanes=S,m):(I=I!==null,L=!1,p===null?m.memoizedProps.fallback!==void 0&&Ka(m):L=p.memoizedState!==null,I&&!L&&m.mode&2&&(p===null&&m.memoizedProps.unstable_avoidThisFallback!==!0||hn.current&1?si===0&&(si=3):((si===0||si===3)&&(si=4),rr===null||!(Nl&134217727)&&!(zl&134217727)||il(rr,Ai))),Je&&I&&(m.flags|=4),De&&(I||L)&&(m.flags|=4),null);case 4:return Xa(),ec(m),p===null&&Z(m.stateNode.containerInfo),null;case 10:return Ef(m),null;case 17:return Wn(m.type)&&Ut(),null;case 19:if(kt(hn),I=m.memoizedState,I===null)return null;if(L=(m.flags&64)!==0,F=I.rendering,F===null)if(L)Bf(I,!1);else{if(si!==0||p!==null&&p.flags&64)for(p=m.child;p!==null;){if(F=Ln(p),F!==null){for(m.flags|=64,Bf(I,!1),p=F.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),I.lastEffect===null&&(m.firstEffect=null),m.lastEffect=I.lastEffect,p=S,I=m.child;I!==null;)L=I,S=p,L.flags&=2,L.nextEffect=null,L.firstEffect=null,L.lastEffect=null,F=L.alternate,F===null?(L.childLanes=0,L.lanes=S,L.child=null,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=F.childLanes,L.lanes=F.lanes,L.child=F.child,L.memoizedProps=F.memoizedProps,L.memoizedState=F.memoizedState,L.updateQueue=F.updateQueue,L.type=F.type,S=F.dependencies,L.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),I=I.sibling;return vt(hn,hn.current&1|2),m.child}p=p.sibling}I.tail!==null&&Jr()>Kf&&(m.flags|=64,L=!0,Bf(I,!1),m.lanes=33554432)}else{if(!L)if(p=Ln(F),p!==null){if(m.flags|=64,L=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),Bf(I,!0),I.tail===null&&I.tailMode==="hidden"&&!F.alternate&&!fo)return m=m.lastEffect=I.lastEffect,m!==null&&(m.nextEffect=null),null}else 2*Jr()-I.renderingStartTime>Kf&&S!==1073741824&&(m.flags|=64,L=!0,Bf(I,!1),m.lanes=33554432);I.isBackwards?(F.sibling=m.child,m.child=F):(p=I.last,p!==null?p.sibling=F:m.child=F,I.last=F)}return I.tail!==null?(p=I.tail,I.rendering=p,I.tail=p.sibling,I.lastEffect=m.lastEffect,I.renderingStartTime=Jr(),p.sibling=null,m=hn.current,vt(hn,L?m&1|2:m&1),p):null;case 23:case 24:return rd(),p!==null&&p.memoizedState!==null!=(m.memoizedState!==null)&&I.mode!=="unstable-defer-without-hiding"&&(m.flags|=4),null}throw Error(a(156,m.tag))}function j3(p){switch(p.tag){case 1:Wn(p.type)&&Ut();var m=p.flags;return m&4096?(p.flags=m&-4097|64,p):null;case 3:if(Xa(),kt(lr),kt(an),Dl(),m=p.flags,m&64)throw Error(a(285));return p.flags=m&-4097|64,p;case 5:return Ui(p),null;case 13:return kt(hn),m=p.flags,m&4096?(p.flags=m&-4097|64,p):null;case 19:return kt(hn),null;case 4:return Xa(),null;case 10:return Ef(p),null;case 23:case 24:return rd(),null;default:return null}}function Ff(p,m){try{var S="",I=m;do S+=co(I),I=I.return;while(I);var L=S}catch(F){L=`
Error generating stack: `+F.message+`
`+F.stack}return{value:p,source:m,stack:L}}function Uf(p,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function kg(p,m,S){S=xi(-1,S),S.tag=3,S.payload={element:null};var I=m.value;return S.callback=function(){$f||($f=!0,Jh=I),Uf(p,m)},S}function Ng(p,m,S){S=xi(-1,S),S.tag=3;var I=p.type.getDerivedStateFromError;if(typeof I=="function"){var L=m.value;S.payload=function(){return Uf(p,m),I(L)}}var F=p.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(S.callback=function(){typeof I!="function"&&(po===null?po=new Set([this]):po.add(this),Uf(p,m));var K=m.stack;this.componentDidCatch(m.value,{componentStack:K!==null?K:""})}),S}var ty=typeof WeakSet=="function"?WeakSet:Set;function zg(p){var m=p.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(S){Es(p,S)}else m.current=null}function ny(p,m){switch(m.tag){case 0:case 11:case 15:case 22:return;case 1:if(m.flags&256&&p!==null){var S=p.memoizedProps,I=p.memoizedState;p=m.stateNode,m=p.getSnapshotBeforeUpdate(m.elementType===m.type?S:es(m.type,S),I),p.__reactInternalSnapshotBeforeUpdate=m}return;case 3:De&&m.flags&256&&tr(m.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ho(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&p)===p){var I=S.destroy;S.destroy=void 0,I!==void 0&&I()}S=S.next}while(S!==m)}}function ry(p,m,S){switch(S.tag){case 0:case 11:case 15:case 22:if(m=S.updateQueue,m=m!==null?m.lastEffect:null,m!==null){p=m=m.next;do{if((p.tag&3)===3){var I=p.create;p.destroy=I()}p=p.next}while(p!==m)}if(m=S.updateQueue,m=m!==null?m.lastEffect:null,m!==null){p=m=m.next;do{var L=p;I=L.next,L=L.tag,L&4&&L&1&&(Gi(S,p),id(S,p)),p=I}while(p!==m)}return;case 1:p=S.stateNode,S.flags&4&&(m===null?p.componentDidMount():(I=S.elementType===S.type?m.memoizedProps:es(S.type,m.memoizedProps),p.componentDidUpdate(I,m.memoizedState,p.__reactInternalSnapshotBeforeUpdate))),m=S.updateQueue,m!==null&&Mf(S,m,p);return;case 3:if(m=S.updateQueue,m!==null){if(p=null,S.child!==null)switch(S.child.tag){case 5:p=te(S.child.stateNode);break;case 1:p=S.child.stateNode}Mf(S,m,p)}return;case 5:p=S.stateNode,m===null&&S.flags&4&&Ue(p,S.type,S.memoizedProps,S);return;case 6:return;case 4:return;case 12:return;case 13:He&&S.memoizedState===null&&(S=S.alternate,S!==null&&(S=S.memoizedState,S!==null&&(S=S.dehydrated,S!==null&&Zt(S))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function tc(p,m){if(De)for(var S=p;;){if(S.tag===5){var I=S.stateNode;m?Fe(I):_t(S.stateNode,S.memoizedProps)}else if(S.tag===6)I=S.stateNode,m?at(I):vn(I,S.memoizedProps);else if((S.tag!==23&&S.tag!==24||S.memoizedState===null||S===p)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}}function nc(p,m){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(oo,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:case 22:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var S=p=p.next;do{var I=S,L=I.destroy;if(I=I.tag,L!==void 0)if(I&4)Gi(m,S);else{I=m;try{L()}catch(F){Es(I,F)}}S=S.next}while(S!==p)}break;case 1:if(zg(m),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(F){Es(m,F)}break;case 5:zg(m);break;case 4:De?iy(p,m):Je&&Je&&(m=m.stateNode.containerInfo,p=so(m),ki(m,p))}}function Hf(p,m){for(var S=m;;)if(nc(p,S),S.child===null||De&&S.tag===4){if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function qf(p){p.alternate=null,p.child=null,p.dependencies=null,p.firstEffect=null,p.lastEffect=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.return=null,p.updateQueue=null}function Bg(p){return p.tag===5||p.tag===3||p.tag===4}function rc(p){if(De){e:{for(var m=p.return;m!==null;){if(Bg(m))break e;m=m.return}throw Error(a(160))}var S=m;switch(m=S.stateNode,S.tag){case 5:var I=!1;break;case 3:m=m.containerInfo,I=!0;break;case 4:m=m.containerInfo,I=!0;break;default:throw Error(a(161))}S.flags&16&&(Te(m),S.flags&=-17);e:t:for(S=p;;){for(;S.sibling===null;){if(S.return===null||Bg(S.return)){S=null;break e}S=S.return}for(S.sibling.return=S.return,S=S.sibling;S.tag!==5&&S.tag!==6&&S.tag!==18;){if(S.flags&2||S.child===null||S.tag===4)continue t;S.child.return=S,S=S.child}if(!(S.flags&2)){S=S.stateNode;break e}}I?Wr(p,S,m):Fg(p,S,m)}}function Wr(p,m,S){var I=p.tag,L=I===5||I===6;if(L)p=L?p.stateNode:p.stateNode.instance,m?Gt(S,p,m):ie(S,p);else if(I!==4&&(p=p.child,p!==null))for(Wr(p,m,S),p=p.sibling;p!==null;)Wr(p,m,S),p=p.sibling}function Fg(p,m,S){var I=p.tag,L=I===5||I===6;if(L)p=L?p.stateNode:p.stateNode.instance,m?wt(S,p,m):mt(S,p);else if(I!==4&&(p=p.child,p!==null))for(Fg(p,m,S),p=p.sibling;p!==null;)Fg(p,m,S),p=p.sibling}function iy(p,m){for(var S=m,I=!1,L,F;;){if(!I){I=S.return;e:for(;;){if(I===null)throw Error(a(160));switch(L=I.stateNode,I.tag){case 5:F=!1;break e;case 3:L=L.containerInfo,F=!0;break e;case 4:L=L.containerInfo,F=!0;break e}I=I.return}I=!0}if(S.tag===5||S.tag===6)Hf(p,S),F?le(L,S.stateNode):In(L,S.stateNode);else if(S.tag===4){if(S.child!==null){L=S.stateNode.containerInfo,F=!0,S.child.return=S,S=S.child;continue}}else if(nc(p,S),S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return,S.tag===4&&(I=!1)}S.sibling.return=S.return,S=S.sibling}}function Vi(p,m){if(De){switch(m.tag){case 0:case 11:case 14:case 15:case 22:ho(3,m);return;case 1:return;case 5:var S=m.stateNode;if(S!=null){var I=m.memoizedProps;p=p!==null?p.memoizedProps:I;var L=m.type,F=m.updateQueue;m.updateQueue=null,F!==null&&Ye(S,F,L,p,I,m)}return;case 6:if(m.stateNode===null)throw Error(a(162));S=m.memoizedProps,Se(m.stateNode,p!==null?p.memoizedProps:S,S);return;case 3:He&&(m=m.stateNode,m.hydrate&&(m.hydrate=!1,jt(m.containerInfo)));return;case 12:return;case 13:Si(m),Vf(m);return;case 19:Vf(m);return;case 17:return;case 23:case 24:tc(m,m.memoizedState!==null);return}throw Error(a(163))}switch(m.tag){case 0:case 11:case 14:case 15:case 22:ho(3,m);return;case 12:return;case 13:Si(m),Vf(m);return;case 19:Vf(m);return;case 3:He&&(S=m.stateNode,S.hydrate&&(S.hydrate=!1,jt(S.containerInfo)));break;case 23:case 24:return}e:if(Je){switch(m.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:m=m.stateNode,ki(m.containerInfo,m.pendingChildren);break e}throw Error(a(163))}}function Si(p){p.memoizedState!==null&&(Bl=Jr(),De&&tc(p.child,!0))}function Vf(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var S=p.stateNode;S===null&&(S=p.stateNode=new ty),m.forEach(function(I){var L=Vg.bind(null,p,I);S.has(I)||(S.add(I),I.then(L,L))})}}function sy(p,m){return p!==null&&(p=p.memoizedState,p===null||p.dehydrated!==null)?(m=m.memoizedState,m!==null&&m.dehydrated===null):!1}var Gf=0,Wf=1,jf=2,ic=3,Yf=4;if(typeof Symbol=="function"&&Symbol.for){var Ll=Symbol.for;Gf=Ll("selector.component"),Wf=Ll("selector.has_pseudo_class"),jf=Ll("selector.role"),ic=Ll("selector.test_id"),Yf=Ll("selector.text")}function Xh(p){var m=St(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(a(364));return m}if(p=ae(p),p===null)throw Error(a(362));return p.stateNode.current}function Kh(p,m){switch(m.$$typeof){case Gf:if(p.type===m.value)return!0;break;case Wf:e:{m=m.value,p=[p,0];for(var S=0;S<p.length;){var I=p[S++],L=p[S++],F=m[L];if(I.tag!==5||!qe(I)){for(;F!=null&&Kh(I,F);)L++,F=m[L];if(L===m.length){m=!0;break e}else for(I=I.child;I!==null;)p.push(I,L),I=I.sibling}}m=!1}return m;case jf:if(p.tag===5&&xt(p.stateNode,m.value))return!0;break;case Yf:if((p.tag===5||p.tag===6)&&(p=ze(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case ic:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(a(365,m))}return!1}function sc(p){switch(p.$$typeof){case Gf:return"<"+(Q(p.value)||"Unknown")+">";case Wf:return":has("+(sc(p)||"")+")";case jf:return'[role="'+p.value+'"]';case Yf:return'"'+p.value+'"';case ic:return'[data-testname="'+p.value+'"]';default:throw Error(a(365,p))}}function Qf(p,m){var S=[];p=[p,0];for(var I=0;I<p.length;){var L=p[I++],F=p[I++],K=m[F];if(L.tag!==5||!qe(L)){for(;K!=null&&Kh(L,K);)F++,K=m[F];if(F===m.length)S.push(L);else for(L=L.child;L!==null;)p.push(L,F),L=L.sibling}}return S}function $h(p,m){if(!U)throw Error(a(363));p=Xh(p),p=Qf(p,m),m=[],p=Array.from(p);for(var S=0;S<p.length;){var I=p[S++];if(I.tag===5)qe(I)||m.push(I.stateNode);else for(I=I.child;I!==null;)p.push(I),I=I.sibling}return m}var oc=null;function oy(p){if(oc===null)try{var m=("require"+Math.random()).slice(0,7);oc=(t&&t[m]).call(t,"timers").setImmediate}catch{oc=function(I){var L=new MessageChannel;L.port1.onmessage=I,L.port2.postMessage(void 0)}}return oc(p)}var ay=Math.ceil,kl=l.ReactCurrentDispatcher,Zh=l.ReactCurrentOwner,Xf=l.IsSomeRendererActing,Tt=0,rr=null,zr=null,Ai=0,Bo=0,ma=yi(0),si=0,et=null,ga=0,Nl=0,zl=0,Ug=0,va=null,Bl=0,Kf=1/0;function ya(){Kf=Jr()+500}var ct=null,$f=!1,Jh=null,po=null,xa=!1,Fl=null,Ul=90,ep=[],Zf=[],Qs=null,Jf=0,Hg=null,ed=-1,Fo=0,td=0,ac=null,rl=!1;function oi(){return Tt&48?Jr():ed!==-1?ed:ed=Jr()}function mo(p){if(p=p.mode,!(p&2))return 1;if(!(p&4))return Vu()===99?1:2;if(Fo===0&&(Fo=ga),G3.transition!==0){td!==0&&(td=va!==null?va.pendingLanes:0),p=Fo;var m=4186112&~td;return m&=-m,m===0&&(p=4186112&~p,m=p&-p,m===0&&(m=8192)),m}return p=Vu(),Tt&4&&p===98?p=Ch(12,Fo):(p=Th(p),p=Ch(p,Fo)),p}function Xs(p,m,S){if(50<Jf)throw Jf=0,Hg=null,Error(a(185));if(p=Hl(p,m),p===null)return null;bl(p,m,S),p===rr&&(zl|=m,si===4&&il(p,Ai));var I=Vu();m===1?Tt&8&&!(Tt&48)?nd(p):(ai(p,S),Tt===0&&(ya(),Ji())):(!(Tt&4)||I!==98&&I!==99||(Qs===null?Qs=new Set([p]):Qs.add(p)),ai(p,S)),va=p}function Hl(p,m){p.lanes|=m;var S=p.alternate;for(S!==null&&(S.lanes|=m),S=p,p=p.return;p!==null;)p.childLanes|=m,S=p.alternate,S!==null&&(S.childLanes|=m),S=p,p=p.return;return S.tag===3?S.stateNode:null}function ai(p,m){for(var S=p.callbackNode,I=p.suspendedLanes,L=p.pingedLanes,F=p.expirationTimes,K=p.pendingLanes;0<K;){var oe=31-qs(K),Me=1<<oe,Ze=F[oe];if(Ze===-1){if(!(Me&I)||Me&L){Ze=m,ja(Me);var lt=On;F[oe]=10<=lt?Ze+250:6<=lt?Ze+5e3:-1}}else Ze<=m&&(p.expiredLanes|=Me);K&=~Me}if(I=zi(p,p===rr?Ai:0),m=On,I===0)S!==null&&(S!==wf&&Tl(S),p.callbackNode=null,p.callbackPriority=0);else{if(S!==null){if(p.callbackPriority===m)return;S!==wf&&Tl(S)}m===15?(S=nd.bind(null,p),ao===null?(ao=[S],Dh=_f(Hu,_g)):ao.push(S),S=wf):m===14?S=Ya(99,nd.bind(null,p)):(S=j1(m),S=Ya(S,tp.bind(null,p))),p.callbackPriority=m,p.callbackNode=S}}function tp(p){if(ed=-1,td=Fo=0,Tt&48)throw Error(a(327));var m=p.callbackNode;if(vo()&&p.callbackNode!==m)return null;var S=zi(p,p===rr?Ai:0);if(S===0)return null;var I=S,L=Tt;Tt|=16;var F=pr();(rr!==p||Ai!==I)&&(ya(),Un(p,I));do try{ws();break}catch(oe){$t(p,oe)}while(1);if(Lh(),kl.current=F,Tt=L,zr!==null?I=0:(rr=null,Ai=0,I=si),ga&zl)Un(p,0);else if(I!==0){if(I===2&&(Tt|=64,p.hydrate&&(p.hydrate=!1,tr(p.containerInfo)),S=Y1(p),S!==0&&(I=Kn(p,S))),I===1)throw m=et,Un(p,0),il(p,S),ai(p,Jr()),m;switch(p.finishedWork=p.current.alternate,p.finishedLanes=S,I){case 0:case 1:throw Error(a(345));case 2:go(p);break;case 3:if(il(p,S),(S&62914560)===S&&(I=Bl+500-Jr(),10<I)){if(zi(p,0)!==0)break;if(L=p.suspendedLanes,(L&S)!==S){oi(),p.pingedLanes|=p.suspendedLanes&L;break}p.timeoutHandle=Qe(go.bind(null,p),I);break}go(p);break;case 4:if(il(p,S),(S&4186112)===S)break;for(I=p.eventTimes,L=-1;0<S;){var K=31-qs(S);F=1<<K,K=I[K],K>L&&(L=K),S&=~F}if(S=L,S=Jr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*ay(S/1960))-S,10<S){p.timeoutHandle=Qe(go.bind(null,p),S);break}go(p);break;case 5:go(p);break;default:throw Error(a(329))}}return ai(p,Jr()),p.callbackNode===m?tp.bind(null,p):null}function il(p,m){for(m&=~Ug,m&=~zl,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var S=31-qs(m),I=1<<S;p[S]=-1,m&=~I}}function nd(p){if(Tt&48)throw Error(a(327));if(vo(),p===rr&&p.expiredLanes&Ai){var m=Ai,S=Kn(p,m);ga&zl&&(m=zi(p,m),S=Kn(p,m))}else m=zi(p,0),S=Kn(p,m);if(p.tag!==0&&S===2&&(Tt|=64,p.hydrate&&(p.hydrate=!1,tr(p.containerInfo)),m=Y1(p),m!==0&&(S=Kn(p,m))),S===1)throw S=et,Un(p,0),il(p,m),ai(p,Jr()),S;return p.finishedWork=p.current.alternate,p.finishedLanes=m,go(p),ai(p,Jr()),null}function ly(){if(Qs!==null){var p=Qs;Qs=null,p.forEach(function(m){m.expiredLanes|=24&m.pendingLanes,ai(m,Jr())})}Ji()}function np(p,m){var S=Tt;Tt|=1;try{return p(m)}finally{Tt=S,Tt===0&&(ya(),Ji())}}function uy(p,m){var S=Tt;if(S&48)return p(m);Tt|=1;try{if(p)return ei(99,p.bind(null,m))}finally{Tt=S,Ji()}}function ql(p,m){vt(ma,Bo),Bo|=m,ga|=m}function rd(){Bo=ma.current,kt(ma)}function Un(p,m){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;if(S!==Pe&&(p.timeoutHandle=Pe,ut(S)),zr!==null)for(S=zr.return;S!==null;){var I=S;switch(I.tag){case 1:I=I.type.childContextTypes,I!=null&&Ut();break;case 3:Xa(),kt(lr),kt(an),Dl();break;case 5:Ui(I);break;case 4:Xa();break;case 13:kt(hn);break;case 19:kt(hn);break;case 10:Ef(I);break;case 23:case 24:rd()}S=S.return}rr=p,zr=mr(p.current,null),Ai=Bo=ga=m,si=0,et=null,Ug=zl=Nl=0}function $t(p,m){do{var S=zr;try{if(Lh(),Ja.current=Il,Hi){for(var I=Fn.memoizedState;I!==null;){var L=I.queue;L!==null&&(L.pending=null),I=I.next}Hi=!1}if(Qu=0,hr=ri=Fn=null,fa=!1,Zh.current=null,S===null||S.return===null){si=1,et=m,zr=null;break}e:{var F=p,K=S.return,oe=S,Me=m;if(m=Ai,oe.flags|=2048,oe.firstEffect=oe.lastEffect=null,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ze=Me;if(!(oe.mode&2)){var lt=oe.alternate;lt?(oe.updateQueue=lt.updateQueue,oe.memoizedState=lt.memoizedState,oe.lanes=lt.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var zt=(hn.current&1)!==0,st=K;do{var Nn;if(Nn=st.tag===13){var $n=st.memoizedState;if($n!==null)Nn=$n.dehydrated!==null;else{var Ss=st.memoizedProps;Nn=Ss.fallback===void 0?!1:Ss.unstable_avoidThisFallback!==!0?!0:!zt}}if(Nn){var ve=st.updateQueue;if(ve===null){var ce=new Set;ce.add(Ze),st.updateQueue=ce}else ve.add(Ze);if(!(st.mode&2)){if(st.flags|=64,oe.flags|=16384,oe.flags&=-2981,oe.tag===1)if(oe.alternate===null)oe.tag=17;else{var Ae=xi(-1,1);Ae.tag=2,Fi(oe,Ae)}oe.lanes|=1;break e}Me=void 0,oe=m;var it=F.pingCache;if(it===null?(it=F.pingCache=new Y3,Me=new Set,it.set(Ze,Me)):(Me=it.get(Ze),Me===void 0&&(Me=new Set,it.set(Ze,Me))),!Me.has(oe)){Me.add(oe);var Mt=sp.bind(null,F,Ze,oe);Ze.then(Mt,Mt)}st.flags|=4096,st.lanes=m;break e}st=st.return}while(st!==null);Me=Error((Q(oe.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}si!==5&&(si=2),Me=Ff(Me,oe),st=K;do{switch(st.tag){case 3:F=Me,st.flags|=4096,m&=-m,st.lanes|=m;var xn=kg(st,F,m);Af(st,xn);break e;case 1:F=Me;var Nt=st.type,ln=st.stateNode;if(!(st.flags&64)&&(typeof Nt.getDerivedStateFromError=="function"||ln!==null&&typeof ln.componentDidCatch=="function"&&(po===null||!po.has(ln)))){st.flags|=4096,m&=-m,st.lanes|=m;var ir=Ng(st,F,m);Af(st,ir);break e}}st=st.return}while(st!==null)}Tr(S)}catch(un){m=un,zr===S&&S!==null&&(zr=S=S.return);continue}break}while(1)}function pr(){var p=kl.current;return kl.current=Il,p===null?Il:p}function Kn(p,m){var S=Tt;Tt|=16;var I=pr();rr===p&&Ai===m||Un(p,m);do try{li();break}catch(L){$t(p,L)}while(1);if(Lh(),Tt=S,kl.current=I,zr!==null)throw Error(a(261));return rr=null,Ai=0,si}function li(){for(;zr!==null;)Vl(zr)}function ws(){for(;zr!==null&&!q3();)Vl(zr)}function Vl(p){var m=_a(p.alternate,p,Bo);p.memoizedProps=p.pendingProps,m===null?Tr(p):zr=m,Zh.current=null}function Tr(p){var m=p;do{var S=m.alternate;if(p=m.return,m.flags&2048){if(S=j3(m),S!==null){S.flags&=2047,zr=S;return}p!==null&&(p.firstEffect=p.lastEffect=null,p.flags|=2048)}else{if(S=W3(S,m,Bo),S!==null){zr=S;return}if(S=m,S.tag!==24&&S.tag!==23||S.memoizedState===null||Bo&1073741824||!(S.mode&4)){for(var I=0,L=S.child;L!==null;)I|=L.lanes|L.childLanes,L=L.sibling;S.childLanes=I}p!==null&&!(p.flags&2048)&&(p.firstEffect===null&&(p.firstEffect=m.firstEffect),m.lastEffect!==null&&(p.lastEffect!==null&&(p.lastEffect.nextEffect=m.firstEffect),p.lastEffect=m.lastEffect),1<m.flags&&(p.lastEffect!==null?p.lastEffect.nextEffect=m:p.firstEffect=m,p.lastEffect=m))}if(m=m.sibling,m!==null){zr=m;return}zr=m=p}while(m!==null);si===0&&(si=5)}function go(p){var m=Vu();return ei(99,lc.bind(null,p,m)),null}function lc(p,m){do vo();while(Fl!==null);if(Tt&48)throw Error(a(327));var S=p.finishedWork;if(S===null)return null;if(p.finishedWork=null,p.finishedLanes=0,S===p.current)throw Error(a(177));p.callbackNode=null;var I=S.lanes|S.childLanes,L=I,F=p.pendingLanes&~L;p.pendingLanes=L,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=L,p.mutableReadLanes&=L,p.entangledLanes&=L,L=p.entanglements;for(var K=p.eventTimes,oe=p.expirationTimes;0<F;){var Me=31-qs(F),Ze=1<<Me;L[Me]=0,K[Me]=-1,oe[Me]=-1,F&=~Ze}if(Qs!==null&&!(I&24)&&Qs.has(p)&&Qs.delete(p),p===rr&&(zr=rr=null,Ai=0),1<S.flags?S.lastEffect!==null?(S.lastEffect.nextEffect=S,I=S.firstEffect):I=S:I=S.firstEffect,I!==null){L=Tt,Tt|=32,Zh.current=null,ac=J(p.containerInfo),rl=!1,ct=I;do try{rp()}catch(ce){if(ct===null)throw Error(a(330));Es(ct,ce),ct=ct.nextEffect}while(ct!==null);ac=null,ct=I;do try{for(K=p;ct!==null;){var lt=ct.flags;if(lt&16&&De&&Te(ct.stateNode),lt&128){var zt=ct.alternate;if(zt!==null){var st=zt.ref;st!==null&&(typeof st=="function"?st(null):st.current=null)}}switch(lt&1038){case 2:rc(ct),ct.flags&=-3;break;case 6:rc(ct),ct.flags&=-3,Vi(ct.alternate,ct);break;case 1024:ct.flags&=-1025;break;case 1028:ct.flags&=-1025,Vi(ct.alternate,ct);break;case 4:Vi(ct.alternate,ct);break;case 8:oe=K,F=ct,De?iy(oe,F):Hf(oe,F);var Nn=F.alternate;qf(F),Nn!==null&&qf(Nn)}ct=ct.nextEffect}}catch(ce){if(ct===null)throw Error(a(330));Es(ct,ce),ct=ct.nextEffect}while(ct!==null);rl&&qt(),he(p.containerInfo),p.current=S,ct=I;do try{for(lt=p;ct!==null;){var $n=ct.flags;if($n&36&&ry(lt,ct.alternate,ct),$n&128){zt=void 0;var Ss=ct.ref;if(Ss!==null){var ve=ct.stateNode;switch(ct.tag){case 5:zt=te(ve);break;default:zt=ve}typeof Ss=="function"?Ss(zt):Ss.current=zt}}ct=ct.nextEffect}}catch(ce){if(ct===null)throw Error(a(330));Es(ct,ce),ct=ct.nextEffect}while(ct!==null);ct=null,V3(),Tt=L}else p.current=S;if(xa)xa=!1,Fl=p,Ul=m;else for(ct=I;ct!==null;)m=ct.nextEffect,ct.nextEffect=null,ct.flags&8&&($n=ct,$n.sibling=null,$n.stateNode=null),ct=m;if(I=p.pendingLanes,I===0&&(po=null),I===1?p===Hg?Jf++:(Jf=0,Hg=p):Jf=0,S=S.stateNode,Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(oo,S,void 0,(S.current.flags&64)===64)}catch{}if(ai(p,Jr()),$f)throw $f=!1,p=Jh,Jh=null,p;return Tt&8||Ji(),null}function rp(){for(;ct!==null;){var p=ct.alternate;rl||ac===null||(ct.flags&8?G(ct,ac)&&(rl=!0,Lt()):ct.tag===13&&sy(p,ct)&&G(ct,ac)&&(rl=!0,Lt()));var m=ct.flags;m&256&&ny(p,ct),!(m&512)||xa||(xa=!0,Ya(97,function(){return vo(),null})),ct=ct.nextEffect}}function vo(){if(Ul!==90){var p=97<Ul?97:Ul;return Ul=90,ei(p,qg)}return!1}function id(p,m){ep.push(m,p),xa||(xa=!0,Ya(97,function(){return vo(),null}))}function Gi(p,m){Zf.push(m,p),xa||(xa=!0,Ya(97,function(){return vo(),null}))}function qg(){if(Fl===null)return!1;var p=Fl;if(Fl=null,Tt&48)throw Error(a(331));var m=Tt;Tt|=32;var S=Zf;Zf=[];for(var I=0;I<S.length;I+=2){var L=S[I],F=S[I+1],K=L.destroy;if(L.destroy=void 0,typeof K=="function")try{K()}catch(Me){if(F===null)throw Error(a(330));Es(F,Me)}}for(S=ep,ep=[],I=0;I<S.length;I+=2){L=S[I],F=S[I+1];try{var oe=L.create;L.destroy=oe()}catch(Me){if(F===null)throw Error(a(330));Es(F,Me)}}for(oe=p.current.firstEffect;oe!==null;)p=oe.nextEffect,oe.nextEffect=null,oe.flags&8&&(oe.sibling=null,oe.stateNode=null),oe=p;return Tt=m,Ji(),!0}function ip(p,m,S){m=Ff(S,m),m=kg(p,m,1),Fi(p,m),m=oi(),p=Hl(p,1),p!==null&&(bl(p,1,m),ai(p,m))}function Es(p,m){if(p.tag===3)ip(p,p,m);else for(var S=p.return;S!==null;){if(S.tag===3){ip(S,p,m);break}else if(S.tag===1){var I=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(po===null||!po.has(I))){p=Ff(m,p);var L=Ng(S,p,1);if(Fi(S,L),L=oi(),S=Hl(S,1),S!==null)bl(S,1,L),ai(S,L);else if(typeof I.componentDidCatch=="function"&&(po===null||!po.has(I)))try{I.componentDidCatch(m,p)}catch{}break}}S=S.return}}function sp(p,m,S){var I=p.pingCache;I!==null&&I.delete(m),m=oi(),p.pingedLanes|=p.suspendedLanes&S,rr===p&&(Ai&S)===S&&(si===4||si===3&&(Ai&62914560)===Ai&&500>Jr()-Bl?Un(p,0):Ug|=S),ai(p,m)}function Vg(p,m){var S=p.stateNode;S!==null&&S.delete(m),m=0,m===0&&(m=p.mode,m&2?m&4?(Fo===0&&(Fo=ga),m=Fu(62914560&~Fo),m===0&&(m=4194304)):m=Vu()===99?1:2:m=1),S=oi(),p=Hl(p,m),p!==null&&(bl(p,m,S),ai(p,S))}var _a;_a=function(p,m,S){var I=m.lanes;if(p!==null)if(p.memoizedProps!==m.pendingProps||lr.current)Ys=!0;else if(S&I)Ys=!!(p.flags&16384);else{switch(Ys=!1,m.tag){case 3:Cg(m),$a();break;case 5:Bh(m);break;case 1:Wn(m.type)&&yn(m);break;case 4:zh(m,m.stateNode.containerInfo);break;case 10:kh(m,m.memoizedProps.value);break;case 13:if(m.memoizedState!==null)return S&m.child.childLanes?Pg(p,m,S):(vt(hn,hn.current&1),m=pa(p,m,S),m!==null?m.sibling:null);vt(hn,hn.current&1);break;case 19:if(I=(S&m.childLanes)!==0,p.flags&64){if(I)return Lg(p,m,S);m.flags|=64}var L=m.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),vt(hn,hn.current),I)break;return null;case 23:case 24:return m.lanes=0,jh(p,m,S)}return pa(p,m,S)}else Ys=!1;switch(m.lanes=0,m.tag){case 2:if(I=m.type,p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,L=Zr(m,an.current),ti(m,S),L=Rf(null,m,I,p,L,S),m.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0){if(m.tag=1,m.memoizedState=null,m.updateQueue=null,Wn(I)){var F=!0;yn(m)}else F=!1;m.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Sf(m);var K=I.getDerivedStateFromProps;typeof K=="function"&&bf(m,I,K,p),L.updater=ju,m.stateNode=L,L._reactInternals=m,Nh(m,I,p,S),m=Ol(null,m,I,!0,F,S)}else m.tag=0,qi(null,m,L,S),m=m.child;return m;case 16:L=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,F=L._init,L=F(L._payload),m.type=L,F=m.tag=ap(L),p=es(L,p),F){case 0:m=Zu(null,m,L,p,S);break e;case 1:m=Yh(null,m,L,p,S);break e;case 11:m=Tg(null,m,L,p,S);break e;case 14:m=Wh(null,m,L,es(L.type,p),I,S);break e}throw Error(a(306,L,""))}return m;case 0:return I=m.type,L=m.pendingProps,L=m.elementType===I?L:es(I,L),Zu(p,m,I,L,S);case 1:return I=m.type,L=m.pendingProps,L=m.elementType===I?L:es(I,L),Yh(p,m,I,L,S);case 3:if(Cg(m),I=m.updateQueue,p===null||I===null)throw Error(a(282));if(I=m.pendingProps,L=m.memoizedState,L=L!==null?L.element:null,wg(p,m),Wu(m,I,null,S),I=m.memoizedState.element,I===L)$a(),m=pa(p,m,S);else{if(L=m.stateNode,(F=L.hydrate)&&(He?(ni=me(m.stateNode.containerInfo),xs=m,F=fo=!0):F=!1),F){if(He&&(p=L.mutableSourceEagerHydrationData,p!=null))for(L=0;L<p.length;L+=2)F=p[L],K=p[L+1],ye?F._workInProgressVersionPrimary=K:F._workInProgressVersionSecondary=K,Za.push(F);for(S=vs(m,null,I,S),m.child=S;S;)S.flags=S.flags&-3|1024,S=S.sibling}else qi(p,m,I,S),$a();m=m.child}return m;case 5:return Bh(m),p===null&&Pf(m),I=m.type,L=m.pendingProps,F=p!==null?p.memoizedProps:null,K=L.children,We(I,L)?K=null:F!==null&&We(I,F)&&(m.flags|=16),Of(p,m),qi(p,m,K,S),m.child;case 6:return p===null&&Pf(m),null;case 13:return Pg(p,m,S);case 4:return zh(m,m.stateNode.containerInfo),I=m.pendingProps,p===null?m.child=Rl(m,null,I,S):qi(p,m,I,S),m.child;case 11:return I=m.type,L=m.pendingProps,L=m.elementType===I?L:es(I,L),Tg(p,m,I,L,S);case 7:return qi(p,m,m.pendingProps,S),m.child;case 8:return qi(p,m,m.pendingProps.children,S),m.child;case 12:return qi(p,m,m.pendingProps.children,S),m.child;case 10:e:{if(I=m.type._context,L=m.pendingProps,K=m.memoizedProps,F=L.value,kh(m,F),K!==null){var oe=K.value;if(F=Vs(oe,F)?0:(typeof I._calculateChangedBits=="function"?I._calculateChangedBits(oe,F):1073741823)|0,F===0){if(K.children===L.children&&!lr.current){m=pa(p,m,S);break e}}else for(oe=m.child,oe!==null&&(oe.return=m);oe!==null;){var Me=oe.dependencies;if(Me!==null){K=oe.child;for(var Ze=Me.firstContext;Ze!==null;){if(Ze.context===I&&Ze.observedBits&F){oe.tag===1&&(Ze=xi(-1,S&-S),Ze.tag=2,Fi(oe,Ze)),oe.lanes|=S,Ze=oe.alternate,Ze!==null&&(Ze.lanes|=S),Pl(oe.return,S),Me.lanes|=S;break}Ze=Ze.next}}else K=oe.tag===10&&oe.type===m.type?null:oe.child;if(K!==null)K.return=oe;else for(K=oe;K!==null;){if(K===m){K=null;break}if(oe=K.sibling,oe!==null){oe.return=K.return,K=oe;break}K=K.return}oe=K}}qi(p,m,L.children,S),m=m.child}return m;case 9:return L=m.type,F=m.pendingProps,I=F.children,ti(m,S),L=dr(L,F.unstable_observedBits),I=I(L),m.flags|=1,qi(p,m,I,S),m.child;case 14:return L=m.type,F=es(L,m.pendingProps),F=es(L.type,F),Wh(p,m,L,F,I,S);case 15:return $u(p,m,m.type,m.pendingProps,I,S);case 17:return I=m.type,L=m.pendingProps,L=m.elementType===I?L:es(I,L),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Wn(I)?(p=!0,yn(m)):p=!1,ti(m,S),Sg(m,I,L),Nh(m,I,L,S),Ol(null,m,I,!0,p,S);case 19:return Lg(p,m,S);case 23:return jh(p,m,S);case 24:return jh(p,m,S)}throw Error(a(156,m.tag))};var Gl={current:!1},Uo=o.unstable_flushAllWithoutAsserting,sd=typeof Uo=="function";function Wl(){if(Uo!==void 0)return Uo();for(var p=!1;vo();)p=!0;return p}function op(p){try{Wl(),oy(function(){Wl()?op(p):p()})}catch(m){p(m)}}var jl=0,od=!1;function Wi(p,m,S,I){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(p,m,S,I){return new Wi(p,m,S,I)}function ns(p){return p=p.prototype,!(!p||!p.isReactComponent)}function ap(p){if(typeof p=="function")return ns(p)?1:0;if(p!=null){if(p=p.$$typeof,p===_)return 11;if(p===M)return 14}return 2}function mr(p,m){var S=p.alternate;return S===null?(S=Br(p.tag,m,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=m,S.type=p.type,S.flags=0,S.nextEffect=null,S.firstEffect=null,S.lastEffect=null),S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,m=p.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S}function ad(p,m,S,I,L,F){var K=2;if(I=p,typeof p=="function")ns(p)&&(K=1);else if(typeof p=="string")K=5;else e:switch(p){case h:return sl(S.children,L,F,m);case O:K=8,L|=16;break;case g:K=8,L|=1;break;case v:return p=Br(12,S,m,L|8),p.elementType=v,p.type=v,p.lanes=F,p;case E:return p=Br(13,S,m,L),p.type=E,p.elementType=E,p.lanes=F,p;case w:return p=Br(19,S,m,L),p.elementType=w,p.lanes=F,p;case k:return ld(S,L,F,m);case P:return p=Br(24,S,m,L),p.elementType=P,p.lanes=F,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case x:K=10;break e;case y:K=9;break e;case _:K=11;break e;case M:K=14;break e;case C:K=16,I=null;break e;case R:K=22;break e}throw Error(a(130,p==null?p:typeof p,""))}return m=Br(K,S,m,L),m.elementType=p,m.type=I,m.lanes=F,m}function sl(p,m,S,I){return p=Br(7,p,I,m),p.lanes=S,p}function ld(p,m,S,I){return p=Br(23,p,I,m),p.elementType=k,p.lanes=S,p}function Gg(p,m,S){return p=Br(6,p,null,m),p.lanes=S,p}function Ho(p,m,S){return m=Br(4,p.children!==null?p.children:[],p.key,m),m.lanes=S,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function cy(p,m,S){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pe,this.pendingContext=this.context=null,this.hydrate=S,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Uu(0),this.expirationTimes=Uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uu(0),He&&(this.mutableSourceEagerHydrationData=null)}function Wg(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(a(188)):Error(a(268,Object.keys(p)));return p=se(m),p===null?null:p.stateNode}function lp(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<m?S:m}}function qo(p,m){lp(p,m),(p=p.alternate)&&lp(p,m)}function fy(p){return p=se(p),p===null?null:p.stateNode}function dy(){return null}return r.IsThisRendererActing=Gl,r.act=function(p){function m(){jl--,Xf.current=S,Gl.current=I}od===!1&&(od=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),jl++;var S=Xf.current,I=Gl.current;Xf.current=!0,Gl.current=!0;try{var L=np(p)}catch(F){throw m(),F}if(L!==null&&typeof L=="object"&&typeof L.then=="function")return{then:function(F,K){L.then(function(){1<jl||sd===!0&&S===!0?(m(),F()):op(function(oe){m(),oe?K(oe):F()})},function(oe){m(),K(oe)})}};try{jl!==1||sd!==!1&&S!==!1||Wl(),m()}catch(F){throw m(),F}return{then:function(F){F()}}},r.attemptContinuousHydration=function(p){if(p.tag===13){var m=oi();Xs(p,67108864,m),qo(p,67108864)}},r.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=oi(),S=mo(p);Xs(p,S,m),qo(p,S)}},r.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.hydrate){var S=ja(m.pendingLanes);m.expiredLanes|=S&m.pendingLanes,ai(m,Jr()),!(Tt&48)&&(ya(),Ji())}break;case 13:var I=oi();uy(function(){return Xs(p,1,I)}),qo(p,4)}},r.attemptUserBlockingHydration=function(p){if(p.tag===13){var m=oi();Xs(p,4,m),qo(p,4)}},r.batchedEventUpdates=function(p,m){var S=Tt;Tt|=2;try{return p(m)}finally{Tt=S,Tt===0&&(ya(),Ji())}},r.batchedUpdates=np,r.createComponentSelector=function(p){return{$$typeof:Gf,value:p}},r.createContainer=function(p,m,S){return p=new cy(p,m,S),m=Br(3,null,null,m===2?7:m===1?3:0),p.current=m,m.stateNode=p,Sf(m),p},r.createHasPsuedoClassSelector=function(p){return{$$typeof:Wf,value:p}},r.createPortal=function(p,m,S){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:I==null?null:""+I,children:p,containerInfo:m,implementation:S}},r.createRoleSelector=function(p){return{$$typeof:jf,value:p}},r.createTestNameSelector=function(p){return{$$typeof:ic,value:p}},r.createTextSelector=function(p){return{$$typeof:Yf,value:p}},r.deferredUpdates=function(p){return ei(97,p)},r.discreteUpdates=function(p,m,S,I,L){var F=Tt;Tt|=4;try{return ei(98,p.bind(null,m,S,I,L))}finally{Tt=F,Tt===0&&(ya(),Ji())}},r.findAllNodes=$h,r.findBoundingRects=function(p,m){if(!U)throw Error(a(363));m=$h(p,m),p=[];for(var S=0;S<m.length;S++)p.push(Ee(m[S]));for(m=p.length-1;0<m;m--){S=p[m];for(var I=S.x,L=I+S.width,F=S.y,K=F+S.height,oe=m-1;0<=oe;oe--)if(m!==oe){var Me=p[oe],Ze=Me.x,lt=Ze+Me.width,zt=Me.y,st=zt+Me.height;if(I>=Ze&&F>=zt&&L<=lt&&K<=st){p.splice(m,1);break}else if(I!==Ze||S.width!==Me.width||st<F||zt>K){if(!(F!==zt||S.height!==Me.height||lt<I||Ze>L)){Ze>I&&(Me.width+=Ze-I,Me.x=I),lt<L&&(Me.width=L-Ze),p.splice(m,1);break}}else{zt>F&&(Me.height+=zt-F,Me.y=F),st<K&&(Me.height=K-zt),p.splice(m,1);break}}}return p},r.findHostInstance=Wg,r.findHostInstanceWithNoPortals=function(p){return p=de(p),p===null?null:p.tag===20?p.stateNode.instance:p.stateNode},r.findHostInstanceWithWarning=function(p){return Wg(p)},r.flushControlled=function(p){var m=Tt;Tt|=1;try{ei(99,p)}finally{Tt=m,Tt===0&&(ya(),Ji())}},r.flushDiscreteUpdates=function(){!(Tt&49)&&(ly(),vo())},r.flushPassiveEffects=vo,r.flushSync=uy,r.focusWithin=function(p,m){if(!U)throw Error(a(363));for(p=Xh(p),m=Qf(p,m),m=Array.from(m),p=0;p<m.length;){var S=m[p++];if(!qe(S)){if(S.tag===5&&$e(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return Ml},r.getFindAllNodesFailureDescription=function(p,m){if(!U)throw Error(a(363));var S=0,I=[];p=[Xh(p),0];for(var L=0;L<p.length;){var F=p[L++],K=p[L++],oe=m[K];if((F.tag!==5||!qe(F))&&(Kh(F,oe)&&(I.push(sc(oe)),K++,K>S&&(S=K)),K<m.length))for(F=F.child;F!==null;)p.push(F,K),F=F.sibling}if(S<m.length){for(p=[];S<m.length;S++)p.push(sc(m[S]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},r.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return te(p.child.stateNode);default:return p.child.stateNode}},r.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:fy,findFiberByHostInstance:p.findFiberByHostInstance||dy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m.isDisabled&&m.supportsFiber)try{oo=m.inject(p),Ni=m}catch{}p=!0}return p},r.observeVisibleRects=function(p,m,S,I){if(!U)throw Error(a(363));p=$h(p,m);var L=Le(p,S,I).disconnect;return{disconnect:function(){L()}}},r.registerMutableSourceForHydration=function(p,m){var S=m._getVersion;S=S(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,S]:p.mutableSourceEagerHydrationData.push(m,S)},r.runWithPriority=function(p,m){var S=Ml;try{return Ml=p,m()}finally{Ml=S}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(p,m){var S=Tt;Tt&=-2,Tt|=8;try{return p(m)}finally{Tt=S,Tt===0&&(ya(),Ji())}},r.updateContainer=function(p,m,S,I){var L=m.current,F=oi(),K=mo(L);e:if(S){S=S._reactInternals;t:{if(W(S)!==S||S.tag!==1)throw Error(a(170));var oe=S;do{switch(oe.tag){case 3:oe=oe.stateNode.context;break t;case 1:if(Wn(oe.type)){oe=oe.stateNode.__reactInternalMemoizedMergedChildContext;break t}}oe=oe.return}while(oe!==null);throw Error(a(171))}if(S.tag===1){var Me=S.type;if(Wn(Me)){S=gs(S,Me,oe);break e}}S=oe}else S=$i;return m.context===null?m.context=S:m.pendingContext=S,m=xi(F,K),m.payload={element:p},I=I===void 0?null:I,I!==null&&(m.callback=I),Fi(L,m),Xs(L,K,F),K},r}})(wde);(function(t){t.exports=L4})(_de);const Ade=R2(O4);var k4={},Mde={get exports(){return k4},set exports(t){k4=t}};function XT(){}XT.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var s=0,o=r.length;s<o;s++)r[s].fn!==e&&r[s].fn._!==e&&i.push(r[s]);return i.length?n[t]=i:delete n[t],this}};Mde.exports=XT;k4.TinyEmitter=XT;var bde="react-three-fiber",Tde="5.3.18";const KT=new Map,jE={},Qi={obj:t=>t===Object(t)&&!Qi.arr(t),fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Qi.str(t)||Qi.num(t)||Qi.obj(t))return t===e;if(Qi.arr(t)&&t==e)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return Qi.und(n)?t===e:!0}};function Cde(t,e){const n=e.length;return e.push(t),()=>void e.splice(n,1)}let $v=[],_2=[],CD=[];const PD=t=>Cde(t,$v);function Pde(t,e,n=0,r=!1){let i;if(r)for(i=0;i<$v.length;i++)$v[i](e),n++;const s=t.current.clock.getDelta();for(i=0;i<t.current.subscribers.length;i++)t.current.subscribers[i].ref.current(t.current,s);if(t.current.frames=Math.max(0,t.current.frames-1),n+=t.current.invalidateFrameloop?t.current.frames:1,!t.current.manual&&t.current.gl.render&&t.current.gl.render(t.current.scene,t.current.camera),r)for(i=0;i<_2.length;i++)_2[i](e);return n}let w2=!1;function pB(t){w2=!0;let e=0,n;for(n=0;n<$v.length;n++)$v[n](t),e++;for(KT.forEach(r=>{const i=r.containerInfo.__state;i.current.active&&i.current.ready&&(!i.current.invalidateFrameloop||i.current.frames>0)?e=Pde(i,t,e):e=0}),n=0;n<_2.length;n++)_2[n](t);if(e!==0)return requestAnimationFrame(pB);for(n=0;n<CD.length;n++)CD[n](t);w2=!1}function mB(t=!0,e=1){if(t===!0)KT.forEach(n=>{const r=n.containerInfo.__state;r.current.frames=r.current.ready?r.current.frames+e:e});else if(t&&t.current){if(t.current.vr)return;t.current.frames=t.current.ready?t.current.frames+e:e}w2||(w2=!0,requestAnimationFrame(pB))}let Rde={};function $T(t,e,n={},r=!1){const i=t.__container,s=[],o=[];let a,l=Object.keys(e);for(a=0;a<l.length;a++)Qi.equ(e[l[a]],n[l[a]])&&s.push(l[a]),Qi.fun(e[l[a]])&&l[a].startsWith("on")&&(l[a].includes("Pointer")||l[a].includes("Click")||l[a].includes("ContextMenu")||l[a].includes("Wheel"))&&o.push(l[a]);const u=[];if(l=Object.keys(n),r)for(a=0;a<l.length;a++)e[l[a]]===void 0&&u.push(l[a]);const c=[...s,"children","key","ref"];t.__instance&&c.push("object");const h={...e};for(l=Object.keys(h),a=0;a<l.length;a++)c.indexOf(l[a])>-1&&delete h[l[a]];for(l=Object.keys(u),a=0;a<l.length;a++)l[a]!=="children"&&(h[l[a]]=void 0);const g=Object.entries(h);if(g.length>0){if(g.forEach(([v,x])=>{if(!o.includes(v)){var y,_;let E=t,w=E[v];if(v.includes("-")){const C=v.split("-");if(w=C.reduce((R,O)=>R[O],t),!(w&&w.set)){const[R,...O]=C.reverse();E=O.reverse().reduce((k,P)=>k[P],t),v=R}}const M=(y=t.__container)==null||(_=y.__state)==null?void 0:_.current.colorManagement;w&&w.set&&(w.copy||w instanceof Wc)?Array.isArray(x)?w.set(...x):w.copy&&x&&x.constructor&&w.constructor.name===x.constructor.name?w.copy(x):x!==void 0&&(w.set(x),M&&w instanceof tt&&w.convertSRGBToLinear()):(E[v]=x,M&&E[v]instanceof Xn&&(E[v].encoding=Rt)),qm(t)}}),r&&i&&t.raycast&&t.__handlers){t.__handlers=void 0;const v=i.__interaction.indexOf(t);v>-1&&i.__interaction.splice(v,1)}o.length&&(r&&i&&t.raycast&&i.__interaction.push(t),t.__handlers=o.reduce((v,x)=>(v[x.charAt(2).toLowerCase()+x.substr(3)]=e[x],v),{})),t.parent&&ZT(t)}}function qm(t){t.__container&&t.__container.__state&&mB(t.__container.__state)}function ZT(t){t.onUpdate&&t.onUpdate(t)}function gB(t,{args:e=[],...n},r,i,s){let o=`${t[0].toUpperCase()}${t.slice(1)}`,a;if(t==="primitive")n={dispose:null,...n},a=n.object,a.__instance=!0,a.__dispose=a.dispose;else{const l=Rde[o]||lh[o];if(!l)throw`"${o}" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;a=Qi.arr(e)?new l(...e):new l(e)}for(;r.__container;)r=r.__container;if(!KT.has(r)){const l=u=>u.return?l(u.return):u.stateNode&&u.stateNode.containerInfo;r=l(s)}return a.__objects=[],a.__container=r,o.endsWith("Geometry")?n={attach:"geometry",...n}:o.endsWith("Material")&&(n={attach:"material",...n}),$T(a,n,{}),a}function iv(t,e){e&&(e.isObject3D?t.add(e):(t.__objects.push(e),e.parent=t,e.attachArray?(Qi.arr(t[e.attachArray])||(t[e.attachArray]=[]),t[e.attachArray].push(e)):e.attachObject?(Qi.obj(t[e.attachObject[0]])||(t[e.attachObject[0]]={}),t[e.attachObject[0]][e.attachObject[1]]=e):e.attach&&(t[e.attach]=e)),ZT(e),qm(e))}function RD(t,e,n){if(e){if(e.isObject3D){e.parent=t,e.dispatchEvent({type:"added"});const r=t.children.filter(s=>s!==e),i=r.indexOf(n);t.children=[...r.slice(0,i),e,...r.slice(i)],ZT(e)}else iv(t,e);qm(e)}}function DD(t,e,n=!1){t&&(n?[...t]:t).forEach(i=>E2(e,i))}function E2(t,e){e&&(e.isObject3D?t.remove(e):(e.parent=null,t.__objects&&(t.__objects=t.__objects.filter(n=>n!==e)),e.attachArray?t[e.attachArray]=t[e.attachArray].filter(n=>n!==e):e.attachObject?delete t[e.attachObject[0]][e.attachObject[1]]:e.attach&&(t[e.attach]=null)),e.__container&&(e.__container.__interaction=e.__container.__interaction.filter(n=>n!==e)),qm(e),e.dispose!==null&&Hm.unstable_runWithPriority(Hm.unstable_IdlePriority,()=>{DD(e.__objects,e),DD(e.children,e,!0),e.dispose&&e.type!=="Scene"?e.dispose():e.__dispose&&e.__dispose(),delete e.__container,delete e.__objects}))}function ID(t,e,n,r){const i=t.parent,s=gB(e,n,t.__container,null,r);E2(i,t),iv(i,s),[r,r.alternate].forEach(o=>{o!==null&&(o.stateNode=s,o.ref&&(Qi.fun(o.ref)?o.ref(s):o.ref.current=s))})}const Dde=Ade({now:Hm.unstable_now,createInstance:gB,removeChild:E2,appendChild:iv,insertBefore:RD,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:Qi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qi.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Qi.fun(setTimeout)?setTimeout:void 0,clearTimeout:Qi.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:iv,appendChildToContainer:iv,removeChildFromContainer:E2,insertInContainerBefore:RD,commitUpdate(t,e,n,r,i,s){if(t.__instance&&i.object&&i.object!==t)ID(t,n,i,s);else{const{args:o=[],...a}=i,{args:l=[],...u}=r;o.some((h,g)=>Qi.obj(h)?Object.entries(h).some(([v,x])=>x!==l[g][v]):h!==l[g])?ID(t,n,i,s):$T(t,a,u,!0)}},hideInstance(t){t.isObject3D&&(t.visible=!1,qm(t))},unhideInstance(t,e){(t.isObject3D&&e.visible==null||e.visible)&&(t.visible=!0,qm(t))},hideTextInstance(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance(t){return t},getRootHostContext(){return jE},getChildHostContext(){return jE},createTextInstance(){},finalizeInitialChildren(t){return t.__handlers},commitMount(t){const e=t.__container;e&&t.raycast&&t.__handlers&&e.__interaction.push(t)},prepareUpdate(){return jE},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(){return null},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}});Dde.injectIntoDevTools({bundleType:0,findHostInstanceByFiber:()=>null,version:Tde,rendererPackageName:bde});function Ide(t){const[e,n]=b.useState(!1),r=b.useRef(void 0),i=t||r;return b.useLayoutEffect(()=>void n(s=>!s),[]),i}class hl{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){const n=this.children.indexOf(e);this.children.splice(n,1),this.children.length===0&&this.detach()}}class N4 extends hl{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof hl&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof hl&&e.removeChild(this))}}class Ode extends hl{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof hl&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof hl&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);const n={};for(const r in this.payload){const i=this.payload[r];e&&!(i instanceof hl)||(n[r]=i instanceof hl?i[e?"getAnimatedValue":"getValue"]():i)}return n}getAnimatedValue(){return this.getValue(!0)}}let vB;function Lde(t,e){vB={fn:t,transform:e}}let yB;function kde(t){yB=t}let z4=t=>typeof window<"u"?window.requestAnimationFrame(t):-1,S2;function Nde(t){S2=t}let xB=()=>Date.now(),zde=t=>t.current,Bde,Zv;function Fde(t){Zv=t}function A2(t,e,n){if(typeof t=="function")return t;if(Array.isArray(t))return A2({range:t,output:e,extrapolate:n});if(S2&&typeof t.output[0]=="string")return S2(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=Hde(u,s);return Ude(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}}function Ude(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function Hde(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}class Jv extends N4{constructor(e,n,r){super(),this.calc=void 0,this.payload=e instanceof N4&&!(e instanceof Jv)?e.getPayload():Array.isArray(e)?e:[e],this.calc=A2(n,r)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,n){this.calc=A2(e,n)}interpolate(e,n){return new Jv(this,e,n)}}const pn={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(pn.str(t)||pn.num(t))return t===e;if(pn.obj(t)&&pn.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return pn.und(n)?t===e:!0}};function qde(t,e){return e===void 0&&(e=!0),n=>(pn.arr(n)?n:Object.keys(n)).reduce((r,i)=>{const s=e?i[0].toLowerCase()+i.substring(1):i;return r[s]=t(s),r},t)}function Vde(){const t=b.useState(!1),e=t[1];return b.useCallback(()=>e(r=>!r),[])}function xd(t,e){return pn.und(t)||pn.nul(t)?e:t}function Nx(t){return pn.und(t)?[]:pn.arr(t)?t:[t]}function dm(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return pn.fun(t)?t(...n):t}function Gde(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,Kd(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function YE(t){const e=Gde(t);if(pn.und(e))return It({to:e},t);const n=Object.keys(t).reduce((r,i)=>pn.und(e[i])?It({},r,{[i]:t[i]}):r,{});return It({to:e},n)}function Wde(t,e){return e&&(pn.fun(e)?e(t):pn.obj(e)&&(e.current=t)),t}class jde extends Ode{constructor(e,n){super(),this.update=void 0,this.payload=e.style?It({},e,{style:Bde(e.style)}):e,this.update=n,this.attach()}}const _B=t=>b.forwardRef((n,r)=>{const i=Vde(),s=b.useRef(!0),o=b.useRef(null),a=b.useRef(null),l=b.useCallback(h=>{const g=o.current,v=()=>{a.current&&vB.fn(a.current,o.current.getAnimatedValue())===!1&&i()};o.current=new jde(h,v),g&&g.detach()},[]);b.useEffect(()=>()=>{s.current=!1,o.current&&o.current.detach()},[]),b.useImperativeHandle(r,()=>zde(a)),l(n);const u=o.current.getValue();u.scrollTop,u.scrollLeft;const c=Kd(u,["scrollTop","scrollLeft"]);return ee.createElement(t,It({},c,{ref:h=>a.current=Wde(h,r)}))}),M2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Oa="[-+]?\\d*\\.?\\d+",b2=Oa+"%";function O3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const Yde=new RegExp("rgb"+O3(Oa,Oa,Oa)),Qde=new RegExp("rgba"+O3(Oa,Oa,Oa,Oa)),Xde=new RegExp("hsl"+O3(Oa,b2,b2)),Kde=new RegExp("hsla"+O3(Oa,b2,b2,Oa)),$de=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Zde=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Jde=/^#([0-9a-fA-F]{6})$/,ehe=/^#([0-9a-fA-F]{8})$/;function the(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Jde.exec(t))?parseInt(e[1]+"ff",16)>>>0:M2.hasOwnProperty(t)?M2[t]:(e=Yde.exec(t))?(Bp(e[1])<<24|Bp(e[2])<<16|Bp(e[3])<<8|255)>>>0:(e=Qde.exec(t))?(Bp(e[1])<<24|Bp(e[2])<<16|Bp(e[3])<<8|kD(e[4]))>>>0:(e=$de.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=ehe.exec(t))?parseInt(e[1],16)>>>0:(e=Zde.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Xde.exec(t))?(OD(LD(e[1]),zx(e[2]),zx(e[3]))|255)>>>0:(e=Kde.exec(t))?(OD(LD(e[1]),zx(e[2]),zx(e[3]))|kD(e[4]))>>>0:null}function QE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OD(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=QE(i,r,t+1/3),o=QE(i,r,t),a=QE(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Bp(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function LD(t){return(parseFloat(t)%360+360)%360/360}function kD(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function zx(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function ND(t){let e=the(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}const Bx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,nhe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,rhe=new RegExp(`(${Object.keys(M2).join("|")})`,"g"),ihe=t=>{const e=t.output.map(i=>i.replace(nhe,ND)).map(i=>i.replace(rhe,ND)),n=e[0].match(Bx).map(()=>[]);e.forEach(i=>{i.match(Bx).forEach((s,o)=>n[o].push(+s))});const r=e[0].match(Bx).map((i,s)=>A2(It({},t,{output:n[s]})));return i=>{let s=0;return e[0].replace(Bx,()=>r[s++](i)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(o,a,l,u,c)=>`rgba(${Math.round(a)}, ${Math.round(l)}, ${Math.round(u)}, ${c})`)}};function wB(t,e){"update"in t?e.add(t):t.getChildren().forEach(n=>wB(n,e))}class B4 extends hl{constructor(e){var n;super(),n=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(r,i){i===void 0&&(i=!0),n.value=r,i&&n.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&wB(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,n){return new Jv(this,e,n)}}class she extends N4{constructor(e){super(),this.payload=e.map(n=>new B4(n))}setValue(e,n){n===void 0&&(n=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((r,i)=>this.payload[i].setValue(r,n)):this.payload.forEach(r=>r.setValue(e,n))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,n){return new Jv(this,e,n)}}let sv=!1;const Zd=new Set,JT=()=>{if(!sv)return!1;let t=xB();for(let e of Zd){let n=!1;for(let r=0;r<e.configs.length;r++){let i=e.configs[r],s,o;for(let a=0;a<i.animatedValues.length;a++){let l=i.animatedValues[a];if(l.done)continue;let u=i.fromValues[a],c=i.toValues[a],h=l.lastPosition,g=c instanceof hl,v=Array.isArray(i.initialVelocity)?i.initialVelocity[a]:i.initialVelocity;if(g&&(c=c.getValue()),i.immediate){l.setValue(c),l.done=!0;continue}if(typeof u=="string"||typeof c=="string"){l.setValue(c),l.done=!0;continue}if(i.duration!==void 0)h=u+i.easing((t-l.startTime)/i.duration)*(c-u),s=t>=l.startTime+i.duration;else if(i.decay)h=u+v/(1-.998)*(1-Math.exp(-(1-.998)*(t-l.startTime))),s=Math.abs(l.lastPosition-h)<.1,s&&(c=h);else{o=l.lastTime!==void 0?l.lastTime:t,v=l.lastVelocity!==void 0?l.lastVelocity:i.initialVelocity,t>o+64&&(o=t);let x=Math.floor(t-o);for(let w=0;w<x;++w){let M=-i.tension*(h-c),C=-i.friction*v,R=(M+C)/i.mass;v=v+R*1/1e3,h=h+v*1/1e3}let y=i.clamp&&i.tension!==0?u<c?h>c:h<c:!1,_=Math.abs(v)<=i.precision,E=i.tension!==0?Math.abs(c-h)<=i.precision:!0;s=y||_&&E,l.lastVelocity=v,l.lastTime=t}g&&!i.toValues[a].done&&(s=!1),s?(l.value!==c&&(h=c),l.done=!0):n=!0,l.setValue(h),l.lastPosition=h}e.props.onFrame&&(e.values[i.name]=i.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),n||(Zd.delete(e),e.stop(!0))}return Zd.size?Zv?Zv():z4(JT):sv=!1,sv},ohe=t=>{Zd.has(t)||Zd.add(t),sv||(sv=!0,z4(Zv||JT))},ahe=t=>{Zd.has(t)&&Zd.delete(t)};let lhe=0;class uhe{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=lhe++}update(e){if(!e)return this;const n=YE(e),r=n.delay,i=r===void 0?0:r,s=n.to,o=Kd(n,["delay","to"]);if(pn.arr(s)||pn.fun(s))this.queue.push(It({},o,{delay:i,to:s}));else if(s){let a={};Object.entries(s).forEach(l=>{let u=l[0],c=l[1];const h=It({to:{[u]:c},delay:dm(i,u)},o),g=a[h.delay]&&a[h.delay].to;a[h.delay]=It({},a[h.delay],h,{to:It({},g,h.to)})}),this.queue=Object.values(a)}return this.queue=this.queue.sort((a,l)=>a.delay-l.delay),this.diff(o),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(i=>{let s=i.from,o=s===void 0?{}:s,a=i.to,l=a===void 0?{}:a;pn.obj(o)&&(this.merged=It({},o,this.merged)),pn.obj(l)&&(this.merged=It({},this.merged,l))});const n=this.local=++this.guid,r=this.localQueue=this.queue;this.queue=[],r.forEach((i,s)=>{let o=i.delay,a=Kd(i,["delay"]);const l=c=>{s===r.length-1&&n===this.guid&&c&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let u=pn.arr(a.to)||pn.fun(a.to);o?setTimeout(()=>{n===this.guid&&(u?this.runAsync(a,l):this.diff(a).start(l))},o):u?this.runAsync(a,l):this.diff(a).start(l)})}else pn.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),ohe(this);return this}stop(e){return this.listeners.forEach(n=>n(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&ahe(this),this}runAsync(e,n){var r=this;e.delay;let i=Kd(e,["delay"]);const s=this.local;let o=Promise.resolve(void 0);if(pn.arr(i.to))for(let a=0;a<i.to.length;a++){const l=a,u=It({},i,YE(i.to[l]));pn.arr(u.config)&&(u.config=u.config[l]),o=o.then(()=>{if(s===this.guid)return new Promise(c=>this.diff(u).start(c))})}else if(pn.fun(i.to)){let a=0,l;o=o.then(()=>i.to(u=>{const c=It({},i,YE(u));if(pn.arr(c.config)&&(c.config=c.config[a]),a++,s===this.guid)return l=new Promise(h=>this.diff(c).start(h))},function(u){return u===void 0&&(u=!0),r.stop(u)}).then(()=>l))}o.then(n)}diff(e){this.props=It({},this.props,e);let n=this.props,r=n.from,i=r===void 0?{}:r,s=n.to,o=s===void 0?{}:s,a=n.config,l=a===void 0?{}:a,u=n.reverse,c=n.attach,h=n.reset,g=n.immediate;if(u){var v=[o,i];i=v[0],o=v[1]}this.merged=It({},i,this.merged,o),this.hasChanged=!1;let x=c&&c(this);if(this.animations=Object.entries(this.merged).reduce((y,_)=>{let E=_[0],w=_[1],M=y[E]||{};const C=pn.num(w),R=pn.str(w)&&!w.startsWith("#")&&!/\d/.test(w)&&!yB[w],O=pn.arr(w),k=!C&&!O&&!R;let P=pn.und(i[E])?w:i[E],z=C||O||R?w:1,B=dm(l,E);x&&(z=x.animations[E].parent);let q=M.parent,Q=M.interpolation,W=Nx(x?z.getPayload():z),X,ne=w;k&&(ne=S2({range:[0,1],output:[w,w]})(1));let se=Q&&Q.getValue();const G=!pn.und(q)&&M.animatedValues.some(J=>!J.done),te=!pn.equ(ne,se),re=!pn.equ(ne,M.previous),V=!pn.equ(B,M.config);if(h||re&&te||V){if(C||R)q=Q=M.parent||new B4(P);else if(O)q=Q=M.parent||new she(P);else if(k){let J=M.interpolation&&M.interpolation.calc(M.parent.value);J=J!==void 0&&!h?J:P,M.parent?(q=M.parent,q.setValue(0,!1)):q=new B4(0);const he={output:[J,w]};M.interpolation?(Q=M.interpolation,M.interpolation.updateConfig(he)):Q=q.interpolate(he)}return W=Nx(x?z.getPayload():z),X=Nx(q.getPayload()),h&&!k&&q.setValue(P,!1),this.hasChanged=!0,X.forEach(J=>{J.startPosition=J.value,J.lastPosition=J.value,J.lastVelocity=G?J.lastVelocity:void 0,J.lastTime=G?J.lastTime:void 0,J.startTime=xB(),J.done=!1,J.animatedStyles.clear()}),dm(g,E)&&q.setValue(k?z:w,!1),It({},y,{[E]:It({},M,{name:E,parent:q,interpolation:Q,animatedValues:X,toValues:W,previous:ne,config:B,fromValues:Nx(q.getValue()),immediate:dm(g,E),initialVelocity:xd(B.velocity,0),clamp:xd(B.clamp,!1),precision:xd(B.precision,.01),tension:xd(B.tension,170),friction:xd(B.friction,26),mass:xd(B.mass,1),duration:B.duration,easing:xd(B.easing,J=>J),decay:B.decay})})}else return te?y:(k&&(q.setValue(1,!1),Q.updateConfig({output:[ne,ne]})),q.done=!0,this.hasChanged=!0,It({},y,{[E]:It({},y[E],{previous:ne})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let y in this.animations)this.interpolations[y]=this.animations[y].interpolation,this.values[y]=this.animations[y].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}const che=(t,e)=>{const n=b.useRef(!1),r=b.useRef(),i=pn.fun(e),s=b.useMemo(()=>{r.current&&(r.current.map(h=>h.destroy()),r.current=void 0);let c;return[new Array(t).fill().map((h,g)=>{const v=new uhe,x=i?dm(e,g,v):e[g];return g===0&&(c=x.ref),v.update(x),c||v.start(),v}),c]},[t]),o=s[0],a=s[1];r.current=o,b.useImperativeHandle(a,()=>({start:()=>Promise.all(r.current.map(c=>new Promise(h=>c.start(h)))),stop:c=>r.current.forEach(h=>h.stop(c)),get controllers(){return r.current}}));const l=b.useMemo(()=>c=>r.current.map((h,g)=>{h.update(i?dm(c,g,h):c[g]),a||h.start()}),[t]);b.useEffect(()=>{n.current?i||l(e):a||r.current.forEach(c=>c.start())}),b.useEffect(()=>(n.current=!0,()=>r.current.forEach(c=>c.destroy())),[]);const u=r.current.map(c=>c.getValues());return i?[u,l,c=>r.current.forEach(h=>h.pause(c))]:u},fhe=t=>{const e=pn.fun(t),n=che(1,e?t:[t]),r=n[0],i=n[1],s=n[2];return e?[r[0],i,s]:r},dhe=qde(_B),EB=dhe(lh);EB.primitive=_B("primitive");PD&&(PD(JT),Fde(()=>mB()));Nde(ihe);kde(M2);Lde($T,t=>t);const hhe=b.forwardRef(function(e,n){return Al(({clock:r})=>{n.current.position.x=Math.sin(r.getElapsedTime())*-8,n.current.position.y=Math.cos(r.getElapsedTime())*-8}),Be("mesh",{ref:n,position:[0,0,-15],children:[H("sphereGeometry",{args:[1,36,36]}),H("meshBasicMaterial",{color:"#C58D47"})]})});function phe(){const t=Ide();return Be(Xr,{children:[H(hhe,{ref:t}),t.current&&Be(J7,{multisampling:0,children:[H(NJ,{sun:t.current,blendFunction:Pt.Screen,samples:30,density:.97,decay:.96,weight:.6,exposure:.4,clampMax:1,width:er.AUTO_SIZE,height:er.AUTO_SIZE,kernelSize:hf.SMALL,blur:!0}),H(kJ,{delay:[1.5,7.5],duration:[.6,1],strength:[.3,1],mode:Cc.SPORADIC,active:!0,ratio:.85}),H(ek,{premultiply:!0,blendFunction:Pt.ADD})]})]})}function mhe({position:t}){let e=b.useRef(),n=0;Al(()=>{const o=5*Math.sin(ih.degToRad(n+=.01)),a=Math.cos(ih.degToRad(n*2));e.current.rotation.set(o,o,o),e.current.scale.set(a,a,a)});const[r,i,s]=b.useMemo(()=>{const o=new gh(1,10,10),a=new Iu({color:new tt("peachpuff"),transparent:!0}),l=new Array(1e3).fill().map(u=>[Math.random()*800-400,Math.random()*800-400,Math.random()*800-400]);return[o,a,l]},[]);return H(EB.group,{ref:e,position:t,children:s.map(([o,a,l],u)=>H("mesh",{geometry:r,material:i,position:[o,a,l]},u))})}function ghe(){const[{top:t}]=fhe(()=>({top:0})),e=b.useRef(),{viewport:n}=Qn();return Be("mesh",{ref:e,scale:n.width<26?n.width/25:1,children:[H(mhe,{position:t.interpolate(r=>[0,-1+r/20,0])}),H(xde,{}),H(phe,{})]})}const vhe=()=>H("section",{className:"anim",children:Be(T7,{camera:{position:[0,0,10]},onCreated:({gl:t})=>{t.setClearColor(new tt("#000000"))},children:[H(FK,{makeDefault:!0,fov:75,position:[0,0,15]}),H(B7,{}),H("ambientLight",{intensity:.8}),H("pointLight",{position:[15,15,15],intensity:1}),H(ghe,{})]})});function yhe(){return Be("main",{className:"tutorial",children:[H("h1",{className:"tutorial_h1",children:"Tutorial"}),H("p",{className:"tutorial_intro",children:"This game is based on a few key rules that determine the fate of a cell. Your starting pattern is entirely responsible for determining the course and outcome of the game. With that in mind, familiarise yourself with these diagrams before returning to the action."}),H("h2",{children:"Loneliness: A cell with less than 2 adjoining neighbors dies."}),H("img",{className:"tutorial_img",src:"ruleOne.png",alt:"rule one"}),H("h2",{children:"OverCrowding: A cell with more than three adjoining cells dies."}),H("img",{className:"tutorial_img",src:"ruleTwo.png",alt:"rule two"}),H("h2",{children:"Reproduction: An empty cell with more than three adjoining cells comes alive."}),H("img",{className:"tutorial_img",src:"ruleThree.png",alt:"rule three"}),H("h2",{children:"Stasis: A cell with exactly two adjoining cells remains the same"}),H("img",{className:"tutorial_img",src:"ruleFour.png",alt:"rule four"})]})}const SB=b.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=mn(t,"card-img");return H(r,{ref:s,className:Wt(n?`${o}-${n}`:o,e),...i})});SB.displayName="CardImg";const AB=b.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=mn(t,"card-header"),o=b.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return H(AT.Provider,{value:o,children:H(n,{ref:i,...r,className:Wt(e,s)})})});AB.displayName="CardHeader";const xhe=N1("h5"),_he=N1("h6"),MB=Kr("card-body"),whe=Kr("card-title",{Component:xhe}),Ehe=Kr("card-subtitle",{Component:_he}),She=Kr("card-link",{Component:"a"}),Ahe=Kr("card-text",{Component:"p"}),Mhe=Kr("card-footer"),bhe=Kr("card-img-overlay"),The={body:!1},e5=b.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},u)=>{const c=mn(t,"card");return H(a,{ref:u,...l,className:Wt(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?H(MB,{children:o}):o})});e5.displayName="Card";e5.defaultProps=The;const Ri=Object.assign(e5,{Img:SB,Title:whe,Subtitle:Ehe,Body:MB,Link:She,Text:Ahe,Header:AB,Footer:Mhe,ImgOverlay:bhe});function Che(t){const[e,n]=b.useState(!1),[r,i]=b.useState(""),[s,o]=b.useState(!1);cg();const{setPatternsData:a}=t,l=()=>{Pue(t.id).then(()=>{o(!0)}).catch(u=>{i(u.response.data.msg),t.onHide(),n(!0)})};return Be(Xr,{children:[e&&Be(Er,{style:{height:"fit-content",marginTop:"20px"},className:"alert",variant:"danger",onClose:()=>n(!1),dismissible:!0,children:[H(Er.Heading,{children:"Something went wrong..."}),H("p",{children:r})]}),Be(dl,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centred:"true",children:[H(dl.Header,{closeButton:!0,children:H(dl.Title,{id:"contained-modal-title-vcenter",children:H("span",{style:{fontStyle:"italic"},children:s?"Done.":"Are you sure you want to do that?"})})}),H(dl.Body,{children:s?Be(Xr,{children:[H("h4",{children:"Your pattern has been deleted."}),H("p",{children:"Click the button to close this window."})]}):Be(Xr,{children:[H("h4",{children:"You're about to permanenetly delete this pattern."}),H("p",{children:"If you're sure you want to delete this pattern, click the button below to confirm."})]})}),Be(dl.Footer,{children:[H(Dr,{onClick:()=>{s&&a(u=>u.filter(c=>c._id!==t.id)),t.onHide()},children:"Close"}),!s&&H(Dr,{style:{backgroundColor:"rgb(250, 100, 200"},onClick:l,children:"Confirm"})]})]})]})}const Fx=t=>t.split(" ").map(e=>e.split("").map(n=>+n));function bB({id:t,username:e,pattern_name:n,avatar_url:r,created_at:i,pattern_body:s,setPatternsData:o}){const[a,l]=b.useState(!1),{gameParameters:{username:u},setGameParameters:c}=b.useContext(Bs),h=cg(),g=x=>{c(y=>({...y,isRunning:!1,configuration:Fx(s)})),h(x.target.id==="set-3d"?"/3dgame":"/2dgame")},v="1fr ".repeat(s.split(" ")[0].length);return Be(Xr,{children:[Be(Ri,{children:[H(Ri.Header,{children:Be(Pr,{variant:"pills",defaultActiveKey:"#first",children:[H(Pr.Item,{children:H(Pr.Link,{id:"set-3d",onClick:g,children:"Go 3D"})}),H(Pr.Item,{children:H(Pr.Link,{id:"set-2d",onClick:g,children:"Go 2D"})}),H(Pr.Item,{children:H(Pr.Link,{onClick:()=>{h(`/patterns/${e}`),window.scrollTo(0,0)},children:"More patterns"})})]})}),Be(Ri.Body,{children:[Be(Ri.Title,{children:['"',n,'"']}),Be(Ri.Subtitle,{className:"mb-2 text-muted",children:["By ",e]}),Be(Ri.Text,{children:["Added on ",i.slice(0,10)]}),H("div",{className:"cellboard",style:{width:"280px",backgroundColor:"rgb(120, 120, 120)",height:"280px",borderRadius:0,gridTemplateColumns:v,boxShadow:"6px 10px 17px"},children:Fx(s).map((x,y)=>x.map((_,E)=>H("div",{className:"cell",style:{backgroundColor:Fx(s)[y][E]?"rgb(255, 31, 200)":"",boxShadow:Fx(s)[y][E]?"0px 0 6px inset":"",border:"solid 1px rgb(90, 90, 90)"}},`${y}-${E}`)))}),u===e&&H(Dr,{onClick:()=>l(!0),className:"pattern_delete",variant:"primary",children:"Delete"})]})]}),H(Che,{id:t,show:a,onHide:()=>l(!1),setPatternsData:o})]})}const TB=b.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{t=mn(t,"spinner");const l=`${t}-${n}`;return H(i,{ref:a,...o,className:Wt(s,l,r&&`${l}-${r}`,e&&`text-${e}`)})});TB.displayName="Spinner";const L3=()=>Be(Xr,{children:[H(TB,{style:{display:"block",height:"100px",width:"100px",margin:"70px auto 20px",fontSize:"30px"},animation:"border",variant:"warning"}),H("p",{style:{textAlign:"center",color:"whitesmoke",fontSize:"20px",margin:"0 auto"},children:"Loading..."})]});function Phe(){const[t,e]=b.useState(""),[n,r]=b.useState(!1),[i,s]=b.useState(""),[o,a]=b.useState(!1);return b.useEffect(()=>{r(!0),Promise.all([lz(),A3()]).then(([{data:{patterns:l}},{data:{users:u}}])=>{const c=l.map(h=>(u.forEach(g=>{g.username===h.username&&(h.avatar_url=g.avatar_url)}),h));e(c)}).catch(({response:{data:l}})=>{l.msg&&(s(l.msg),a(!0))}).finally(()=>{r(!1)})},[]),Be("main",{children:[H("h1",{className:"patterns_h1",children:"Patterns"}),o&&Be(Er,{style:{width:"80%",maxWidth:"820px"},id:"profile_alert",variant:"danger",onClose:()=>a(!1),dismissible:!0,children:[H(Er.Heading,{children:"Something went wrong."}),H("p",{style:{margin:0},children:i})]}),n?H(L3,{}):i?null:H("section",{className:"patterns_list",children:t&&t.map(l=>H(bB,{id:l._id,username:l.username,pattern_name:l.pattern_name,avatar_url:l.avatar_url,created_at:l.created_at,pattern_body:l.pattern_body,setPatternsData:e},l._id))})]})}const Rhe=({id:t,username:e,accountOwner:n,email:r,avatar:i})=>{const s=cg(),o=({currentTarget:a})=>{a.onerror=null,a.src=`avatar${[0,1,2,3,4,5,6][Math.floor(Math.random()*7)]}.png`};return Be(Ri,{className:"user_card",children:[H(Ri.Header,{children:H(Pr,{variant:"pills",defaultActiveKey:"#first",children:H(Pr.Item,{children:H(Pr.Link,{onClick:()=>{s(`/patterns/${e}`),window.scrollTo(0,0)},children:"View user's patterns"})})})}),H(Ri.Img,{variant:"top",src:i,onError:o}),Be(Ri.Body,{children:[H(Ri.Title,{children:e}),H(Ri.Subtitle,{className:"mb-2 text-muted",children:n})]})]})},Dhe=({error:t})=>Be(Er,{style:{margin:"5px auto 0",maxWidth:"800px"},variant:"info",children:[H(Er.Heading,{children:"Something went wrong."}),t,H("div",{style:{display:"flex"}})]},"info"),Ihe=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(!1),[i,s]=b.useState(!1);return b.useEffect(()=>{r(!0),A3().then(({data:{users:o}})=>{e(o),r(!1)}).catch(o=>{console.log(o),r(!1),s(o.response.data.msg)})},[]),Be("main",{children:[H("h1",{className:"users_h1",children:"Users"}),n&&!i?H(L3,{}):i?H(Dhe,{error:i}):H("section",{className:"users_list",children:t&&t.map(({_id:o,account_owner:a,email:l,username:u,avatar_url:c})=>H(Rhe,{id:o,username:u,accountOwner:a,email:l,avatar:c},o))})]})},Ohe=()=>{const[t,e]=b.useState("login"),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(""),[c,h]=b.useState(""),[g,v]=b.useState(!1),[x,y]=b.useState(!1),[_,E]=b.useState(!1),[w,M]=b.useState(!1),{gameParameters:{username:C},setGameParameters:R}=b.useContext(Bs),O=P=>{P.preventDefault(),C?(v(`You're already logged in, ${C}!`),y(!0)):!n||!i?(v("Please complete all required fields."),y(!0)):(y(!1),Iue(n,i).then(()=>{r(""),s(""),R(z=>({...z,username:n})),E(`Welcome back, ${n}!`),M(!0)}).catch(({response:{data:z}})=>{y(!0),z.error_msg?v(z.error_msg):z.data.error_msg?v(z.data.error_msg):v("Login failed. Please ensure you are using the correct details and try again.")}))},k=P=>{P.preventDefault(),!n||!i||!l||!c||!o?(v("Please complete all required fields."),y(!0)):i!==o?(v("Passwords do not match."),y(!0)):i.length<10||!/(?=.*?[A-Z])(?=.*?[a-z])(?=.*?\d)/.test(i)?(v("Password does not meet requirements."),y(!0)):(y(!1),Oue(n,l,i).then(()=>{Rue(c,n,l,"https://img.icons8.com/emoji/256/bust-in-silhouette.png")}).then(z=>{E("Signup successful. You can now login to your account."),M(!0),e("login"),r(""),s(""),a(""),h(""),u("")}).catch(z=>{z.response.data.data.error_msg?v(z.response.data.data.error_msg):z.response.data.msg?v(z.response.data.msg):v("Signup failed."),y(!0)}))};return b.useEffect(()=>{C&&window.localStorage.setItem("MTYD_APP",C)},[C]),b.useEffect(()=>{R(P=>({...P,username:window.localStorage.getItem("MTYD_APP")}))},[]),Be("main",{children:[H("h1",{className:"login_h1",children:t==="login"?"Login":"Sign up for a new account."}),H("p",{className:"login_text",children:t==="login"?"Sign in to your account.":"Create a new account."}),Be(Er,{id:"login_success",show:w,variant:"success",children:[H(Er.Heading,{children:"Login successful."}),H("p",{children:_}),H("hr",{}),H("div",{className:"d-flex justify-content-end",children:H(Dr,{onClick:()=>M(!1),variant:"outline-success",children:"Close."})})]}),x&&Be(Er,{id:"login_alert",variant:"danger",onClose:()=>y(!1),dismissible:!0,children:[H(Er.Heading,{children:"Something went wrong."}),Be("p",{style:{margin:0},children:[g,C&&H(pde,{})]})]}),Be(fn,{onSubmit:t==="login"?O:k,id:"login_form",children:[t==="signup"&&Be(fn.Group,{className:"mb-3",controlId:"formBasicName",children:[H(fn.Label,{children:"Name"}),H(fn.Control,{type:"text",placeholder:"Enter your name",value:c,onChange:P=>h(P.target.value)})]}),Be(fn.Group,{className:"mb-3",controlId:"formBasicUsername",children:[H(fn.Label,{children:"Username"}),H(fn.Control,{type:"username",placeholder:"Enter username",value:n,onChange:P=>r(P.target.value)})]}),t==="signup"&&Be(fn.Group,{className:"mb-3",controlId:"formBasicEmail",children:[H(fn.Label,{children:"Email address"}),H(fn.Control,{type:"email",placeholder:"Enter email",value:l,onChange:P=>u(P.target.value)})]}),Be(fn.Group,{className:"mb-3",controlId:"formBasicPassword",children:[H(fn.Label,{children:"Password"}),H(fn.Control,{type:"password",placeholder:"Password",value:i,onChange:P=>s(P.target.value)}),t==="signup"&&H(fn.Text,{className:"text-muted",children:"Must be at least 10 characters long and include at least 1 number, 1 lowercase letter and 1 capital letter."})]}),t==="signup"&&Be(fn.Group,{className:"mb-3",controlId:"formBasicPasswordConf",children:[H(fn.Label,{children:"Confirm password"}),H(fn.Control,{type:"password",placeholder:"Confirm password",value:o,onChange:P=>a(P.target.value)})]}),H(Dr,{variant:"primary",type:"submit",children:"Submit"})]}),H("div",{className:"signup d-grid gap-2",children:H(Dr,{onClick:()=>{e(t==="login"?"signup":"login"),y(!1)},variant:"secondary",size:"lg",children:t==="login"?"Need a new account? Click here to sign up.":"Already have an account? Click here to sign in."})})]})};function Lhe(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),{gameParameters:{username:i}}=b.useContext(Bs),{username:s}=fae(),o=cg();if(b.useEffect(()=>{r(!0),Tue(s).then(({data:{patterns:a}})=>{e(a),r(!1)}).catch(a=>{r(!1)})},[]),t)return Be("main",{children:[H("h1",{className:"user_h1",children:i===s?`Welcome back, ${s}.`:`${s}'s patterns`}),n&&H(L3,{}),H(Dr,{style:{display:"block",margin:"60px auto 40px"},onClick:()=>o(-1),children:"Go back"}),!n&&t.length?H("p",{className:"user_intro",children:i===s?"Here are your saved patterns.":`You are currently viewing all patterns submitted by ${s}.`}):!n&&!t.length?H("p",{className:"user_intro",children:i===s?"You haven't created any patterns yet.":`${s} hasn't posted any patterns yet.`}):null,H("article",{className:"patterns_list",children:t.map(a=>H(bB,{id:a._id,username:a.username,pattern_name:a.pattern_name,avatar_url:a.avatar_url,created_at:a.created_at,pattern_body:a.pattern_body,setPatternsData:e},a._id))})]})}const khe=()=>{const[t,e]=b.useState(""),{gameParameters:{username:n}}=b.useContext(Bs),[r,i]=b.useState(""),[s,o]=b.useState(""),[a,l]=b.useState(""),[u,c]=b.useState(""),[h,g]=b.useState(!1),[v,x]=b.useState(""),[y,_]=b.useState(!1),[E,w]=b.useState(0);b.useEffect(()=>{A3().then(({data:{users:C}})=>{C.forEach(R=>{R.username===n&&e(R)})})},[E]);const M=C=>{if(_(!1),g(!1),C.preventDefault(),!r&&!s&&!a)c("Please update at least one field before submitting the form."),g(!0);else{const R={};r&&(R.account_owner=r),s&&(R.email=s),a&&(R.avatar_url=a),Due(R,t._id).then(()=>{x("You've successfully updated your details."),_(!0),w(O=>O+1)}).catch(O=>{O.response.data.msg&&(c(O.response.data.msg),g(!0))}).finally(()=>{i(""),o(""),l("")})}};return Be("main",{children:[H("h1",{className:"profile_h1",children:"Profile"}),t&&Be("div",{className:"profile_card",children:[H("img",{className:"profile_img",src:t.avatar_url}),Be("div",{children:[H("p",{style:{fontWeight:"bold"},children:t.account_owner}),H("p",{children:t.username}),H("p",{children:t.email})]})]}),H("h2",{className:"profile_h2",children:"Update profile information"}),h&&Be(Er,{style:{width:"80%",maxWidth:"820px"},id:"profile_alert",variant:"danger",onClose:()=>g(!1),dismissible:!0,children:[H(Er.Heading,{children:"Something went wrong."}),H("p",{style:{margin:0},children:u})]}),Be(Er,{style:{width:"80%",maxWidth:"820px"},id:"profile_success",show:y,variant:"success",children:[H(Er.Heading,{children:"Done."}),H("p",{children:v}),H("hr",{}),H("div",{className:"d-flex justify-content-end",children:H(Dr,{onClick:()=>_(!1),variant:"outline-success",children:"Close."})})]}),Be(fn,{onSubmit:M,id:"profile_form",children:[Be(fn.Group,{className:"mb-3",controlId:"formBasicName",children:[H(fn.Label,{children:"Name"}),H(fn.Control,{type:"text",placeholder:"Update your name",value:r,onChange:C=>i(C.target.value)})]}),Be(fn.Group,{className:"mb-3",controlId:"formBasicEmail",children:[H(fn.Label,{children:"Email address"}),H(fn.Control,{type:"email",placeholder:"Update your email",value:s,onChange:C=>o(C.target.value)})]}),Be(fn.Group,{className:"mb-3",controlId:"formBasicText",children:[H(fn.Label,{children:"Avatar URL"}),H(fn.Control,{type:"text",placeholder:"Update your avatar",value:a,onChange:C=>l(C.target.value)}),H(fn.Text,{className:"text-muted",children:"If your avatar image above doesn't instantly update, there's probably an issue with the url!"})]}),H(Dr,{variant:"primary",type:"submit",children:"Submit"})]})]})},Nhe=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,s]=b.useState(""),{gameParameters:{username:o}}=b.useContext(Bs),[a,l]=b.useState(""),[u,c]=b.useState(""),[h,g]=b.useState(!1),[v,x]=b.useState(!1),[y,_]=b.useState(!1),[E,w]=b.useState(!1);b.useEffect(()=>{r(!0),Promise.all([Aue(),A3()]).then(([{data:{comments:k}},{data:{users:P}}])=>{e(()=>k.map(z=>(P.forEach(({username:B,avatar_url:q})=>{B===z.username?z.avatar_url=q:B===o&&s(q)}),z)))}).catch(k=>{}).finally(()=>r(!1))},[]);const M=k=>{_(!1),g(!1),c(""),k.preventDefault(),a?a&&Mue({comment:a,username:o}).then(({data:{comment:P}})=>{l(""),e(z=>{const B=z.map(q=>({...q}));return B.unshift({...P,avatar_url:i}),B}),x("Your comment has been successfully posted."),_(!0)}).catch(({response:{data:P}})=>{P.msg&&(c(P.msg),g(!0))}):(c("Unable to post a blank comment."),g(!0))},C=k=>{w(k.target.id)},R=k=>()=>{w(!1),bue(k).then(()=>{e(P=>P.filter(z=>z._id!==k)),x("Your comment has been successfully deleted."),_(!0),window.scrollTo(0,0)}).catch(({response:{data:P}})=>{P.msg&&(c(P.msg),g(!0))})},O=({currentTarget:k})=>{k.onerror=null,k.src=`avatar${[0,1,2,3,4,5,6][Math.floor(Math.random()*7)]}.png`};return Be("main",{children:[H("h1",{className:"comments_h1",children:"Join the conversation!"}),H(gde,{}),H("p",{style:{color:"whitesmoke",textAlign:"center",margin:"20px auto 30px",fontSize:"20px"},children:o?"Use the form below to add a comment and continue the discussion.":"Log in to post a comment."}),H("section",{style:{marginBottom:0},className:"comments_list",children:Be(Er,{style:{marginBottom:0,maxWidth:"1000px"},id:"login_success",show:y,variant:"success",children:[H(Er.Heading,{children:"Login successful."}),H("p",{children:v}),H("hr",{}),H("div",{className:"d-flex justify-content-end",children:H(Dr,{onClick:()=>_(!1),variant:"outline-success",children:"Close."})})]})}),Be("section",{style:{marginBottom:0},className:"comments_list",children:[h&&Be(Er,{style:{margin:"60px auto 0",maxWidth:"1000px"},id:"login_alert",variant:"danger",onClose:()=>g(!1),dismissible:!0,children:[H(Er.Heading,{children:"Something went wrong."}),H("p",{style:{margin:0},children:u})]}),o&&Be(fn,{onSubmit:M,id:"new_comment",children:[Be(fn.Group,{className:"mb-3",controlId:"formBasicText",children:[H(fn.Label,{children:"Add a new comment"}),H(fn.Control,{as:"textarea",placeholder:"Type your comment here.",value:a,onChange:k=>l(k.target.value)})]}),H(Dr,{disabled:n,variant:"primary",type:"submit",children:n?"Please wait...":"Submit"})]})]}),H("h2",{className:"profile_h2",children:"Viewing latest comments"}),n?H(L3,{}):t.length?Be("section",{className:"comments_list",children:[t.map(k=>Be(Ri,{style:{maxWidth:"1000px",margin:"10px",boxShadow:"0 0 6px 2px rgb(207, 137, 7)"},children:[Be(Ri.Body,{style:{display:"flex",padding:"4px"},children:[Be("div",{style:{width:"100px"},children:[H(Ri.Img,{style:{height:"100px",width:"100px",margin:"1px 0",borderRadius:"6px",border:"2px solid grey"},variant:"left",src:k.avatar_url,onError:O}),o===k.username&&!E&&H(Dr,{id:k._id,onClick:C,style:{width:"100px",margin:"7px 0 0"},variant:"primary",children:"Delete"})]}),Be("div",{style:{margin:"0 10px"},children:[H(Ri.Title,{children:k.username}),H(Ri.Subtitle,{className:"mb-2 text-muted",children:`Posted on ${k.created_at.slice(0,10)} at ${k.created_at.slice(10,16)}`}),H(Ri.Text,{style:{marginBottom:"3px"},children:k.comment})]})]}),o===k.username&&E===k._id&&Be(Er,{style:{margin:"5px 0 0"},variant:"info",children:["If you're sure you want to delete this comment, click the delete button again to confirm.",Be("div",{style:{display:"flex"},children:[H(Dr,{onClick:R(k._id),style:{display:"block",margin:"10px 10px 0 0"},variant:"primary",type:"submit",children:"Confirm"}),H(Dr,{onClick:()=>w(!1),style:{display:"block",margin:"10px 0 0"},variant:"primary",type:"submit",children:"Cancel"})]})]},"info")]},k._id)),H(Dr,{className:"back-to-top",onClick:()=>window.scrollTo(0,0),variant:"primary",children:"Back to top"})]}):null]})},zhe=()=>Be("main",{className:"not-found",children:[H("h2",{style:{margin:"200px 0 80px"},className:"profile_h2",children:"Page not found."}),H(vde,{})]}),Bhe=()=>{const{gameParameters:{configuration:t,interact:e,cellColor:n,boxShadow:r,background:i},setGameParameters:s}=b.useContext(Bs),o="1fr ".repeat(t.length);return Be(Xr,{children:[H("h1",{style:{marginTop:"70px"},className:"tutorial_h1",children:"Game Of Life in 2D"}),H("div",{className:"cellboard",style:{gridTemplateColumns:o,backgroundColor:i},children:t.map((a,l)=>a.map((u,c)=>H("div",{style:t[l][c]?{backgroundColor:n,boxShadow:`0 0 6px 6px inset ${r}`}:{},className:t[l][c]===1?"cellgridliving":"cellgriddead",onClick:()=>{e===!0&&s(h=>{const g=structuredClone(h.configuration);return g[l][c]=h.configuration[l][c]?0:1,{...h,configuration:g}})}},Az())))}),H(Sz,{}),H(DN,{})]})};function Fhe(){const{gameParameters:{configuration:t,wrap:e,interval:n},setGameParameters:r}=b.useContext(Bs),[i,s]=b.useState(!1),o=b.useRef(i);o.current=i;const a=b.useRef();a.current=n,Yr({" ":OR({start:()=>{o.current||(s(!0),o.current=!0,u())},stop:()=>{s(!1),o.current=!1,u()}})}),Yr({reset:h_(()=>{s(!1),o.current=!1,r(c=>({...c,configuration:Y7,sizeModifier:0}))})}),Yr({randomise:h_(()=>{r(c=>{const h=[];for(let g=0;g<c.configuration.length;g++)h.push(Array.from(Array(c.configuration.length),()=>Math.random()>.7?1:0));return{...c,configuration:h}}),s(!1),o.current=!1})}),Yr({clear:h_(()=>{const c=[];for(let h=0;h<t.length;h++)c.push(Array.from(Array(t.length),()=>0));r(h=>({...h,isRunning:!1,configuration:c}))})}),Yr({"board size":OR({inc:()=>{r(c=>{const g=[...c.configuration].map(v=>v).map(v=>[0,...v,0]);return g.push(Array.from(Array(c.configuration.length+2),()=>0)),g.unshift(Array.from(Array(c.configuration.length+2),()=>0)),{...c,configuration:g}})},dec:()=>{r(c=>{const g=[...c.configuration].map(v=>v).filter((v,x,y)=>x>0&&x<y.length-1).map(v=>v.filter((x,y,_)=>y>0&&y<_.length-1));return{...c,configuration:g}})}})});const l=[[0,1],[0,-1],[1,-1],[-1,1],[1,1],[-1,-1],[1,0],[-1,0]],u=b.useCallback(()=>{o.current&&(r(c=>{const{configuration:h}=c;a.current=c.interval;const g=h.map(v=>v.map(x=>x));for(let v=0;v<h.length;v++)for(let x=0;x<h[v].length;x++){let y=0;l.forEach(([_,E])=>{if(!e)v+_>=0&&v+_<h.length&&x+E>=0&&x+E<h[v].length&&(y+=h[v+_][x+E]);else if(e){const w=(v+_+h[v].length)%h[v].length,M=(x+E+h.length)%h.length;y+=h[w][M]}}),y<2||y>3?g[v][x]=0:(h[v][x]===0&&y===3||h[v][x]===1&&[2,3].includes(y))&&(g[v][x]=1)}return{...c,configuration:g}}),setTimeout(u,a.current))},[o.current])}function Uhe(){const t=/\d/.test(+Yv().pathname[1]);return Be("div",{className:"App",children:[H(yde,{}),t&&H(Fhe,{}),Be(Eae,{children:[H(jo,{path:"/",element:H(vhe,{})}),H(jo,{path:"/3dgame",element:H(Sce,{})}),H(jo,{path:"/2dgame",element:H(Bhe,{})}),H(jo,{path:"/tutorial",element:H(yhe,{})}),H(jo,{path:"/patterns",element:H(Phe,{})}),H(jo,{path:"/users",element:H(Ihe,{})}),H(jo,{path:"/login",element:H(Ohe,{})}),H(jo,{path:"/profile",element:H(khe,{})}),H(jo,{path:"/patterns/:username",element:H(Lhe,{})}),H(jo,{path:"/comments",element:H(Nhe,{})}),H(jo,{path:"/*",element:H(zhe,{})})]})]})}function Hhe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ta(s)||!El(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function qhe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!ta(i)||!El(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const t5={name:"applyStyles",enabled:!0,phase:"write",fn:Hhe,effect:qhe,requires:["computeStyles"]};var Vhe=[D3,I3,R3,t5],Ghe=U1({defaultModifiers:Vhe}),Whe=[D3,I3,R3,t5,qT,UT,VT,NT,HT],n5=U1({defaultModifiers:Whe});const CB=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Vz,afterRead:Uz,afterWrite:jz,applyStyles:t5,arrow:NT,auto:C3,basePlacements:pg,beforeMain:Hz,beforeRead:Bz,beforeWrite:Gz,bottom:To,clippingParents:Nz,computeStyles:R3,createPopper:n5,createPopperBase:Ffe,createPopperLite:Ghe,detectOverflow:Um,end:Nm,eventListeners:D3,flip:UT,hide:HT,left:Os,main:qz,modifierPhases:Yz,offset:qT,placements:IT,popper:Wp,popperGenerator:U1,popperOffsets:I3,preventOverflow:VT,read:Fz,reference:zz,right:Co,start:fh,top:Is,variationPlacements:R4,viewport:DT,write:Wz},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const jhe=1e6,Yhe=1e3,F4="transitionend",Qhe=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Xhe=t=>{do t+=Math.floor(Math.random()*jhe);while(document.getElementById(t));return t},PB=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},RB=t=>{const e=PB(t);return e&&document.querySelector(e)?e:null},yu=t=>{const e=PB(t);return e?document.querySelector(e):null},Khe=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*Yhe)},DB=t=>{t.dispatchEvent(new Event(F4))},xu=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),nf=t=>xu(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,mg=t=>{if(!xu(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},rf=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",IB=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?IB(t.parentNode):null},T2=()=>{},q1=t=>{t.offsetHeight},OB=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,XE=[],$he=t=>{document.readyState==="loading"?(XE.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of XE)e()}),XE.push(t)):t()},ia=()=>document.documentElement.dir==="rtl",la=t=>{$he(()=>{const e=OB();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},lu=t=>{typeof t=="function"&&t()},LB=(t,e,n=!0)=>{if(!n){lu(t);return}const r=5,i=Khe(e)+r;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(F4,o),lu(t))};e.addEventListener(F4,o),setTimeout(()=>{s||DB(e)},i)},r5=(t,e,n,r)=>{const i=t.length;let s=t.indexOf(e);return s===-1?!n&&r?t[i-1]:t[0]:(s+=n?1:-1,r&&(s=(s+i)%i),t[Math.max(0,Math.min(s,i-1))])},Zhe=/[^.]*(?=\..*)\.|.*/,Jhe=/\..*/,epe=/::\d+$/,KE={};let zD=1;const kB={mouseenter:"mouseover",mouseleave:"mouseout"},tpe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function NB(t,e){return e&&`${e}::${zD++}`||t.uidEvent||zD++}function zB(t){const e=NB(t);return t.uidEvent=e,KE[e]=KE[e]||{},KE[e]}function npe(t,e){return function n(r){return i5(r,{delegateTarget:t}),n.oneOff&&Ve.off(t,r.type,e),e.apply(t,[r])}}function rpe(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return i5(i,{delegateTarget:o}),r.oneOff&&Ve.off(t,i.type,e,n),n.apply(o,[i])}}function BB(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function FB(t,e,n){const r=typeof e=="string",i=r?n:e||n;let s=UB(t);return tpe.has(s)||(s=t),[r,i,s]}function BD(t,e,n,r,i){if(typeof e!="string"||!t)return;let[s,o,a]=FB(e,n,r);e in kB&&(o=(x=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return x.call(this,y)})(o));const l=zB(t),u=l[a]||(l[a]={}),c=BB(u,o,s?n:null);if(c){c.oneOff=c.oneOff&&i;return}const h=NB(o,e.replace(Zhe,"")),g=s?rpe(t,n,o):npe(t,o);g.delegationSelector=s?n:null,g.callable=o,g.oneOff=i,g.uidEvent=h,u[h]=g,t.addEventListener(a,g,s)}function U4(t,e,n,r,i){const s=BB(e[n],r,i);s&&(t.removeEventListener(n,s,Boolean(i)),delete e[n][s.uidEvent])}function ipe(t,e,n,r){const i=e[n]||{};for(const s of Object.keys(i))if(s.includes(r)){const o=i[s];U4(t,e,n,o.callable,o.delegationSelector)}}function UB(t){return t=t.replace(Jhe,""),kB[t]||t}const Ve={on(t,e,n,r){BD(t,e,n,r,!1)},one(t,e,n,r){BD(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=FB(e,n,r),a=o!==e,l=zB(t),u=l[o]||{},c=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(u).length)return;U4(t,l,o,s,i?n:null);return}if(c)for(const h of Object.keys(l))ipe(t,l,h,e.slice(1));for(const h of Object.keys(u)){const g=h.replace(epe,"");if(!a||e.includes(g)){const v=u[h];U4(t,l,o,v.callable,v.delegationSelector)}}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=OB(),i=UB(e),s=e!==i;let o=null,a=!0,l=!0,u=!1;s&&r&&(o=r.Event(e,n),r(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());let c=new Event(e,{bubbles:a,cancelable:!0});return c=i5(c,n),u&&c.preventDefault(),l&&t.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};function i5(t,e){for(const[n,r]of Object.entries(e||{}))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}const xc=new Map,$E={set(t,e,n){xc.has(t)||xc.set(t,new Map);const r=xc.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return xc.has(t)&&xc.get(t).get(e)||null},remove(t,e){if(!xc.has(t))return;const n=xc.get(t);n.delete(e),n.size===0&&xc.delete(t)}};function FD(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function ZE(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const _u={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${ZE(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${ZE(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=FD(t.dataset[r])}return e},getDataAttribute(t,e){return FD(t.getAttribute(`data-bs-${ZE(e)}`))}};class V1{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const r=xu(n)?_u.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...xu(n)?_u.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const r of Object.keys(n)){const i=n[r],s=e[r],o=xu(s)?"element":Qhe(s);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)}}}const spe="5.2.3";class Ga extends V1{constructor(e,n){super(),e=nf(e),e&&(this._element=e,this._config=this._getConfig(n),$E.set(this._element,this.constructor.DATA_KEY,this))}dispose(){$E.remove(this._element,this.constructor.DATA_KEY),Ve.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){LB(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return $E.get(nf(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return spe}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const k3=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;Ve.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),rf(this))return;const s=yu(this)||this.closest(`.${r}`);t.getOrCreateInstance(s)[e]()})},ope="alert",ape="bs.alert",HB=`.${ape}`,lpe=`close${HB}`,upe=`closed${HB}`,cpe="fade",fpe="show";class N3 extends Ga{static get NAME(){return ope}close(){if(Ve.trigger(this._element,lpe).defaultPrevented)return;this._element.classList.remove(fpe);const n=this._element.classList.contains(cpe);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),Ve.trigger(this._element,upe),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=N3.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}k3(N3,"close");la(N3);const dpe="button",hpe="bs.button",ppe=`.${hpe}`,mpe=".data-api",gpe="active",UD='[data-bs-toggle="button"]',vpe=`click${ppe}${mpe}`;class z3 extends Ga{static get NAME(){return dpe}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(gpe))}static jQueryInterface(e){return this.each(function(){const n=z3.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}Ve.on(document,vpe,UD,t=>{t.preventDefault();const e=t.target.closest(UD);z3.getOrCreateInstance(e).toggle()});la(z3);const sn={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!rf(n)&&mg(n))}},ype="swipe",gg=".bs.swipe",xpe=`touchstart${gg}`,_pe=`touchmove${gg}`,wpe=`touchend${gg}`,Epe=`pointerdown${gg}`,Spe=`pointerup${gg}`,Ape="touch",Mpe="pen",bpe="pointer-event",Tpe=40,Cpe={endCallback:null,leftCallback:null,rightCallback:null},Ppe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class C2 extends V1{constructor(e,n){super(),this._element=e,!(!e||!C2.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Cpe}static get DefaultType(){return Ppe}static get NAME(){return ype}dispose(){Ve.off(this._element,gg)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),lu(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Tpe)return;const n=e/this._deltaX;this._deltaX=0,n&&lu(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ve.on(this._element,Epe,e=>this._start(e)),Ve.on(this._element,Spe,e=>this._end(e)),this._element.classList.add(bpe)):(Ve.on(this._element,xpe,e=>this._start(e)),Ve.on(this._element,_pe,e=>this._move(e)),Ve.on(this._element,wpe,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Mpe||e.pointerType===Ape)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Rpe="carousel",Dpe="bs.carousel",gf=`.${Dpe}`,qB=".data-api",Ipe="ArrowLeft",Ope="ArrowRight",Lpe=500,T0="next",Fp="prev",jp="left",x_="right",kpe=`slide${gf}`,JE=`slid${gf}`,Npe=`keydown${gf}`,zpe=`mouseenter${gf}`,Bpe=`mouseleave${gf}`,Fpe=`dragstart${gf}`,Upe=`load${gf}${qB}`,Hpe=`click${gf}${qB}`,VB="carousel",Ux="active",qpe="slide",Vpe="carousel-item-end",Gpe="carousel-item-start",Wpe="carousel-item-next",jpe="carousel-item-prev",GB=".active",WB=".carousel-item",Ype=GB+WB,Qpe=".carousel-item img",Xpe=".carousel-indicators",Kpe="[data-bs-slide], [data-bs-slide-to]",$pe='[data-bs-ride="carousel"]',Zpe={[Ipe]:x_,[Ope]:jp},Jpe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},eme={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class G1 extends Ga{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=sn.findOne(Xpe,this._element),this._addEventListeners(),this._config.ride===VB&&this.cycle()}static get Default(){return Jpe}static get DefaultType(){return eme}static get NAME(){return Rpe}next(){this._slide(T0)}nextWhenVisible(){!document.hidden&&mg(this._element)&&this.next()}prev(){this._slide(Fp)}pause(){this._isSliding&&DB(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Ve.one(this._element,JE,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){Ve.one(this._element,JE,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?T0:Fp;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Ve.on(this._element,Npe,e=>this._keydown(e)),this._config.pause==="hover"&&(Ve.on(this._element,zpe,()=>this.pause()),Ve.on(this._element,Bpe,()=>this._maybeEnableCycle())),this._config.touch&&C2.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of sn.find(Qpe,this._element))Ve.on(r,Fpe,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(jp)),rightCallback:()=>this._slide(this._directionToOrder(x_)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Lpe+this._config.interval))}};this._swipeHelper=new C2(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=Zpe[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=sn.findOne(GB,this._indicatorsElement);n.classList.remove(Ux),n.removeAttribute("aria-current");const r=sn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Ux),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const r=this._getActive(),i=e===T0,s=n||r5(this._getItems(),r,i,this._config.wrap);if(s===r)return;const o=this._getItemIndex(s),a=v=>Ve.trigger(this._element,v,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:o});if(a(kpe).defaultPrevented||!r||!s)return;const u=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const c=i?Gpe:Vpe,h=i?Wpe:jpe;s.classList.add(h),q1(s),r.classList.add(c),s.classList.add(c);const g=()=>{s.classList.remove(c,h),s.classList.add(Ux),r.classList.remove(Ux,h,c),this._isSliding=!1,a(JE)};this._queueCallback(g,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(qpe)}_getActive(){return sn.findOne(Ype,this._element)}_getItems(){return sn.find(WB,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ia()?e===jp?Fp:T0:e===jp?T0:Fp}_orderToDirection(e){return ia()?e===Fp?jp:x_:e===Fp?x_:jp}static jQueryInterface(e){return this.each(function(){const n=G1.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ve.on(document,Hpe,Kpe,function(t){const e=yu(this);if(!e||!e.classList.contains(VB))return;t.preventDefault();const n=G1.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(_u.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});Ve.on(window,Upe,()=>{const t=sn.find($pe);for(const e of t)G1.getOrCreateInstance(e)});la(G1);const tme="collapse",nme="bs.collapse",W1=`.${nme}`,rme=".data-api",ime=`show${W1}`,sme=`shown${W1}`,ome=`hide${W1}`,ame=`hidden${W1}`,lme=`click${W1}${rme}`,eS="show",hm="collapse",Hx="collapsing",ume="collapsed",cme=`:scope .${hm} .${hm}`,fme="collapse-horizontal",dme="width",hme="height",pme=".collapse.show, .collapse.collapsing",H4='[data-bs-toggle="collapse"]',mme={parent:null,toggle:!0},gme={parent:"(null|element)",toggle:"boolean"};class e1 extends Ga{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=sn.find(H4);for(const i of r){const s=RB(i),o=sn.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return mme}static get DefaultType(){return gme}static get NAME(){return tme}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(pme).filter(a=>a!==this._element).map(a=>e1.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||Ve.trigger(this._element,ime).defaultPrevented)return;for(const a of e)a.hide();const r=this._getDimension();this._element.classList.remove(hm),this._element.classList.add(Hx),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Hx),this._element.classList.add(hm,eS),this._element.style[r]="",Ve.trigger(this._element,sme)},o=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ve.trigger(this._element,ome).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,q1(this._element),this._element.classList.add(Hx),this._element.classList.remove(hm,eS);for(const i of this._triggerArray){const s=yu(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Hx),this._element.classList.add(hm),Ve.trigger(this._element,ame)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(eS)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=nf(e.parent),e}_getDimension(){return this._element.classList.contains(fme)?dme:hme}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(H4);for(const n of e){const r=yu(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){const n=sn.find(cme,this._config.parent);return sn.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const r of e)r.classList.toggle(ume,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const r=e1.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ve.on(document,lme,H4,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();const e=RB(this),n=sn.find(e);for(const r of n)e1.getOrCreateInstance(r,{toggle:!1}).toggle()});la(e1);const HD="dropdown",vme="bs.dropdown",Sh=`.${vme}`,s5=".data-api",yme="Escape",qD="Tab",xme="ArrowUp",VD="ArrowDown",_me=2,wme=`hide${Sh}`,Eme=`hidden${Sh}`,Sme=`show${Sh}`,Ame=`shown${Sh}`,jB=`click${Sh}${s5}`,YB=`keydown${Sh}${s5}`,Mme=`keyup${Sh}${s5}`,Yp="show",bme="dropup",Tme="dropend",Cme="dropstart",Pme="dropup-center",Rme="dropdown-center",Bd='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Dme=`${Bd}.${Yp}`,__=".dropdown-menu",Ime=".navbar",Ome=".navbar-nav",Lme=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",kme=ia()?"top-end":"top-start",Nme=ia()?"top-start":"top-end",zme=ia()?"bottom-end":"bottom-start",Bme=ia()?"bottom-start":"bottom-end",Fme=ia()?"left-start":"right-start",Ume=ia()?"right-start":"left-start",Hme="top",qme="bottom",Vme={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Gme={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class xl extends Ga{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=sn.next(this._element,__)[0]||sn.prev(this._element,__)[0]||sn.findOne(__,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Vme}static get DefaultType(){return Gme}static get NAME(){return HD}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rf(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Ve.trigger(this._element,Sme,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ome))for(const r of[].concat(...document.body.children))Ve.on(r,"mouseover",T2);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Yp),this._element.classList.add(Yp),Ve.trigger(this._element,Ame,e)}}hide(){if(rf(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Ve.trigger(this._element,wme,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Ve.off(r,"mouseover",T2);this._popper&&this._popper.destroy(),this._menu.classList.remove(Yp),this._element.classList.remove(Yp),this._element.setAttribute("aria-expanded","false"),_u.removeDataAttribute(this._menu,"popper"),Ve.trigger(this._element,Eme,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!xu(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${HD.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof CB>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:xu(this._config.reference)?e=nf(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=n5(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Yp)}_getPlacement(){const e=this._parent;if(e.classList.contains(Tme))return Fme;if(e.classList.contains(Cme))return Ume;if(e.classList.contains(Pme))return Hme;if(e.classList.contains(Rme))return qme;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(bme)?n?Nme:kme:n?Bme:zme}_detectNavbar(){return this._element.closest(Ime)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(_u.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const r=sn.find(Lme,this._menu).filter(i=>mg(i));r.length&&r5(r,n,e===VD,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=xl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===_me||e.type==="keyup"&&e.key!==qD)return;const n=sn.find(Dme);for(const r of n){const i=xl.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===qD||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),r=e.key===yme,i=[xme,VD].includes(e.key);if(!i&&!r||n&&!r)return;e.preventDefault();const s=this.matches(Bd)?this:sn.prev(this,Bd)[0]||sn.next(this,Bd)[0]||sn.findOne(Bd,e.delegateTarget.parentNode),o=xl.getOrCreateInstance(s);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}Ve.on(document,YB,Bd,xl.dataApiKeydownHandler);Ve.on(document,YB,__,xl.dataApiKeydownHandler);Ve.on(document,jB,xl.clearMenus);Ve.on(document,Mme,xl.clearMenus);Ve.on(document,jB,Bd,function(t){t.preventDefault(),xl.getOrCreateInstance(this).toggle()});la(xl);const GD=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",WD=".sticky-top",qx="padding-right",jD="margin-right";class q4{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,qx,n=>n+e),this._setElementAttributes(GD,qx,n=>n+e),this._setElementAttributes(WD,jD,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,qx),this._resetElementAttributes(GD,qx),this._resetElementAttributes(WD,jD)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){const i=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&_u.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){const r=i=>{const s=_u.getDataAttribute(i,n);if(s===null){i.style.removeProperty(n);return}_u.removeDataAttribute(i,n),i.style.setProperty(n,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(xu(e)){n(e);return}for(const r of sn.find(e,this._element))n(r)}}const QB="backdrop",Wme="fade",YD="show",QD=`mousedown.bs.${QB}`,jme={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Yme={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class XB extends V1{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return jme}static get DefaultType(){return Yme}static get NAME(){return QB}show(e){if(!this._config.isVisible){lu(e);return}this._append();const n=this._getElement();this._config.isAnimated&&q1(n),n.classList.add(YD),this._emulateAnimation(()=>{lu(e)})}hide(e){if(!this._config.isVisible){lu(e);return}this._getElement().classList.remove(YD),this._emulateAnimation(()=>{this.dispose(),lu(e)})}dispose(){this._isAppended&&(Ve.off(this._element,QD),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Wme),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=nf(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Ve.on(e,QD,()=>{lu(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){LB(e,this._getElement(),this._config.isAnimated)}}const Qme="focustrap",Xme="bs.focustrap",P2=`.${Xme}`,Kme=`focusin${P2}`,$me=`keydown.tab${P2}`,Zme="Tab",Jme="forward",XD="backward",ege={autofocus:!0,trapElement:null},tge={autofocus:"boolean",trapElement:"element"};class KB extends V1{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ege}static get DefaultType(){return tge}static get NAME(){return Qme}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ve.off(document,P2),Ve.on(document,Kme,e=>this._handleFocusin(e)),Ve.on(document,$me,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ve.off(document,P2))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const r=sn.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===XD?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===Zme&&(this._lastTabNavDirection=e.shiftKey?XD:Jme)}}const nge="modal",rge="bs.modal",Wa=`.${rge}`,ige=".data-api",sge="Escape",oge=`hide${Wa}`,age=`hidePrevented${Wa}`,$B=`hidden${Wa}`,ZB=`show${Wa}`,lge=`shown${Wa}`,uge=`resize${Wa}`,cge=`click.dismiss${Wa}`,fge=`mousedown.dismiss${Wa}`,dge=`keydown.dismiss${Wa}`,hge=`click${Wa}${ige}`,KD="modal-open",pge="fade",$D="show",tS="modal-static",mge=".modal.show",gge=".modal-dialog",vge=".modal-body",yge='[data-bs-toggle="modal"]',xge={backdrop:!0,focus:!0,keyboard:!0},_ge={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Vm extends Ga{constructor(e,n){super(e,n),this._dialog=sn.findOne(gge,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new q4,this._addEventListeners()}static get Default(){return xge}static get DefaultType(){return _ge}static get NAME(){return nge}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ve.trigger(this._element,ZB,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(KD),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Ve.trigger(this._element,oge).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($D),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])Ve.off(e,Wa);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new XB({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new KB({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=sn.findOne(vge,this._dialog);n&&(n.scrollTop=0),q1(this._element),this._element.classList.add($D);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ve.trigger(this._element,lge,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){Ve.on(this._element,dge,e=>{if(e.key===sge){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),Ve.on(window,uge,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ve.on(this._element,fge,e=>{Ve.one(this._element,cge,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(KD),this._resetAdjustments(),this._scrollBar.reset(),Ve.trigger(this._element,$B)})}_isAnimated(){return this._element.classList.contains(pge)}_triggerBackdropTransition(){if(Ve.trigger(this._element,age).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(tS)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(tS),this._queueCallback(()=>{this._element.classList.remove(tS),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){const i=ia()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&e){const i=ia()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const r=Vm.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}}Ve.on(document,hge,yge,function(t){const e=yu(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ve.one(e,ZB,i=>{i.defaultPrevented||Ve.one(e,$B,()=>{mg(this)&&this.focus()})});const n=sn.findOne(mge);n&&Vm.getInstance(n).hide(),Vm.getOrCreateInstance(e).toggle(this)});k3(Vm);la(Vm);const wge="offcanvas",Ege="bs.offcanvas",Bu=`.${Ege}`,JB=".data-api",Sge=`load${Bu}${JB}`,Age="Escape",ZD="show",JD="showing",e8="hiding",Mge="offcanvas-backdrop",e9=".offcanvas.show",bge=`show${Bu}`,Tge=`shown${Bu}`,Cge=`hide${Bu}`,t8=`hidePrevented${Bu}`,t9=`hidden${Bu}`,Pge=`resize${Bu}`,Rge=`click${Bu}${JB}`,Dge=`keydown.dismiss${Bu}`,Ige='[data-bs-toggle="offcanvas"]',Oge={backdrop:!0,keyboard:!0,scroll:!1},Lge={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class sf extends Ga{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Oge}static get DefaultType(){return Lge}static get NAME(){return wge}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Ve.trigger(this._element,bge,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new q4().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(JD);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ZD),this._element.classList.remove(JD),Ve.trigger(this._element,Tge,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||Ve.trigger(this._element,Cge).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(e8),this._backdrop.hide();const n=()=>{this._element.classList.remove(ZD,e8),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new q4().reset(),Ve.trigger(this._element,t9)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Ve.trigger(this._element,t8);return}this.hide()},n=Boolean(this._config.backdrop);return new XB({className:Mge,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new KB({trapElement:this._element})}_addEventListeners(){Ve.on(this._element,Dge,e=>{if(e.key===Age){if(!this._config.keyboard){Ve.trigger(this._element,t8);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const n=sf.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ve.on(document,Rge,Ige,function(t){const e=yu(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),rf(this))return;Ve.one(e,t9,()=>{mg(this)&&this.focus()});const n=sn.findOne(e9);n&&n!==e&&sf.getInstance(n).hide(),sf.getOrCreateInstance(e).toggle(this)});Ve.on(window,Sge,()=>{for(const t of sn.find(e9))sf.getOrCreateInstance(t).show()});Ve.on(window,Pge,()=>{for(const t of sn.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&sf.getOrCreateInstance(t).hide()});k3(sf);la(sf);const kge=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Nge=/^aria-[\w-]*$/i,zge=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Bge=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Fge=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?kge.has(n)?Boolean(zge.test(t.nodeValue)||Bge.test(t.nodeValue)):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))},n9={"*":["class","dir","id","lang","role",Nge],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Uge(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(const c of l)Fge(c,u)||o.removeAttribute(c.nodeName)}return i.body.innerHTML}const Hge="TemplateFactory",qge={allowList:n9,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vge={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Gge={entry:"(string|element|function|null)",selector:"(string|element)"};class Wge extends V1{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return qge}static get DefaultType(){return Vge}static get NAME(){return Hge}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},Gge)}_setContent(e,n,r){const i=sn.findOne(r,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(xu(n)){this._putElementInTemplate(nf(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Uge(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const jge="tooltip",Yge=new Set(["sanitize","allowList","sanitizeFn"]),nS="fade",Qge="modal",Vx="show",Xge=".tooltip-inner",n8=`.${Qge}`,r8="hide.bs.modal",C0="hover",rS="focus",Kge="click",$ge="manual",Zge="hide",Jge="hidden",e0e="show",t0e="shown",n0e="inserted",r0e="click",i0e="focusin",s0e="focusout",o0e="mouseenter",a0e="mouseleave",l0e={AUTO:"auto",TOP:"top",RIGHT:ia()?"left":"right",BOTTOM:"bottom",LEFT:ia()?"right":"left"},u0e={allowList:n9,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},c0e={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class vg extends Ga{constructor(e,n){if(typeof CB>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return u0e}static get DefaultType(){return c0e}static get NAME(){return jge}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ve.off(this._element.closest(n8),r8,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Ve.trigger(this._element,this.constructor.eventName(e0e)),r=(IB(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),Ve.trigger(this._element,this.constructor.eventName(n0e))),this._popper=this._createPopper(i),i.classList.add(Vx),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Ve.on(a,"mouseover",T2);const o=()=>{Ve.trigger(this._element,this.constructor.eventName(t0e)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ve.trigger(this._element,this.constructor.eventName(Zge)).defaultPrevented)return;if(this._getTipElement().classList.remove(Vx),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Ve.off(i,"mouseover",T2);this._activeTrigger[Kge]=!1,this._activeTrigger[rS]=!1,this._activeTrigger[C0]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ve.trigger(this._element,this.constructor.eventName(Jge)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(nS,Vx),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=Xhe(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(nS),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Wge({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Xge]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nS)}_isShown(){return this.tip&&this.tip.classList.contains(Vx)}_createPopper(e){const n=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,r=l0e[n.toUpperCase()];return n5(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")Ve.on(this._element,this.constructor.eventName(r0e),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==$ge){const r=n===C0?this.constructor.eventName(o0e):this.constructor.eventName(i0e),i=n===C0?this.constructor.eventName(a0e):this.constructor.eventName(s0e);Ve.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?rS:C0]=!0,o._enter()}),Ve.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?rS:C0]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ve.on(this._element.closest(n8),r8,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=_u.getDataAttributes(this._element);for(const r of Object.keys(n))Yge.has(r)&&delete n[r];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:nf(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=vg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}la(vg);const f0e="popover",d0e=".popover-header",h0e=".popover-body",p0e={...vg.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},m0e={...vg.DefaultType,content:"(null|string|element|function)"};class o5 extends vg{static get Default(){return p0e}static get DefaultType(){return m0e}static get NAME(){return f0e}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[d0e]:this._getTitle(),[h0e]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=o5.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}la(o5);const g0e="scrollspy",v0e="bs.scrollspy",a5=`.${v0e}`,y0e=".data-api",x0e=`activate${a5}`,i8=`click${a5}`,_0e=`load${a5}${y0e}`,w0e="dropdown-item",Up="active",E0e='[data-bs-spy="scroll"]',iS="[href]",S0e=".nav, .list-group",s8=".nav-link",A0e=".nav-item",M0e=".list-group-item",b0e=`${s8}, ${A0e} > ${s8}, ${M0e}`,T0e=".dropdown",C0e=".dropdown-toggle",P0e={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},R0e={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class B3 extends Ga{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return P0e}static get DefaultType(){return R0e}static get NAME(){return g0e}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=nf(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ve.off(this._config.target,i8),Ve.on(this._config.target,i8,iS,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),r=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(r(o),!i)return;continue}!s&&!a&&r(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=sn.find(iS,this._config.target);for(const n of e){if(!n.hash||rf(n))continue;const r=sn.findOne(n.hash,this._element);mg(r)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Up),this._activateParents(e),Ve.trigger(this._element,x0e,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(w0e)){sn.findOne(C0e,e.closest(T0e)).classList.add(Up);return}for(const n of sn.parents(e,S0e))for(const r of sn.prev(n,b0e))r.classList.add(Up)}_clearActiveClass(e){e.classList.remove(Up);const n=sn.find(`${iS}.${Up}`,e);for(const r of n)r.classList.remove(Up)}static jQueryInterface(e){return this.each(function(){const n=B3.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ve.on(window,_0e,()=>{for(const t of sn.find(E0e))B3.getOrCreateInstance(t)});la(B3);const D0e="tab",I0e="bs.tab",Ah=`.${I0e}`,O0e=`hide${Ah}`,L0e=`hidden${Ah}`,k0e=`show${Ah}`,N0e=`shown${Ah}`,z0e=`click${Ah}`,B0e=`keydown${Ah}`,F0e=`load${Ah}`,U0e="ArrowLeft",o8="ArrowRight",H0e="ArrowUp",a8="ArrowDown",Fd="active",l8="fade",sS="show",q0e="dropdown",V0e=".dropdown-toggle",G0e=".dropdown-menu",oS=":not(.dropdown-toggle)",W0e='.list-group, .nav, [role="tablist"]',j0e=".nav-item, .list-group-item",Y0e=`.nav-link${oS}, .list-group-item${oS}, [role="tab"]${oS}`,r9='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',aS=`${Y0e}, ${r9}`,Q0e=`.${Fd}[data-bs-toggle="tab"], .${Fd}[data-bs-toggle="pill"], .${Fd}[data-bs-toggle="list"]`;class Gm extends Ga{constructor(e){super(e),this._parent=this._element.closest(W0e),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ve.on(this._element,B0e,n=>this._keydown(n)))}static get NAME(){return D0e}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),r=n?Ve.trigger(n,O0e,{relatedTarget:e}):null;Ve.trigger(e,k0e,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Fd),this._activate(yu(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(sS);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Ve.trigger(e,N0e,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(l8))}_deactivate(e,n){if(!e)return;e.classList.remove(Fd),e.blur(),this._deactivate(yu(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(sS);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Ve.trigger(e,L0e,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(l8))}_keydown(e){if(![U0e,o8,H0e,a8].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=[o8,a8].includes(e.key),r=r5(this._getChildren().filter(i=>!rf(i)),e.target,n,!0);r&&(r.focus({preventScroll:!0}),Gm.getOrCreateInstance(r).show())}_getChildren(){return sn.find(aS,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=yu(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,n){const r=this._getOuterElement(e);if(!r.classList.contains(q0e))return;const i=(s,o)=>{const a=sn.findOne(s,r);a&&a.classList.toggle(o,n)};i(V0e,Fd),i(G0e,sS),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(Fd)}_getInnerElement(e){return e.matches(aS)?e:sn.findOne(aS,e)}_getOuterElement(e){return e.closest(j0e)||e}static jQueryInterface(e){return this.each(function(){const n=Gm.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ve.on(document,z0e,r9,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!rf(this)&&Gm.getOrCreateInstance(this).show()});Ve.on(window,F0e,()=>{for(const t of sn.find(Q0e))Gm.getOrCreateInstance(t)});la(Gm);const X0e="toast",K0e="bs.toast",vf=`.${K0e}`,$0e=`mouseover${vf}`,Z0e=`mouseout${vf}`,J0e=`focusin${vf}`,eve=`focusout${vf}`,tve=`hide${vf}`,nve=`hidden${vf}`,rve=`show${vf}`,ive=`shown${vf}`,sve="fade",u8="hide",Gx="show",Wx="showing",ove={animation:"boolean",autohide:"boolean",delay:"number"},ave={animation:!0,autohide:!0,delay:5e3};class F3 extends Ga{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ave}static get DefaultType(){return ove}static get NAME(){return X0e}show(){if(Ve.trigger(this._element,rve).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(sve);const n=()=>{this._element.classList.remove(Wx),Ve.trigger(this._element,ive),this._maybeScheduleHide()};this._element.classList.remove(u8),q1(this._element),this._element.classList.add(Gx,Wx),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||Ve.trigger(this._element,tve).defaultPrevented)return;const n=()=>{this._element.classList.add(u8),this._element.classList.remove(Wx,Gx),Ve.trigger(this._element,nve)};this._element.classList.add(Wx),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Gx),super.dispose()}isShown(){return this._element.classList.contains(Gx)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){Ve.on(this._element,$0e,e=>this._onInteraction(e,!0)),Ve.on(this._element,Z0e,e=>this._onInteraction(e,!1)),Ve.on(this._element,J0e,e=>this._onInteraction(e,!0)),Ve.on(this._element,eve,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=F3.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}k3(F3);la(F3);lS.createRoot(document.getElementById("root")).render(H(Sae,{children:H(x$,{children:H(Uhe,{})})}));
